!function(e){function t(t){for(var a,o,r=t[0],c=t[1],d=t[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);h.length;)h.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={9:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://otus.ru/static/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=c;s.push([3,0,40]),n()}({"+EZc":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("0JBz"),o=n.n(s),r=n("rgB7");i()(".js-partner-programs").each((function(){var e=i()(this),t=e.find(".js-pp-offers-item");e.find(".js-pp-consult-link").on("click",(function(e){e.preventDefault(),i()("html, body").animate({scrollTop:i()("#consultationOnlineForm").offset().top},500)})),t.hover((function(){i()(this).addClass("pp-offers-item_active")}),(function(){i()(this).removeClass("pp-offers-item_active")})),e.find(".js-pp-offers-swiper").each((function(){var e,n,a,s,c=this,d=(n=window.innerWidth,a=1,s=i()(c).find(".swiper-slide"),function(){var d,l,u=!1,h=(window.innerWidth-1011)/2<0?(window.innerWidth-1011)/2:0,p="pp-swiper-slide-active";window.innerWidth<=parseInt(r.ssmMd)?(d=1,l=0,u=!0,h=0,a=1,p="pp-swiper-slide-active-sm"):window.innerWidth<=parseInt(r.md)?(d=3,a=1,l=0,u=!0,t.unbind("mouseenter mouseleave")):window.innerWidth>parseInt(r.md)?(d=3,l=35,t.hover((function(){i()(this).addClass("pp-offers-item_active")}),(function(){i()(this).removeClass("pp-offers-item_active")}))):d=s.length,(Math.abs(window.innerWidth-n)>10||window.innerWidth===n)&&(e&&e.destroy(),e=new o.a(c,{direction:"horizontal",keyboardControl:!0,slidesPerView:d,spaceBetween:l,slideToClickedSlide:!0,nested:!0,loop:!1,centeredSlides:u,slidesOffsetBefore:h,initialSlide:a,slideActiveClass:p,pagination:{el:".swiper-pagination",type:"bullets",bulletClass:"pp-offers__nav-bullet",bulletActiveClass:"pp-offers__nav-bullet_active",clickable:!0}}),n=window.innerWidth)});d(),window.addEventListener("resize",d)})),e.find(".js-pp-companies-swiper").each((function(){var e,t,n,a=this,s=(t=window.innerWidth,n=i()(a).find(".swiper-slide"),function(){var i,s;window.innerWidth<=parseInt(r.ssmMd)?(i=3,s=32):window.innerWidth<=parseInt(r.md)?(i=3,s=65):window.innerWidth>parseInt(r.md)?(i=4,s=65):i=n.length,(Math.abs(window.innerWidth-t)>50||window.innerWidth===t)&&(e&&e.destroy(),e=new o.a(a,{direction:"horizontal",keyboardControl:!0,slidesPerView:i,spaceBetween:s,slideToClickedSlide:!0,nested:!0,loop:!1,slideActiveClass:"pp-swiper-slide-active",navigation:{nextEl:".pp-companies__arrow_next",prevEl:".pp-companies__arrow_prev",disabledClass:"pp-companies__arrow_disabled"},pagination:{el:".swiper-pagination",type:"bullets",bulletClass:"pp-companies__nav-bullet",bulletActiveClass:"pp-companies__nav-bullet_active",clickable:!0}}),t=window.innerWidth)});s(),window.addEventListener("resize",s)})),e.find(".js-pp-advantages-item").on("click",(function(e){i()(this).hasClass("toggle_checked")?i()(this).removeClass("toggle_checked"):(i()(".js-pp-advantages-item").removeClass("toggle_checked"),i()(this).addClass("toggle_checked"))}))}))},"/kyj":function(e,t,n){"use strict";var a=n("lwsE"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=["default","success","error","warning"],c=function(){function e(){var t=this;i()(this,e),this.fixPosition=function(){t.container.offsetTop+t.container.offsetHeight>window.innerHeight+document.documentElement.scrollTop?t.elem.style.position="fixed":t.elem.style.position="absolute"},this.close=function(){t.elem.style.opacity="0",setTimeout((function(){t.elem.parentNode===document.body&&t.container.removeChild(t.elem)}),500),window.removeEventListener("scroll",t.fixPosition)}}return o()(e,[{key:"show",value:function(e){var t=e.type,n=e.text,a=e.timeout,i=e.className,s=e.container;-1===r.indexOf(t)&&(t="default"),this.container=s||document.body,this.elem=document.createElement("div"),this.elem.className="notification-lib notification-lib_".concat(t," ").concat(i),this.elem.innerHTML=n,this.closeElem=document.createElement("div"),this.closeElem.className="notification-lib__close ic ic-close-bold",this.elem.appendChild(this.closeElem),this.closeElem.addEventListener("click",this.close),window.addEventListener("scroll",this.fixPosition),this.container.appendChild(this.elem),this.fixPosition(),a&&setTimeout(this.close,a)}},{key:"success",value:function(e){this.show(Object.assign(e,{type:"success"}))}},{key:"error",value:function(e){this.show(Object.assign(e,{type:"error"}))}},{key:"warning",value:function(e){this.show(Object.assign(e,{type:"warning"}))}}],[{key:"create",value:function(){return new e}}]),e}();t.a={success:function(){var e;return(e=c.create()).success.apply(e,arguments)},error:function(){var e;return(e=c.create()).error.apply(e,arguments)},warning:function(){var e;return(e=c.create()).warning.apply(e,arguments)},show:function(){var e;return(e=c.create()).show.apply(e,arguments)}}},"/nfk":function(e,t,n){"use strict";var a,i,s=n("EVdn"),o=n.n(s),r=n("S/a7");a=function(){return!0},i={equal:function(e,t){return e===t},bad:function(){return!1}},o()(document).on("submit",".js-extend-form-with-modal",(function(e){var t=o()(this),n=JSON.parse(t.attr("data-modals")||"{}"),s=t.serializeArray(),c=Object.keys(n).find((function(e){return n[e].every((function(e){var t=e.check,n=e.name,o=e.value;return s.find((function(e){return e.name===n&&(i[t]||a)(o,e.value)}))}))}));if(c){e.preventDefault(),e.stopPropagation();var d=r.a.getModal(c),l=t.attr("data-rewrite-form-extending");l&&o()(d).find(".js-modal-extending-form").attr("data-form-extending",l),r.a.open(d)}})),o()(".js-modal-extending-form").on("submit",(function(e){var t=o()(this),n=o()(t.attr("data-form-extending"));t.find(".js-save-initial-form-fields").remove();var a=document.createElement("div");a.style.display="none",a.classList.add("js-save-initial-form-fields"),n.serializeArray().forEach((function(e){var t=document.createElement("input");t.name=e.name,t.type="checkbox",t.value=e.value,t.checked=!0,a.appendChild(t)})),t.append(a),["action","method"].forEach((function(e){t.attr(e,n.attr(e))}))}))},0:function(e,t){},"08k6":function(e,t,n){"use strict";var a,i,s=n("EVdn"),o=n.n(s),r=n("Mm9G"),c=n("jyKj"),d=(n("IdN3"),n("lwsE")),l=n.n(d),u=n("W8MJ"),h=n.n(u),p=n("MVZn"),f=n.n(p),m=n("QILm"),v=n.n(m),g=n("lSNA"),b=n.n(g),y=n("7W2i"),w=n.n(y),j=n("a1gu"),k=n.n(j),_=n("Nsbk"),C=n.n(_),x={Yandex:"Yandex",TinkoffCredit:"TinkoffCredit",TinkoffPay:"TinkoffPay",Qiwi:"Qiwi",CR:"CR",pb:"pb",PosCredit:"poscred"},E="Full",S="Step",T="Month",P="Residual",O="Admin",A=(a={},b()(a,x.pb,"pb"),b()(a,x.Yandex,"yandex"),b()(a,x.TinkoffCredit,"tinkoff"),b()(a,x.TinkoffPay,"tinpay"),b()(a,x.Qiwi,"qiwi"),b()(a,x.CR,"CR"),b()(a,x.PosCredit,"poscred"),a),B=(i={},b()(i,E,"full"),b()(i,S,"step"),b()(i,T,"month"),b()(i,O,"test"),b()(i,P,"residual"),i),L="SelectPaymentBroker",M="SelectPaymentType",q=["type"];function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var I=new(function(e){w()(n,e);var t=N(n);function n(){var e,a;return l()(this,n),(a=t.call(this)).selectedBroker=null,a.selectedType=null,a.allowedBrokersByTypes=(e={},b()(e,E,[x.Yandex,x.Qiwi,x.TinkoffCredit,x.TinkoffPay,x.CR,x.pb,x.PosCredit]),b()(e,S,[x.Yandex,x.Qiwi,x.TinkoffPay]),b()(e,T,[x.Yandex,x.Qiwi,x.TinkoffPay]),b()(e,O,[x.Yandex]),b()(e,P,[x.Yandex,x.Qiwi,x.TinkoffPay]),e),a}return h()(n,[{key:"isPaymentBrokerAllowed",value:function(e){var t=e.broker;return null===t||!this.selectedType||(this.allowedBrokersByTypes[this.selectedType]||[]).includes(t)}},{key:"selectPaymentBroker",value:function(e){var t=e.broker;this.isPaymentBrokerAllowed({broker:t})&&(this.selectedBroker=t,this.dispatchEvent({event:L,data:{broker:t}}))}},{key:"selectPaymentType",value:function(e){var t=e.type,n=v()(e,q);this.selectPaymentBroker({broker:null}),this.selectedType=t,this.dispatchEvent({event:M,data:f()({type:t},n)})}}]),n}(function(){function e(){l()(this,e),this.subscribers={}}return h()(e,[{key:"subscribe",value:function(e){var t=e.event,n=e.callback;return this.subscribers[t]=this.subscribers[t]||[],this.subscribers[t].push(n),this}},{key:"unsubscribe",value:function(e){var t=e.event,n=e.callback,a=this.subscribers[t]||[];return this.subscribers[t]=a.filter((function(e){return e===n})),this}},{key:"dispatchEvent",value:function(e){var t=e.event,n=e.data;return(this.subscribers[t]||[]).forEach((function(e){e({event:t,data:n})})),this}}]),e}())),D=function(){function e(t){var n=t.cardEl;l()(this,e),this.cardEl=n,this.brokerType=this.cardEl.getAttribute("data-broker-type"),this.brokerType||console.warn("No broker type for card provided: ",this.cardEl),this.selectedClass="payment2-broker-card_selected",this.selected=!1,this.disabledClass="payment2-broker-card_disabled",this.disabled=!1,this.bindFuncs(),this.initEvents(),this.render()}return h()(e,[{key:"initEvents",value:function(){this.cardEl.addEventListener("click",this.onBrokerCardSelectClick),I.subscribe({event:L,callback:this.onBrokerCardSelected}),I.subscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"bindFuncs",value:function(){this.onBrokerCardSelectClick=this.onBrokerCardSelectClick.bind(this),this.onBrokerCardSelected=this.onBrokerCardSelected.bind(this),this.onPaymentTypeSelected=this.onPaymentTypeSelected.bind(this)}},{key:"destruct",value:function(){this.cardEl.removeEventListener("click",this.onBrokerCardSelectClick),I.unsubscribe({event:L,callback:this.onBrokerCardSelected}),I.unsubscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"onPaymentTypeSelected",value:function(){this.render()}},{key:"checkDisabled",value:function(){this.disabled=!I.selectedType||!I.isPaymentBrokerAllowed({broker:this.brokerType})}},{key:"onBrokerCardSelected",value:function(e){var t=e.data.broker;this.selected=t===this.brokerType,this.render()}},{key:"onBrokerCardSelectClick",value:function(){this.disabled||I.selectPaymentBroker({broker:this.brokerType})}},{key:"render",value:function(){this.checkDisabled(),this.selected?this.cardEl.classList.add(this.selectedClass):this.cardEl.classList.remove(this.selectedClass),this.disabled?this.cardEl.classList.add(this.disabledClass):this.cardEl.classList.remove(this.disabledClass)}}]),e}(),V=function(){function e(t){var n=t.rowEl,a=t.scrollable;l()(this,e),this.rowEl=n,this.paymentBrokerCards=[],this.paymentBrokerSelected=!1,this.scrollable=a,this.selectedClass="payment2-broker-card__row_selected",this.bindFuncs(),this.initEvents(),this.initPaymentBrokerCards()}return h()(e,[{key:"initPaymentBrokerCards",value:function(){var e=Array.from(this.rowEl.getElementsByClassName("js-payment-broker-card"));this.paymentBrokerCards=e.map((function(e){return new D({cardEl:e})}))}},{key:"bindFuncs",value:function(){this.onPaymentBrokerSelected=this.onPaymentBrokerSelected.bind(this),this.scrollToBroker=this.scrollToBroker.bind(this)}},{key:"initEvents",value:function(){I.subscribe({event:L,callback:this.onPaymentBrokerSelected}),this.scrollable&&I.subscribe({event:M,callback:this.scrollToBroker})}},{key:"destruct",value:function(){this.paymentBrokerCards.forEach((function(e){e.destruct()})),I.unsubscribe({event:L,callback:this.onPaymentBrokerSelected})}},{key:"onPaymentBrokerSelected",value:function(e){var t=e.data;this.paymentBrokerSelected=null!==t.broker,this.render()}},{key:"scrollToBroker",value:function(){var e=Date.now(),t=document.documentElement.scrollTop||document.body.scrollTop,n=this.rowEl.getBoundingClientRect().top+(document.documentElement.scrollTop||document.body.scrollTop)-150;requestAnimationFrame((function a(){var i=(Date.now()-e)/300;i=Math.min(i,1),document.documentElement.scrollTop=t+(n-t)*i,document.body.scrollTop=t+(n-t)*i,i<1&&requestAnimationFrame(a)}))}},{key:"render",value:function(){!0===this.paymentBrokerSelected?this.rowEl.classList.add(this.selectedClass):this.rowEl.classList.remove(this.selectedClass)}}]),e}(),R=function(){function e(t){var n=t.cardEl;l()(this,e),this.cardEl=n,this.paymentType=this.cardEl.getAttribute("data-payment-type"),this.paymentType||console.warn("No payment type for card provided"),this.selected=!1,this.selectedClass="payment2-pay-card_selected",this.bindFuncs(),this.initEvents()}return h()(e,[{key:"bindFuncs",value:function(){this.onPaymentTypeSelectClick=this.onPaymentTypeSelectClick.bind(this),this.onPaymentTypeSelected=this.onPaymentTypeSelected.bind(this)}},{key:"initEvents",value:function(){this.cardEl.addEventListener("click",this.onPaymentTypeSelectClick),I.subscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"destruct",value:function(){this.cardEl.removeEventListener("click",this.onPaymentTypeSelectClick),I.unsubscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"onPaymentTypeSelectClick",value:function(){I.selectPaymentType({type:this.paymentType,cardEl:this.cardEl})}},{key:"onPaymentTypeSelected",value:function(e){var t=e.data.type;this.selected=t===this.paymentType,this.render()}},{key:"render",value:function(){!0===this.selected?this.cardEl.classList.add(this.selectedClass):this.cardEl.classList.remove(this.selectedClass)}}]),e}(),z=function(){function e(t){var n=t.rowEl,a=t.infoEl;l()(this,e),this.rowEl=n,this.infoEl=a,this.paymentTypeCards=[],this.paymentTypeSelected=!1,this.selectedClass="payment2-pay-card__row_selected",this.defaultInfo=Array.from(this.infoEl.getElementsByClassName("js-payment-info-default"))[0],this.monthInfo=Array.from(this.infoEl.getElementsByClassName("js-payment-info-month"))[0],this.bindFuncs(),this.initEvents(),this.initPaymentTypeCards()}return h()(e,[{key:"initPaymentTypeCards",value:function(){var e=Array.from(this.rowEl.getElementsByClassName("js-payment-type-card"));this.paymentTypeCards=e.map((function(e){return new R({cardEl:e})}))}},{key:"bindFuncs",value:function(){this.onPaymentTypeSelected=this.onPaymentTypeSelected.bind(this)}},{key:"initEvents",value:function(){I.subscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"destruct",value:function(){this.paymentTypeCards.forEach((function(e){e.destruct()})),I.unsubscribe({event:M,callback:this.onPaymentTypeSelected})}},{key:"onPaymentTypeSelected",value:function(e){var t=e.data;this.paymentTypeSelected=!0,this.render(),this.scrollPaymentCards(t)}},{key:"scrollPaymentCards",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cardEl,a=void 0===n?null:n;if(a){var i=Date.now(),s=300,o=this.rowEl.scrollLeft;this.rowEl.scrollLeft=a.offsetLeft;var r=this.rowEl.scrollLeft,c=function t(){var n=(Date.now()-i)/s;n=Math.min(n,1),e.rowEl.scrollLeft=o+(r-o)*n,n<1&&requestAnimationFrame(t)};requestAnimationFrame(c)}}},{key:"render",value:function(){!0===this.paymentTypeSelected?this.rowEl.classList.add(this.selectedClass):this.rowEl.classList.remove(this.selectedClass),I.selectedType===T?(this.defaultInfo.classList.add("hide"),this.monthInfo&&this.monthInfo.classList.remove("hide")):(this.defaultInfo.classList.remove("hide"),this.monthInfo&&this.monthInfo.classList.add("hide"))}}]),e}(),W=function(){function e(t){var n=t.formEl,a=t.scrollable;l()(this,e),this.formEl=n,this.scrollable=a,this.paymentBrokerEl=Array.from(this.formEl.getElementsByClassName("js-payment-form-broker"))[0],this.paymentBrokerEl||console.warn("No payment broker element found"),this.paymentTypeEl=Array.from(this.formEl.getElementsByClassName("js-payment-form-type"))[0],this.paymentTypeEl||console.warn("No payment type element found"),this.prices={},this.initPrices(),this.initPriceElements(),this.bindFuncs(),this.initEvents(),this.render()}return h()(e,[{key:"bindFuncs",value:function(){this.render=this.render.bind(this),this.scrollToPayment=this.scrollToPayment.bind(this)}},{key:"initEvents",value:function(){I.subscribe({event:M,callback:this.render}),I.subscribe({event:L,callback:this.render}),this.scrollable&&I.subscribe({event:L,callback:this.scrollToPayment})}},{key:"scrollToPayment",value:function(){if(I.selectedBroker&&I.selectedType){var e="center";window.matchMedia("(max-width: 768px)").matches&&(e="end"),this.submitButton.scrollIntoView({behavior:"smooth",block:e}),this.submitCreditButton.scrollIntoView({behavior:"smooth",block:e})}}},{key:"scrollToPaymentType",value:function(){I.selectedType||window.scrollTo({top:0,behavior:"smooth"})}},{key:"initPrices",value:function(){var e=this;[{type:E,toProp:"full",attrName:"data-payment-full-full"},{type:E,toProp:"discount",attrName:"data-payment-full-discount"},{type:E,toProp:"total",attrName:"data-payment-full-total"},{type:S,toProp:"full",attrName:"data-payment-step-full"},{type:S,toProp:"discount",attrName:"data-payment-step-discount"},{type:S,toProp:"total",attrName:"data-payment-step-total"},{type:T,toProp:"full",attrName:"data-payment-month-full"},{type:T,toProp:"discount",attrName:"data-payment-month-discount"},{type:T,toProp:"total",attrName:"data-payment-month-total"},{type:O,toProp:"full",attrName:"data-payment-admin-full"},{type:O,toProp:"total",attrName:"data-payment-admin-total"},{type:P,toProp:"full",attrName:"data-payment-residual-full"},{type:P,toProp:"discount",attrName:"data-payment-residual-discount"},{type:P,toProp:"total",attrName:"data-payment-residual-total"}].forEach((function(t){e.initPrice(t)}))}},{key:"initPrice",value:function(e){var t=e.type,n=e.toProp,a=e.attrName;this.prices[t]=this.prices[t]||{},this.prices[t][n]=this.formEl.getAttribute(a)}},{key:"initPriceElements",value:function(){this.priceValueEl=Array.from(this.formEl.getElementsByClassName("js-price-value"))[0],this.discountEl=Array.from(this.formEl.getElementsByClassName("js-discount"))[0],this.discountValueEl=Array.from(this.formEl.getElementsByClassName("js-discount-value"))[0],this.priceTotalValueEl=Array.from(this.formEl.getElementsByClassName("js-price-total"))[0],this.submitButton=Array.from(this.formEl.getElementsByClassName("js-pay-submit"))[0],this.submitCreditButton=Array.from(this.formEl.getElementsByClassName("js-pay-submit-credit"))[0],this.priceFieldsEl=Array.from(this.formEl.getElementsByClassName("js-payment2-promo-total-fields"))[0],this.priceFieldsEl||console.warn("No price fields element found")}},{key:"render",value:function(){var e=I.selectedBroker&&I.selectedType,t=I.selectedBroker,n=I.selectedType;if(n){this.priceFieldsEl.classList.remove("transparent"),t&&this.paymentBrokerEl&&(this.paymentBrokerEl.value=A[t]),n&&this.paymentTypeEl&&(this.paymentTypeEl.value=B[n]);var a=this.prices[n];if(!n||!a)throw this.formEl.classList.add("transparent"),Error("No price declared");this.priceValueEl&&(this.priceValueEl.innerText=a.full),this.discountEl&&(this.discountValueEl&&a.discount?(this.discountValueEl.innerText=a.discount,this.discountEl.classList.remove("hide")):this.discountEl.classList.add("hide")),this.priceTotalValueEl&&(this.priceTotalValueEl.innerText=a.total)}else this.priceFieldsEl.classList.add("transparent"),this.scrollable&&this.scrollToPaymentType();[x.CR,x.TinkoffCredit,x.pb,x.PosCredit].includes(t)?(this.submitButton.classList.add("hide"),this.submitCreditButton.classList.remove("hide")):(this.submitCreditButton.classList.add("hide"),this.submitButton.classList.remove("hide")),this.submitButton.disabled=!e,this.submitCreditButton.disabled=!e}}]),e}(),J={},F=function(){function e(t){var n=t.textEl;l()(this,e),this.titleEl=Array.from(n.getElementsByClassName("js-payment-broker-text-title"))[0],this.titleEl||console.warn("No title element for payment broker text block"),this.contentEl=Array.from(n.getElementsByClassName("js-payment-broker-text-content"))[0],this.contentEl||console.warn("No content element for payment broker text block"),this.bindFuncs(),this.initEvents(),this.render()}return h()(e,[{key:"bindFuncs",value:function(){this.render=this.render.bind(this)}},{key:"initEvents",value:function(){I.subscribe({event:L,callback:this.render})}},{key:"destruct",value:function(){I.unsubscribe({event:L,callback:this.render})}},{key:"render",value:function(){var e=I.selectedBroker,t=J[e]||{},n=t.title||"",a=t.content||"";this.titleEl.innerText=n,this.contentEl.innerHTML=a}}]),e}(),H=function(){function e(t){var n=t.pageEl;l()(this,e),this.page=n,this.paymentTypeRow=null,this.paymentBrokerRow=null,this.paymentForm=null,this.paymentBrokerText=null,this.scrollable="true"===this.page.getAttribute("data-scrollable"),this.initPaymentRows(),this.initPaymentForm(),this.initPaymentBrokerTexts()}return h()(e,[{key:"initPaymentRows",value:function(){var e=Array.from(this.page.getElementsByClassName("js-payment-broker-row"))[0];e&&(this.paymentBrokerRow=new V({rowEl:e,scrollable:this.scrollable}));var t=Array.from(this.page.getElementsByClassName("js-payment-type-row"))[0],n=Array.from(this.page.getElementsByClassName("js-payment-info"))[0];t&&(this.paymentTypeRow=new z({rowEl:t,infoEl:n}))}},{key:"initPaymentForm",value:function(){var e=Array.from(this.page.getElementsByClassName("js-payment-form"))[0];e&&(this.paymentForm=new W({formEl:e,scrollable:this.scrollable}))}},{key:"initPaymentBrokerTexts",value:function(){var e=Array.from(this.page.getElementsByClassName("js-payment-broker-text"))[0];e&&(this.paymentBrokerText=new F({textEl:e}))}},{key:"destruct",value:function(){this.paymentTypeRow&&this.paymentTypeRow.destruct(),this.paymentBrokerRow&&this.paymentBrokerRow.destruct(),this.paymentForm&&this.paymentForm.destruct(),this.paymentBrokerText&&this.paymentBrokerText.destruct()}}]),e}(),U=n("a9sj");n("ZP7H");o()(".js-payform").each((function(){var e=o()(this).find(".js-stopwatch"),t=o()(this).find(".js-form"),n=5,a=setInterval((function(){n-=1,e.html("".concat(n," ").concat(Object(c.h)(n,"секунду","секунды","секунд"))),n<=0&&(clearInterval(a),r.a.sendBulk([{type:"ga",args:["send","event","Payment","success","",{transport:"beacon",hitCallback:function(){t.submit()}}]},{type:"vk-pixel",events:["purchase"]}]))}),1e3);o()(".js-form").on("submit",(function(){r.a.send({type:"vk-pixel",events:["purchase"]})}))}));var G=null;o()(".js-payment2").each((function(){G=new H({pageEl:this})})),o()(".js-promocode-form").each((function(){o()(".payment2-promo-form__button").click((function(e){e.preventDefault();var t=o()(this).data("url"),n=o()('input[name="code"]'),a=o()('form[id="promo"]'),i=o()(".js-payment-form");return n.val()?o.a.ajax({type:"POST",url:t,data:U.a.update({code:n.val()})}).fail((function(){a.has(".js-promo-accept").length&&o()(".js-promo-accept").remove(),a.has(".js-promo-fail").length||a.append('<p class="payment2-promo-form__info payment2-promo-form__info_error js-promo-fail">\n                             Промокод не найден.\n                             </p>')})).done((function(e){var t=e.data.payments;a.has(".js-promo-fail").length&&o()(".js-promo-fail").remove(),a.has(".js-promo-accept").length||a.append('<p class="payment2-promo-form__info payment2-promo-form__info_accept js-promo-accept">Промокод успешно применен.</p>'),o.a.each(t,(function(e,t){i.attr("".concat(e),"".concat(t," руб."))})),o.a.each(o()(".js-payment-type-card"),(function(e,n){"Full"===o()(n).data("payment-type")?o()(n).find(".js-payment-card-price").text(t["data-payment-full-total"]):"Month"===o()(n).data("payment-type")?o()(n).find(".js-payment-card-price").text(t["data-payment-month-total"]):"Step"===o()(n).data("payment-type")&&o()(n).find(".js-payment-card-price").text(t["data-payment-step-total"])})),G.initPaymentForm()})):n.checkValidity(),!1}))})),o()(".js-process-poscredit").each((function(){var e=o()(this),t=new FormData(this),n=t.get("accessID"),a=JSON.parse(t.get("order")),i=null;window.poscreditSaveProfile=function(e){i=e},window.poscreditCheckStatus=function(t){e.append('<input name="profile_id" type="text" hidden value="'.concat(i,'">')),e.append('<input name="status" type="text" hidden value="'.concat(t,'">')),e.submit()},poscreditServices("creditProcess",n,a,(function(e){console.warn(e),!1===e.success&&alert("Произошла ошибка запуска калькулятора. Попробуйте позднее...")}))}))},"17je":function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=(n("s5l5"),n("/kyj")),l=n("a9sj"),u=n("FT4H");c()(".js-settings").each((function(){var e=c()(this);function t(){e.find('.js-notification[data-via="push"]').each((function(){Object(u.c)()||c()(this).prop("checked",!1),Object(u.b)()&&c()(this).prop("disabled",!0)}))}t(),e.on("change",".js-notification",o()(i.a.mark((function n(){var a,s,o,r,h,p,f=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=c()(this).attr("data-via"),s=c()(this).attr("data-group"),o=c()(this).attr("data-content-type"),r=c()(this).attr("data-object"),"push"!==a){n.next=12;break}return c()(this).prop("disabled",!0),n.next=8,Object(u.d)();case 8:if(h=n.sent,t(),h){n.next=12;break}return n.abrupt("return",!1);case 12:p=s?{enable:c()(this).prop("checked"),group:s}:{enable:c()(this).prop("checked"),event:c()(this).attr("data-event"),content_type:o,object:r,via:a},c.a.ajax({method:"post",data:l.a.update(p),beforeSend:function(){return c()(f).prop("disabled",!0)},complete:function(){return c()(f).prop("disabled",!1)},success:function(){if(s){var t=e.find(".js-notification-items-".concat(s));c()(f).prop("checked")?t.removeClass("hide"):t.addClass("hide"),c()('.js-notification[data-event="main:news"]').prop("checked",c()(f).prop("checked"))}d.a.success({text:"Настройки обновлены",timeout:2e3})}});case 14:case"end":return n.stop()}}),n,this)}))))}))},"23Vx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("EVdn"),i=n.n(a),s=n("dCQj");function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&e.startsWith("#")?t=i()(e):e instanceof i.a?t=e:i()(this).attr("href")&&i()(this).attr("href").startsWith("#")&&(t=i()(i()(this).attr("href"))),t&&t.length>0&&(e.preventDefault&&e.preventDefault(),i.a.smoothScroll(n,s.a.body.scrollTop()+i()(t).offset().top))}i()(".nav").not(".nav_disable").each((function(){var e=i()(this),t=i()(e).clone();t.addClass("nav_fixed").hide(),t.insertAfter(e),s.a.document.on("scroll",(function(){s.a.document.scrollTop()>e.position().top?t.show():t.hide()}))})),i()(document).on("click",".nav__item",o).on("click",".js-nav-item",o)},"2juj":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".deep-posts").each((function(){var e,t,n,a,s=i()(this),o=function(e){var t=i()(e),n=t.find(".js-deep-post-content");switch(n.attr("data-type")){case"vk":var a=setInterval((function(){window.VK&&VK.Widgets&&VK.Widgets.Post&&(clearInterval(a),VK.Widgets.Post(n.attr("id"),n.attr("data-owner-id"),n.attr("data-post-id"),n.attr("data-hash")),t.removeClass("hide"))}),100);break;case"fb":var s=setInterval((function(){window.FB&&FB.XFBML&&FB.XFBML.parse&&(clearInterval(s),n.addClass("fb-post"),n.attr("data-width",t.width()),FB.XFBML.parse(t.get(0),(function(){t.removeClass("hide")})))}),100)}};i()(window).on("scroll",(e=0,t=!1,n=!1,a=null,function(){var r=i()(window).scrollTop();s.height()-i()(window).height()-r>100||t||n||null!==a&&(new Date).getTime()-a<2e3||(a=(new Date).getTime(),t=!0,e+=5,i.a.ajax({url:s.attr("data-url"),data:{offset:e,onlyPosts:!0},complete:function(){t=!1},success:function(e){e=i()(e),s.append(e),e.each((function(){o(this)}))},error:function(){n=!0}}))})),i()(this).find(".js-deep-post").each((function(){o(this)}))}))},"2tFQ":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-formset").each((function(){var e=i()(this),t=e.find(".js-formset-items"),n=e.attr("data-prefix"),a=i()(e.find(".js-formset-empty").html());e.on("click",".js-formset-delete",(function(){var e=i()(this).parents(".js-formset-row"),t=e.attr("data-num");e.find("input, textarea").each((function(){i()(this).prop("required",!1)})),e.addClass("hide"),e.append(i()("<input/>",{type:"hidden",name:"".concat(n,"-").concat(t,"-DELETE"),value:"on"}))})),e.on("click",".js-formset-add",(function(s){var o=e.find('[name="'.concat(n,'-TOTAL_FORMS"]')),r=parseInt(o.val());s.preventDefault();var c=a.clone().removeClass("hide").removeClass("js-formset-row-empty").attr("data-num",r);c.find("[name]").each((function(){var e=i()(this).attr("name")||"",t=i()(this).attr("id")||"";i()(this).attr("name",e.replace("__prefix__",r)),i()(this).attr("id",t.replace("__prefix__",r))})),c.find("[data-prefix]").each((function(){i()(this).attr("data-prefix",i()(this).attr("data-prefix").replace("__prefix__",r))})),c.appendTo(t),o.val(r+1),c[0].dispatchEvent(new CustomEvent("formset-row-added",{bubbles:!0}))}))}))},3:function(e,t,n){n("j36g"),e.exports=n("tRoj")},"3FHO":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=(n("QBfi"),n("MRYf"),n("3WF5")),o=n.n(s);i()(".js-tags").each((function(){var e=i()(this);e.tagsInput({width:"auto",interactive:!0,autocomplete_url:!0,autocomplete:{source:function(t,n){var a=t.term;i.a.getJSON(e.attr("data-url"),{q:a},(function(e){var t=e.data;n(o()(t,(function(e){e.id;var t=e.title;return{label:t,value:t}})))}))}},onAddTag:function(){e.siblings(".tagsinput").find('span.tag a[href="#"]').addClass("ic ic-close-white")},defaultText:"",removeWithBackspace:!1,height:"auto"})}))},"4Jst":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("/kyj");i()(".js-skills-check").each((function(e){i()(".js-submit-check").on("click",(function(e){var t=i()(".js-operating-system"),n=i()(".js-development-instruments"),a=i()("[name=technologies-0-programming_language]");0===t.find(".js-custom-choice-picked").length&&0===n.find(".js-custom-choice-picked").length&&""===a.val()&&(e.preventDefault(),s.a.error({text:"Заполните хотя бы одно из полей: язык программирования, операционная система, инструмент, доп. навык",timeout:2e3}))}))}))},"5XJW":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-select").each((function(){var e=i()(this).find(".select__title"),t=i()(this).find("option:selected").html();e.html(t),i()(this).find("select").on("change",(function(){var t=i()(this).find("option:selected").html();e.html(t)}))}))},"8A/k":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("Ec+9");i()(".js-price-list").each((function(){var e=i()(this);e.find(".js-price-info").each((function(){i()(this).tooltip({value:i()(this).data("text"),position:i()(this).data("direction")||"top",width:"200px"}),i()(this).mouseover((function(){e.find(".js-price-list-nav").css("z-index",0)})),i()(this).mouseleave((function(){e.find(".js-price-list-nav").css("z-index",5)}))}))})),i()(".js-legal").each((function(){var e=i()(this);Object(s.a)(e)}))},"8ghW":function(e,t,n){"use strict";var a=n("RIqP"),i=n.n(a),s=n("EVdn"),o=n.n(s),r=(n("iRix"),n("R5z4")),c=n("S/a7"),d=n("0JBz"),l=n.n(d),u=n("rgB7"),h=n("Mm9G");o()(".js-preparatory").each((function(e,t){var n=o()(t);n.find(".js-preparatory-payment-link").on("click",(function(e){e.preventDefault(),o()("html, body").animate({scrollTop:o()(".js-preparatory-payment").offset().top},500)})),n.find(".js-swiper-preparatory-teachers").each((function(){new l.a(this,{direction:"horizontal",autoHeight:!0,loop:!0,keyboardControl:!0,slidesPerView:1,spaceBetween:200,speed:700,pagination:{el:".js-swiper-ctf-speaker-pagination",type:"bullets",clickable:!0,bulletClass:"preparatory-teachers-swiper__bullet",bulletActiveClass:"preparatory-teachers-swiper__bullet_active"},navigation:{nextEl:".js-swiper-ctf-speaker-next",prevEl:".js-swiper-ctf-speaker-prev"},slideClass:"js-swiper-ctf-speaker-slide",wrapperClass:"js-swiper-ctf-speaker-wrapper"})})),n.find(".js-preparatory-consult-link").on("click",(function(e){e.preventDefault(),o()("html, body").animate({scrollTop:o()(".js-preparatory-consult").offset().top},500)})),n.find(".js-preparatory-program-item").on("click",(function(e){if(o()(this).hasClass("toggle_checked"))o()(this).removeClass("toggle_checked");else{var t=[];if(o()(this).is("[data-goal]")&&t.push({type:"ya",method:"reachGoal",goal:o()(this).attr("data-goal")}),o()(this).is("[data-event]")){var n=o()(this).attr("data-event").split(";"),a=(o()(this).attr("data-event-dimensions")||"").split(";");t.push({type:"ga",dimensions:a,args:["send","event"].concat(i()(n))})}t.length&&h.a.sendBulk(t),o()(this).data("item-open")||o()(".js-preparatory-program-item").removeClass("toggle_checked"),o()(this).addClass("toggle_checked")}})),n.find(".js-preparatory-other-swiper").each((function(){var e,t,n,a=this,i=(n=o()(a).find(".swiper-slide"),function(){var i,s;window.innerWidth<=u.ssmMd?(i=1,s=0):window.innerWidth<=u.md?(i=2,s=30):n.length>=3?(i=3,s=32):i=n.length,i!==t&&(e&&e.destroy(),e=new l.a(a,{direction:"horizontal",keyboardControl:!0,slidesPerView:i,spaceBetween:s,nested:!0,loop:!1,clickable:!0,navigation:{nextEl:".preparatory-other__arrow_next",prevEl:".preparatory-other__arrow_prev"},pagination:{el:".swiper-pagination",type:"bullets",bulletClass:"preparatory-other__bullet",bulletActiveClass:"preparatory-other__bullet_active",clickable:!0}}),t=i)});i(),window.addEventListener("resize",i)})),n.find(".js-preparatory-payment-button").click((function(e){e.preventDefault();var t=c.a.getModal("new-log-reg"),n=o()(this).data("online-course-id"),a=t.attr("data-query");a&&((a=JSON.parse(a)).online_course_id=n,t.attr("data-query",JSON.stringify(a))),c.a.open(t)})),Object(r.a)(n)}))},"9PHp":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("/kyj");function o(e){return""===e.val()||null===e.val()}i()(".js-edu-page").each((function(e){i()(".js-edu-submit-check").on("click",(function(e){var t=0,n=i()(".js-high-school-set").first(),a=n.find(".js-high-school"),r=i()(".js-add-edu-set").first().find(".js-add-education").first(),c=n.find(".js-faculty"),d=n.find(".js-end-year").find("input");0===i()(".js-graduate").length?(o(a)||o(d)||o(c))&&o(r)&&(e.preventDefault(),s.a.error({text:"Заполните хотя бы одно из полей: Образование или Дополнительное образование",timeout:2e3})):(i()(".js-education").each((function(){i()(this).find(".js-show-cert-to-empl").is(":checked")&&i()(this).find(".js-graduate").length>0&&(t=1)})),0===t&&(o(a)||o(d)||o(c))&&o(r)&&(e.preventDefault(),s.a.error({text:"Заполните хотя бы одно из полей: Образование или Дополнительное образование, или сделайте видимым один из законченных Вами курсов Отуса",timeout:2e3})))}))}))},"9UjW":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(document).on("change",".js-form-submit",(function(e){i()(this).closest("form").submit()}))},"9w+T":function(e,t,n){"use strict";var a=n("J4zp"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=n("lwsE"),c=n.n(r);(new(o()((function e(){var t=this;return c()(this,e),this.targetClass="js-overflow",this.acceptedEvents=["mouseover"],this.area=1e4,this.init=function(){t._inited||(t._inited=!0,t.initEvents())},this.initEvents=function(){t.acceptedEvents.forEach((function(e){document.addEventListener(e,t)}))},this.stopListening=function(){t.acceptedEvents.forEach((function(e){document.removeEventListener(e,t)}))},this.handleEvent=function(e){var n=e.target;if(n.classList.contains(t.targetClass)){var a=n.getAttribute("data-overflow-event");t.acceptedEvents.includes(a)?a===e.type&&t.processEvent(e):console.warn("Event is not accepted: ".concat(a,". Possible events are: ").concat(t.acceptedEvents.join(", "),"."))}},this.processEvent=function(e){var n=e.target,a=n.getAttribute("data-overflow-select");if(a){var i=Array.from(document.querySelectorAll(a)).map(t.generateElementApply).map((function(e){return e()}));if("mouseover"===e.type){var s=function(e){e.target===e.currentTarget&&e.stopPropagation()};n.addEventListener("mouseover",s),document.addEventListener("mouseover",(function(){i.forEach((function(e){return e()})),n.removeEventListener("mouseover",s)}),{once:!0})}}else console.warn("Need to specify data-overflow-select attribute to understand which containers should be overflowed. Element: ",n)},this.generateElementApply=function(e){var n=e.style,a=window.getComputedStyle(e),s=["paddingTop","marginTop","paddingBottom","marginBottom","backgroundClip"],o=s.reduce((function(e,t){return e[t]=n[t],e}),{});return function(){var n=s.reduce((function(e,t){return e[t]=a[t],e}),{});return e.style.paddingTop=parseInt(n.paddingTop)+t.area+"px",e.style.marginTop=parseInt(n.marginTop)-t.area+"px",e.style.paddingBottom=parseInt(n.paddingBottom)+t.area+"px",e.style.marginBottom=parseInt(n.marginBottom)-t.area+"px",e.style.backgroundClip="content-box",function(){Object.entries(o).forEach((function(t){var n=i()(t,2),a=n[0],s=n[1];e.style[a]=s}))}}},this._inited=!1,this.singleton=this,this.singleton})))).init()},"AD/S":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-expand").each((function(){var e=i()(this);e.on("click",".expand__title",(function(){e.find(".expand__content").toggleClass("expand__content_show")}))}))},AMqi:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"n",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"o",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return y}));var a=n("bNQv"),i=n.n(a);function s(e,t){var n={};return e=e||{},t=t||{},i()(e,(function(e,a){e!==t[a]&&(Array.isArray(e)&&Array.isArray(t[a])&&e.length===t[a].length&&!e.find((function(e,n){var i=t[a][n];if(!i)return!0;var o=s(e,i);return Object.keys(o).length>0}))||(n[a]=e))})),n}function o(e){for(var t=e.toDataURL(),n=atob(t.split(",")[1]),a=[],i=0;i<n.length;i++)a.push(n.charCodeAt(i));return new Blob([new Uint8Array(a)],{type:"image/png"})}function r(e){return"\ufeff"+e}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",a=document.createElement("a");a.setAttribute("href","data:".concat(n,";charset=utf-8,").concat(encodeURIComponent(t))),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var d=12,l=7,u="main",h="experimental",p="intensive",f="intensiveActive",m="question",v="mainActive",g="experimentalActive",b="tournament",y="tournamentActive"},Bn4h:function(e,t,n){"use strict";var a=n("MVZn"),i=n.n(a),s=n("RIqP"),o=n.n(s),r=n("QILm"),c=n.n(r),d=n("o0o1"),l=n.n(d),u=n("yXPU"),h=n.n(u),p=n("EVdn"),f=n.n(p),m=n("dCQj"),v=n("S/a7"),g=n("bNQv"),b=n.n(g),y=n("3WF5"),w=n.n(y),j=n("7wO+"),k=n.n(j),_=n("7tbW"),C=n.n(_),x=n("/kyj"),E=n("Mm9G"),S=n("RSA4"),T=n("Rv95"),P=["action"];function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw s}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(e){return!m.a.isAuth&&f()(e).hasClass("js-form-need-auth")}f()("body").on("keyup",".input",(function(){f()(this).removeClass("input_error")})).on("change",'input[type="checkbox"]',(function(){f()(this).parents(".checkbox_error").removeClass("checkbox_error")})).on("keyup",".js-placeholder",(function(e){var t=f()(e.currentTarget);if(!t.attr("data-wrapped")){var n=t.prop("placeholder").replace(/\*$/g,"").trim();t.attr("data-wrapped",!0),t.parent().addClass("new-input-placeholder-box new-input-placeholder-box_hide"),f()("<div/>",{class:"new-input-placeholder",html:n+(t.prop("required")?' <span class="new-input-placeholder__star">*</span>':"")}).insertBefore(t),t.focus()}var a=t.parents(".new-input-placeholder-box");t.val()?a.removeClass("input-placeholder-box_hide"):a.addClass("input-placeholder-box_hide")})).on("keyup",".js-placeholder-comp",(function(e){var t=f()(e.currentTarget);if(!t.attr("data-wrapped")){var n=t.prop("placeholder").replace(/\*$/g,"").trim();t.attr("data-wrapped",!0),t.parent().addClass("new-input-placeholder-box new-input-placeholder-box_hide"),f()("<div/>",{class:"new-comp-input-placeholder",html:n+(t.prop("required")?' <span class="new-input-placeholder__star">*</span>':"")}).insertBefore(t),t.focus()}var a=t.parents(".new-input-placeholder-box");t.val()?a.removeClass("input-placeholder-box_hide"):a.addClass("input-placeholder-box_hide")})).on("keyup input change",".js-phone-verify",(function(e){var t=f()(e.currentTarget),n=t.parents(".new-input-line");if(f()(this).data("prev")!==f()(this).val()){if(f()(this).data("prev",f()(this).val()),!n.find(".new-input-addon").length){var a=t.data("enable-call");n.addClass("new-input-line_relative");var i=f()("<div/>",{class:"new-input-addon",html:'<button class="new-link new-link-dotted js-phone-verify-link js-stats" '+'type="button" data-event="assessment;submitted_telephone">'.concat("True"===a?"Получить":"Выслать"," код</button>")+'<span class="hide js-phone-verify-timer"></span>'});n.append(i),t.attr("data-verify",!0)}var s=n.find(".js-phone-verify-link"),o=n.closest("form").find('button[type="submit"]'),r=t.data("form-button-modificator");f()(this).val()&&(s.removeClass("hide"),o.prop("disabled",!0).attr("type","button").addClass(r))}})).on("keyup keypress change input",".js-remove-form-error",(function(e){var t=f()(e.currentTarget);t.removeClass("new-input_error"),t.closest("form").find(".new-input-error").removeClass("new-input-error_info").addClass("hide")})).on("keyup keypress change input",".js-remove-field-error",(function(e){var t=f()(e.currentTarget);if(13!==(e.keyCode||e.which))if(t.closest("form").find(".js-phone-verify-code").length&&t.hasClass("js-phone-verify")){t.parents(".new-input-line").find(".js-validation-error").text("Пожалуйста запросите код подтверждения снова, так как введенный Вами номер телефона был изменен.").removeClass("hide")}else{t.removeClass("new-input_error"),t.removeClass("new-checkbox_error");var n=t.closest(".new-input-line").find(".new-input-error");n.removeClass("new-input-error_info"),n.addClass("hide")}})).on("click",".js-phone-verify-link",(function(e){var t=f()(e.currentTarget),n=t.parents(".new-input-line"),a=n.find("input");if(a.data("prev",a.val()),a.attr("data-form-selector"))f()(a.attr("data-form-selector")).submit();else{var i,s=t.closest("form");s.find(".js-phone-verify-code").length?i=s.find(".js-phone-verify-code").parent():(i=f()("<div/>",{class:n.attr("class"),html:'<input class="new-input new-input_full new-input_code js-placeholder js-phone-verify-code js-remove-field-error" name="code" autocomplete="off" maxlength="4" placeholder="Введите код подтверждения" required><div class="new-input-error new-input-error_bottom js-validation-error hide"></div>'})).insertAfter(n),s.find('input:not([name="phone"],[name="code"])').prop("disabled",!0),s.find(".js-new-log-reg-social").addClass("hide");var o=function(){var e,n,o=i.find(".js-phone-verify-code"),r={phone:a.val(),code:o.val()};o.prop("disabled",!0),t.addClass("hide"),f.a.ajax({method:"post",url:"/async/user.phoneConfirm",data:r,success:(n=h()(l.a.mark((function e(n){var r,c,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).remain&&r.remain>0&&((c=f()(".js-phone-verify-timer")).removeClass("hide"),d=function(e){return function(){if((e-=1)<=0)c.addClass("hide"),t.prop("disabled",!1).removeClass("hide"),clearInterval(c.data("timer"));else{var n=e,a=parseInt(n/60),i=(n-=60*a)>0?"".concat(n," сек."):"";a>0&&(i="".concat(a," мин. ").concat(i)),c.html(i)}}}(r.remain),clearInterval(c.data("timer")),d(),c.data("timer",setInterval(d,1e3)),o.prop("disabled",!1),"True"===a.data("enable-call")&&i.find(".new-input-error").addClass("new-input-error_info").text("Сейчас вам поступит звонок с номера, последние 4 цифры которого являются кодом подтверждения").removeClass("hide")),u=null,!r.duplicate){e.next=7;break}return e.next=6,Object(S.a)({dupEmail:r.duplicate_email,myEmail:r.self_email,phone:f()(".js-phone-verify").val()});case 6:u=e.sent;case 7:"ok"!==r.status||null!=u&&!u||(s.find("button").prop("disabled",!1),s.find("input").prop("disabled",!0),t.remove(),v.a.addCloseCallback("new-log-reg-event",(function(){window.location.reload()})),v.a.addCloseCallback("new-log-reg-intensive",(function(){window.location.reload()})),E.a.send({type:"ga",args:["send","event","Assessment","verified_telephone",course_slug]}));case 8:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),error:(e=h()(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.responseJSON,a=n&&n.data.error?n.data.error:"Неизвестная ошибка",o.val("").prop("disabled",!1),i.find(".new-input-error").text(a).removeClass("hide"),E.a.send({type:"ga",args:["send","event","Assessment","verified_telephone_bad",course_slug]});case 5:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})};o(),i.find(".js-phone-verify-code").on("keyup",(function(e){var t=f()(e.currentTarget);4===t.val().length&&(t.blur(),o())}))}})).on("click",".js-password-visible",(function(){var e=f()(this);e.toggleClass("ic-eye-new"),e.toggleClass("ic-eye-close-new");var t=e.parent().find("input");t.attr("type","password"===t.attr("type")?"text":"password")})),f()(document).on("click",(function(e){0===f()(e.target).closest(".js-validation-error").length&&f()(".js-validation-error").each((function(){f()(this).hasClass("hide")||f()(this).addClass("hide").removeClass("new-input-error_info")}))})).on("submit","form.js-new-validation",(function(e){var t=f()(this);t.removeAttr("data-form-valid");var n=!0;t.find("input, textarea, select").each((function(){var e=f()(this),t=e.siblings(".js-new-input-error").find(".js-new-input-error-text"),a=e.val(),i=!0;if(i&&(e[0].hasAttribute("required")||e.hasClass("js-required"))){var s=f()(this).prop("tagName");if(""===a||"checkbox"===e.attr("type")&&!e[0].checked||"SELECT"===s&&null===e.val()){i=!1;var o=e.attr("data-required-msg")||"Обязательное поле";t.text(o),e.addClass("new-input_error js-remove-field-error")}}if(i&&"email"===e.attr("type")){var r=e.val();if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(r)){i=!1;var c=e.attr("data-email-msg")||"Email заполнен неверно";t.text(c),e.addClass("new-input_error js-remove-field-error")}}i||("hidden"===e.attr("type")?e.siblings(".input").addClass("input_error"):e.hasClass("input")?e.addClass("input_error"):"checkbox"===e.attr("type")&&e.parents(".checkbox").addClass("checkbox_error")),n&=i})),n||(t.attr("data-form-valid","false"),e.stopPropagation(),e.preventDefault())})).on("submit","form[novalidate]:not(.js-new-validation), form.js-validation:not(.js-new-validation)",(function(e){var t=f()(this);t.removeAttr("data-form-valid");var n={},a="false"!==t.attr("data-validate-notification"),i=t.attr("data-validate-selector")||"",s=""!==i,o=t.find(i);s&&o.text(""),t.find("input, textarea").each((function(){var e=f()(this),t=e.val(),a=parseInt(t),i=!0;if(i&&(e[0].hasAttribute("required")||e.hasClass("js-required"))&&(""===t||"checkbox"===e.attr("type")&&!e[0].checked)){i=!1,n.required=n.required||[];var s=e.attr("data-title")||e.attr("name");s&&n.required.push(s)}if(i&&e.attr("max")&&t){var o=parseInt(e.attr("max"));if(!isNaN(o)&&(isNaN(a)||a>o)){i=!1,n.max=n.max||[];var r=e.attr("data-title")||e.attr("name");r&&n.max.push(r)}}if(i&&e.attr("min")&&t){var c=parseInt(e.attr("min"));if(!isNaN(c)&&(isNaN(a)||a<c)){i=!1,n.min=n.min||[];var d=e.attr("data-title")||e.attr("name");d&&n.min.push(d)}}if(i&&"email"===e.attr("type")){var l=e.val();if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(l)){i=!1,n.email=n.email||[];var u=e.attr("data-title")||e.attr("name");u&&n.email.push(u)}}i||("hidden"===e.attr("type")?e.siblings(".input").addClass("input_error"):e.hasClass("input")?e.addClass("input_error"):"checkbox"===e.attr("type")&&e.parents(".checkbox").addClass("checkbox_error"))})),0!==Object.keys(n).length&&(t.attr("data-form-valid","false"),e.stopPropagation(),e.preventDefault(),b()(n,(function(e,t){if(e.length>0){if("required"===t){var n="Необходимо заполнить обязательные поля: ".concat(w()(C()(e),(function(e,t){return t>0?e.toLowerCase():e})).join(", "),".");a&&x.a.error({text:n,timeout:2e3}),s&&o.text(n)}else if("email"===t){var i="Пол".concat(e.length>1?"я":"е"," ").concat(w()(e,(function(e,t){return t>0?e.toLowerCase():e})).join(", ")," заполнен").concat(e.length>1?"ы":"о"," неверно. Необходимо ввести email.");a&&x.a.error({text:i,timeout:2e3}),s&&o.text(i)}else if("max"===t){var r="Пол".concat(e.length>1?"я":"е"," ").concat(w()(e,(function(e,t){return t>0?e.toLowerCase():e})).join(", ")," больше максимального значения.");a&&x.a.error({text:r,timeout:2e3}),s&&o.text(r)}else if("min"===t){var c="Пол".concat(e.length>1?"я":"е"," ").concat(w()(e,(function(e,t){return t>0?e.toLowerCase():e})).join(", ")," меньше минимального значения");a&&x.a.error({text:c,timeout:2e3}),s&&o.text(c)}return!1}})))})).on("submit","form",(function(e){var t=f()(this);if("false"!==t.attr("data-form-valid")&&B(t)){e.preventDefault(),t.hasClass("js-modal-prevent-close")||v.a.closeAll();var n=v.a.getModal("new-log-reg"),a=t.attr("data-registration")||"main",i=n.attr("data-query");if(i&&"undefined"!=typeof course_id&&((i=JSON.parse(i)).course_id=course_id,n.attr("data-query",JSON.stringify(i))),v.a.open("new-log-reg",{flags:"noReload"}),a){var s=function(e){n.find("[data-registration-type]").addClass("hide"),n.find("[data-registration-type=".concat(e,"]")).removeClass("hide")};Object(T.a)("student"),s(a),v.a.addAjaxCallback("new-log-reg",(function(){s(a)})),v.a.addCloseCallback("new-log-reg",(function(){s("main")}))}f()(document).one("otus:success-auth otus:success-registration",(function(){v.a.close("new-log-reg"),t.find('[name="csrfmiddlewaretoken"]').val(m.a.csrf),t.submit()}))}})).on("submit",".js-ajax-form",(function(e){e.preventDefault();var t=f()(this),n=t.attr("action"),a=t.attr("method")||"POST",s=t.find('[type="submit"]'),r=t.attr("data-json-application"),d="false"!==t.attr("data-ajax-success-notification");if("false"!==t.attr("data-form-valid")&&!B(t)){var l=function(e,t){t=t||{};var n=void 0;try{var a=JSON.parse(e);Array.isArray(a)||(a=[a]),b()(a,(function(e){var a=e.action,i=c()(e,P);switch(a){case"openModal":v.a.open(i.modalId);break;case"hide":f()(i.el).addClass("hide");break;case"hidden":f()(i.el).addClass("hidden");break;case"addClass":f()(i.el).addClass(i.class);break;case"removeClass":f()(i.el).removeClass(i.class);break;case"hideTimeout":setTimeout((function(){return f()(i.el).addClass("hide")}),i.timeout);break;case"show":f()(i.el).removeClass("hide");break;case"replace":f()(i.el).html(k()(i.tmpl)(t));break;case"redirect":setTimeout((function(){location.href=i.to}),i.delay||1);break;case"reset":var s=f()(i.el)[0];s&&s.reset();break;case"ga":E.a.send({type:"ga",args:["send","event"].concat(o()(i.args))});break;case"checked":f()(i.el).prop("checked")||(x.a.error({text:i.msg||"Произошла ошибка",timeout:2e3}),n=!1)}}))}catch(t){console.warn(t,e)}return n};f.a.ajax(i()({url:n,method:a},r?{contentType:"application/json"}:{},{data:r?JSON.stringify(function(e){var t,n={},a=O(e.serializeArray());try{for(a.s();!(t=a.n()).done;){var i=t.value;n[i.name]=i.value}}catch(e){a.e(e)}finally{a.f()}return n}(t)):t.serialize(),beforeSend:function(e){var n=!1;t.attr("data-before-send")&&(!1===l(t.attr("data-before-send"))&&(e.abort(),n=!0));n||s.prop("disabled","disable")},complete:function(){s.prop("disabled",null),t.attr("data-after-complete")&&l(t.attr("data-after-complete"))},success:function(e){"false"!==t.attr("data-success-msg")&&d&&x.a.success({text:t.attr("data-success-msg")||"Данные сохранены",timeout:2e3}),t.attr("data-after-success")&&l(t.attr("data-after-success"),e)},error:function(e){var n=e.responseJSON||{};if("false"!==t.attr("data-error-msg")){var a="Произошла ошибка";if(e&&400===e.status){switch(n.reason){case"need_test":a="Необходимо пройти тестирование по курсу «".concat(n.data.title,"»");break;case"duplicate":a="Вы уже оставляли заявку"}if(n.error_message&&(a=n.error_message),n.field_problems){for(var i="",s=0,o=Object.keys(n.field_problems);s<o.length;s++){var r=o[s];i+=n.field_problems[r].join("\n")}a=i}}x.a.error({text:t.attr("data-error-msg")||a,timeout:2e3})}t.attr("data-after-error")&&l(t.attr("data-after-error"),n)}}))}})),f()(document).find(".js-phone-verify-link-autoclick").each((function(){this.click()}))},BwWk:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("7Qqa"),l=n.n(d),u=n("8nGR"),h=n.n(u),p=n("C/st"),f=n("7wO+"),m=n.n(f),v=n("zae8"),g=n.n(v);function b(e,t,n){if(""===e)return"";var a="marked"===n?"ul":"ol",i=e.split("\n"),s=(i=i.map((function(e,n){if(""===(e=e.trim()))return"";switch(t){case"markdown":return"ol"===a&&0===n?"1. "+e:"* "+e;case"html":return"<li>".concat(e,"</li>")}}))).join("\n");switch(t){case"markdown":return s;case"html":return"<".concat(a,">").concat(s,"</").concat(a,">")}}var y,w={bold:function(e,t){switch(t){case"markdown":return"**".concat(e,"**");case"html":return"<b>".concat(e,"</b>")}},stroke:function(e,t){switch(t){case"markdown":return"~~".concat(e,"~~");case"html":return"<s>".concat(e,"</s>")}},size:function(e,t){if(""===e)return"";if("######"===e.slice(0,6))return e;switch(t){case"markdown":case"html":return"#".concat("#"!==e[0]?" ":"").concat(e)}},italic:function(e,t){switch(t){case"markdown":return"_".concat(e,"_");case"html":return"<i>".concat(e,"</i>")}},image:function(e,t,n){switch(n){case"markdown":return"![".concat(e,"](").concat(t,")");case"html":return'<img src="'.concat(t,'" alt="').concat(e,'"/>')}},hyperlink:function(e,t,n){if(""===e)return"";switch(n){case"markdown":return t?"[".concat(t,"](").concat(e,")"):e;case"html":return'<a href="'.concat(e,'">').concat(t,"</a>")}},list_marked:function(e,t){return b(e,t,"marked")},list_numbered:function(e,t){return b(e,t,"numbered")}},j=n("S/a7"),k=n("a9sj");function _(e){return new Promise((function(t,n){var a="editor-hyperlink",i=".js-hyperlink-submit",s=".js-hyperlink-link",o=j.a.getModal(a);""!==e&&o.find(s).val(e);var r=function(e){e.preventDefault();var n=o.find(s).val(),a=o.find(".js-hyperlink-text").val();t({link:n,text:a})};o.find(i).on("click",r),j.a.addCloseCallback(a,(function(){n(),o.find("form")[0].reset(),o.find(i).off("click",r)})),j.a.open(a)}))}(y=c.a).fn.htmlMarkdownEditor=function(){function e(e,t){return e.value=e.value.substring(0,e.selectionStart)+t+e.value.substring(e.selectionEnd,e.value.length),e.value}function t(e){return e.selectionStart}function n(e){return e.selectionEnd}y(this).each((function(){var a=y(this);if(!a.attr("data-editor-initialized")){a.attr("data-editor-initialized","true");var s,r=a.clone(),c=y("<div/>"),d=y('<div class="editor__preview editor__restore js-restore"/>'),u="Восстановить содержимое от ".concat(p.a.get("lastPostTime","")),f=a.attr("data-editor-mode")||"markdown";try{s=JSON.parse(a.attr("data-opts"))}catch(e){s={}}s.mode=s.mode||f;var v=y(m()(g.a)({opts:s}));d.html(u),c.insertBefore(a),c.append(v),c.append(r),c.append(d),a.remove(),r.addClass("editor-area"),c.find(".js-switch").each((function(){new l.a(this,{size:"small",color:"#4882f1",speed:"0.3s"})}));var b=c.closest("[data-content-id]").attr("data-content-id");p.a.get("lastPost","")&&(p.a.get("lastPostId","")||"")===b&&c.find(".js-restore").each((function(){y(this).get(0).style.display="inline-block",y(this).click((function(){r.val(p.a.get("lastPost",""))}))})),r.on("keydown",(function(e){if(9===(e.keyCode||e.which)){e.preventDefault();var t=y(this).get(0).selectionStart,n=y(this).get(0).selectionEnd;y(this).val(y(this).val().substring(0,t)+"\t"+y(this).val().substring(n)),y(this).get(0).selectionStart=y(this).get(0).selectionEnd=t+1}})),c.on("click",".js-preview",function(){var e=o()(i.a.mark((function e(t){var n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=c.find('[value="markdown"]').prop("checked"),a=c.find(".js-preview-content"),e.next=5,y.ajax({url:"/nest/post/preview/",method:"post",data:k.a.update({text:r.val(),markdown:n})});case 5:s=e.sent,a.removeClass("blog-post-text_markdown blog-post-text_html").addClass("blog-post-text_".concat(n?"markdown":"html")).html(s),j.a.open("post-preview");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.on("change keydown",r,(function(){var e=new Date;p.a.set("lastPost",r.val()),p.a.set("lastPostTime","".concat(e.getHours(),":").concat(1===e.getMinutes().toString().length?"0":"").concat(e.getMinutes())),p.a.set("lastPostId",c.closest("[data-content-id]").attr("data-content-id"))})),c.find('[type="file"]').each((function(){var t=this;h.a.event.on(t,"change",(function(n){var a=h.a.getFiles(n);t.value="",h.a.filterFiles(a,(function(e,t){return/^image/.test(e.type)?!(t.width>=2048&&t.height>=1536&&(alert("Максимальный размер изображения 2048x1536"),1)):(alert("Файл не является изображением"),!1)}),(function(t,n){t.length&&h.a.upload({url:"/async/media.upload",files:{file0:t[0]},progress:function(e){},complete:function(t,n){var a=JSON.parse(n.response).data[0];e(r.get(0),w.image(a.attrs.name,a.media.link,f))}})}))}))})),c.on("click","[data-action]",function(){var a=o()(i.a.mark((function a(s){var o,d,l,u,h,p,m,v,g,b,j,k,C,x,E,S,T,P;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=y(this).attr("data-action"),d=r.get(0),l=(i=d).value.substring(t(i),n(i)),u=t(d),h=n(d),p=c.find('[value="markdown"]'),m=f,p.length||(m=c.find('[value="markdown"]').prop("checked")?"markdown":"html"),v=r.scrollTop(),g=d.value,b=d.value,a.t0=o,a.next="font-bold"===a.t0?14:"font-size"===a.t0?16:"font-stroke"===a.t0?18:"font-italic"===a.t0?20:"hyperlink"===a.t0?22:"list-marked"===a.t0?35:"list-numbered"===a.t0?37:39;break;case 14:return l&&(b=e(d,w.bold(l,m))),a.abrupt("break",40);case 16:return l&&(b=e(d,w.size(l,m))),a.abrupt("break",40);case 18:return l&&(b=e(d,w.stroke(l,m))),a.abrupt("break",40);case 20:return l&&(b=e(d,w.italic(l,m))),a.abrupt("break",40);case 22:return a.prev=22,a.next=25,_(l);case 25:C=a.sent,j=C.text,k=C.link,a.next=33;break;case 30:return a.prev=30,a.t1=a.catch(22),a.abrupt("return");case 33:return b=e(d,w.hyperlink(k,j,m)),a.abrupt("break",40);case 35:return l&&(b=e(d,w.list_marked(l,m))),a.abrupt("break",40);case 37:return l&&(b=e(d,w.list_numbered(l,m))),a.abrupt("break",40);case 39:return a.abrupt("return");case 40:x=u,E=h+(b.length-g.length),S=window,T=S.scrollX,P=S.scrollY,d.focus(),d.setSelectionRange(x,E),d.scroll(0,v),window.scrollTo(T,P);case 47:case"end":return a.stop()}var i}),a,this,[[22,30]])})));return function(e){return a.apply(this,arguments)}}())}}))},c()(".js-editor").htmlMarkdownEditor()},"C/st":function(e,t,n){"use strict";var a=n("lwsE"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=function(){try{if("localStorage"in window&&null!==window.localStorage)return!0}catch(e){}return!1},c=function(){function e(){i()(this,e)}return o()(e,null,[{key:"set",value:function(e,t){if(r())try{localStorage.setItem(e,t)}catch(e){}}},{key:"get",value:function(e,t){if(t=t||null,r())try{return localStorage.getItem(e)||t}catch(e){}return t}},{key:"getInt",value:function(t,n){var a=parseInt(e.get(t,n));return isNaN(a)?n:a}},{key:"getBoolean",value:function(t){return"true"===String(e.get(t)).toLowerCase()}}]),e}();t.a=c},"EZd+":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("lwsE"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=function(){function e(t){i()(this,e),this.currentFontSize=null,this.options=c.a.extend({initScale:10,width:1600,height:960,disableWidth:null,disableHeight:null,getWidth:function(){return window.innerWidth},getHeight:function(){return window.innerHeight},markupMedia:null},t||{}),this.fit=this.fit.bind(this)}return o()(e,[{key:"init",value:function(e){void 0!==e&&(this.options.maxFontSize=e),this.checkMedia()&&this.fit(),window.addEventListener("resize",this.fit)}},{key:"checkMedia",value:function(){return!(this.options.markupMedia&&!window.matchMedia(this.options.markupMedia).matches)}},{key:"fit",value:function(){if(this.checkMedia()){var e=this.options.getHeight(),t=this.options.getWidth();this.options.disableWidth&&(t=this.options.width),this.options.disableHeight&&(e=this.options.height);var n=t/this.options.width,a=e/this.options.height;n*this.options.height>e&&(n=e/this.options.height),a*this.options.width>t&&(a=t/this.options.width);var i=Math.min(n,a);e>2*t&&(i+=e/(2*t+e)*.1);var s=i*this.options.initScale;this.currentFontSize=Math.round(100*s)/100,void 0!==this.options.maxFontSize&&this.currentFontSize>this.options.maxFontSize&&(this.currentFontSize=this.options.maxFontSize),document.documentElement.style.fontSize=this.currentFontSize+"px"}}}]),e}()},"Ec+9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("EVdn"),i=n.n(a);function s(e,t,n){e.on("click",".js-faq-question .js-faq-question-question",(function(){var e=i()(this);e.parents(".js-faq-question").find(".js-faq-answer").toggleClass("hide"),t=t||"faq-question__question_active",e.toggleClass(t),n&&n(e)}))}},FT4H:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return g}));var a,i=n("o0o1"),s=n.n(i),o=n("yXPU"),r=n.n(o),c=n("Jgta"),d=(n("dB9c"),n("lmWj")),l=n("l1BO"),u=!1;try{c.a.initializeApp(d.a.fcm),a=c.a.messaging()}catch(e){console.error(e)}var h=function(){var e=r()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)("/api/push.save_token","POST",{data:{token:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=r()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getToken();case 3:return t=e.sent,e.next=6,h(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var t=r()(s.a.mark((function t(){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a&&window.navigator&&"serviceWorker"in navigator)||u){t.next=21;break}return t.next=3,navigator.permissions.query({name:"notifications"});case 3:if((n=t.sent).onchange=f,"granted"===n.state){t.next=7;break}return t.abrupt("return");case 7:return t.prev=7,t.next=10,navigator.serviceWorker.register(e("meta[name='sw']").attr("content"));case 10:i=t.sent,p(),a.useServiceWorker(i),a.onTokenRefresh(p),u=!0,t.next=21;break;case 17:t.prev=17,t.t0=t.catch(7),console.warn(t.t0),u=!1;case 21:return t.abrupt("return",u);case 22:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(){return t.apply(this,arguments)}}(),m=function(){return!window.Notification||"denied"===Notification.permission.toLowerCase()},v=function(){return!!window.Notification&&"granted"===Notification.permission.toLowerCase()},g=function(){var e=r()(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Notification||!a){e.next=28;break}if(e.t0=!u,!e.t0){e.next=6;break}return e.next=5,f();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return",!1);case 8:if("default"!==(t=Notification.permission.toLowerCase())){e.next=26;break}return e.prev=10,e.next=13,a.requestPermission();case 13:return e.next=15,a.getToken();case 15:return n=e.sent,e.next=18,h(n);case 18:return e.abrupt("return",!0);case 21:e.prev=21,e.t1=e.catch(10),console.warn("Unable to get permission to notify.",e.t1);case 24:e.next=28;break;case 26:if("granted"!==t){e.next=28;break}return e.abrupt("return",!0);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(){return e.apply(this,arguments)}}()}).call(this,n("EVdn"))},HEQR:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-goals-formset-comment").each((function(){var e=i()(this),t=e.find(".js-goals-formset-comment-input");e.find('.r-checkbox[name="js-goals-formset-comment-checkbox"]').on("click",(function(){t.find("textarea").val(""),t[i()(this).is(":checked")?"show":"hide"]()}))}))},IRq7:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(){i()("*[data-uploadType=async]").each((function(){var e,t=i()(this),n=t.data("uploadSource"),a=t.data("uploadAttr"),o=t,r=s(a.split("."));try{for(r.s();!(e=r.n()).done;){o=o[e.value]}}catch(e){r.e(e)}finally{r.f()}o=n}))}},IdN3:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(document).find(".js-yandex-credit-query").each((function(){i.a.ajax({url:"https://yoomoney.ru/credit/order/ajax/credit-pre-schedule",data:{shopId:i()(this).attr("data-shop"),sum:i()(this).attr("data-amount")},success:function(e){var t=e.amount;t&&(i()(".js-yandex-credit-price").html(Math.round(t)).closest(".transparent").fadeTo("fast",1),i()(".js-is-yandex-credit").closest(".transparent").fadeTo("fast",1))}})}))},J8Fv:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("S/a7");i()(document).on("click",".js-find-job-button",(function(){var e=s.a.getModal("new-log-reg-event"),t=e.attr("data-query");t&&((t=JSON.parse(t)).is_find_jobs=!0,e.attr("data-query",JSON.stringify(t))),s.a.open(e)}))},JDN3:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("0JBz"),o=n.n(s),r=n("rgB7"),c=n("/kyj"),d=n("a9sj"),l=n("R5z4");i()(".js-main").each((function(){var e=i()(this);e.find(".js-swiper").each((function(){var e,t,n=this,a=function(){var a;(a=window.innerWidth>r.md?6:window.innerWidth>r.sm?4:2)!==t&&(e&&e.destroy(),e=new o.a(n,{direction:"horizontal",loop:!0,keyboardControl:!0,slidesPerView:a,nested:!0,navigation:{nextEl:".work__arrow_next",prevEl:".work__arrow_prev"},preloadImages:!1,lazy:!0}),t=a)};a(),window.addEventListener("resize",a)})),Object(l.a)(e)})),i()(".js-join-lottery").each((function(){var e=i()(this);e.click((function(){i.a.ajax({url:i()(this).attr("data-url"),method:"post",data:d.a.update(),complete:function(){e.remove(),c.a.success({text:"Ваш email добавлен в список розыгрыша",timeout:2e3})}})}))}))},"K+ji":function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i),o=n("a9sj"),r=n("S/a7"),c=n("dCQj"),d=n("/kyj"),l=n("izuR"),u=n.n(l);(a=s.a).fn.questionVote=function(){a(this).each((function(){var e=a(this),t=function(t,n,i){var s=t.attr("data-url");a.ajax({url:s,method:"post",data:o.a.update({reason:n||""}),success:function(n){var s=n.data,o=e.attr("data-like-class")||"ic-like",r="".concat(o,"-fill"),c=".".concat(o),l=e.attr("data-dislike-class")||"ic-dislike",h="".concat(l,"-fill"),p=".".concat(l);if(e.find(c).removeClass(r),e.find(p).removeClass(h),t.addClass("like"===t.attr("data-type")?r:h),t.attr("data-chose",!0).siblings().attr("data-chose",null),e.find('[data-amount][data-type="like"]').html(s.like),e.find('[data-amount][data-type="dislike"]').html(s.dislike),"function"==typeof i)i(s);else if("like"===t.attr("data-type"))d.a.success({text:"Спасибо за оценку!",timeout:1e3});else if("true"!==t.attr("data-without-reasons")){var f=a(u.a),m=function(e,t){return function(n){var i="js-dislike-variants",s=a(n.target);s.hasClass(i)||s.parents(".".concat(i)).length>0||(e.fadeOut(200,(function(){return e.remove()})),t())}}(f,(function(){return a(document).off("click",m)}));a(document).on("click",m),t.append(f),f.fadeIn(200)}}})};e.on("click",'[name="reason"]',(function(){var e=a(this).parents(".js-dislike-variants"),n=a(this).parents("[data-url]");n.length>0&&t(n,a(this).val(),(function(){e.fadeOut(200,(function(){return e.remove()})),d.a.success({text:"Спасибо за оценку!",timeout:1e3})}))})),e.on("click","[data-url]",(function(e){e.stopPropagation();var n=a(this);if(c.a.isAuth)"true"!==n.attr("data-chose")&&t(n);else{var i=r.a.getModal("new-log-reg");r.a.open(i)}}))}))}},KEdX:function(e,t,n){"use strict";t.a=n.p+"img/prevButton-light.5b8a8.png"},Kk3x:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("k4Da"),l=n.n(d),u=n("7GkX"),h=n.n(u),p=n("P/G1"),f=n.n(p),m=n("S/a7"),v=n("Mm9G"),g=n("a9sj"),b=n("jyKj"),y=n("MO+k"),w=n.n(y),j=(n("RSA4"),n("K+ji"),n("l1BO"));c()(".js-assessment").each((function(){var e,t,n=c()(this),a=c()("#assessment_form"),s=function(){var t=g.a.updateUrlEncoded(a.serialize());t+="&time="+Math.round(c.a.now()),t+="&onlyanswer=true",e&&4!==e.readyState&&e.abort(),e=c.a.ajax({data:t,contentType:"application/x-www-form-urlencoded",method:"post"})};a.find(".js-question-vote").questionVote(),a.on("keyup",".js-sendanswer",(t=null,function(e){var n=c()(e.target),i=n.val().replace(/([^a-zA-ZА-Яа-яёЁйЙ]+)/g," ").split(" "),o=l()(i,(function(e){return""!==e.trim()})).length;"input"===e.target.nodeName.toLowerCase()&&"Enter"===e.key&&e.preventDefault(),a.find('.js-word-count[data-name="'.concat(n.attr("name"),'"]')).removeClass("hidden").html("Число слов: ".concat(o)),t&&clearTimeout(t),t=setTimeout(s,300)})),a.on("click",".js-sendanswer-variant",s),a.submit((function(e){var t=m.a.getModal("empty-questions"),n=!0;c()(".js-variants").each((function(){if(0===c()(this).find("input:checked").length&&0!==c()(this).find('input[type="checkbox"]').length||0===c()(this).find("input:checked").length&&0!==c()(this).find('input[type="radio"]').length||""===c()(this).find('input[type="url"]').val()&&0!==c()(this).find('input[type="url"]').length||""===c()(this).find("textarea").val()&&0!==c()(this).find("textarea").length)return m.a.open(t),t.find('[type="button"]').attr("disabled",!1),e.preventDefault(),e.stopPropagation(),n=!1,c()(".js-resubmit").click((function(){"debugAssessment"===c()(this).val()&&a.append(c()("<input/>",{type:"hidden",name:"debugAssessment",value:"true"})),t.find('[type="button"]').attr("disabled",!0),a.unbind("submit").submit()})),!1})),n&&a.find('[type="submit"]').attr("disabled",!0)})),c()(".js-countdown").each((function(){var e,t,n,i,s=this,o=c()(this).find(".countdown__timer"),r=c()(this).find(".countdown__text"),d=(t=m.a.getModal("assessment-end").find(".js-timer"),n=5,function(){m.a.closeAll(),m.a.open("assessment-end",{noClose:!0}),n-=1,t.html("".concat(n," ").concat(Object(b.h)(n,"секунду","секунды","секунд"))),0===n&&(clearInterval(e),a.unbind("submit").submit())}),l=(i=parseInt(c()(s).attr("data-ts")),function(){if(i<=60&&r.addClass("countdown__text_red"),i<0)clearInterval(e),d(),e=setInterval(d,1e3);else{var t=i,n=parseInt(t/86400);t-=24*n*3600;var a=parseInt(t/3600);t-=3600*a;var s=parseInt(t/60),c=t-=60*s;a=a<10?"0".concat(a):a,s=s<10?"0".concat(s):s,c=c<10?"0".concat(c):c;var l="".concat("00"===a?"":"".concat(a,":")).concat(s,":").concat(c);n>0&&(l="".concat(n," ").concat(Object(b.h)(n,"день","дня","дней")," ").concat(l)),o.html(l),i-=1}});l(),e=setInterval(l,1e3),c()(this).removeClass("hide")})),n.find(".js-online-reuse").each((function(){var e=c()(this),t=e.find(".js-online-reuse-loading"),n=e.find(".js-online-reuse-success"),a=e.find(".js-online-reuse-fail");c.a.ajax({url:e.attr("data-url"),complete:function(){t.addClass("hide")},success:function(e){var t=e.data,i=t.status;if("fail"===i){var s=t.need_percent;a.removeClass("hide"),a.find(".js-percent").text(s)}else if("ok"===i){var o=t.online,r=t.id;n.removeClass("hide"),n.find(".js-title").text(o),n.find('[name="user_online"]').val(r)}}})})),n.find(".js-assessment-distribution").each((function(){var e=c()(this),t=JSON.parse(e.attr("data-distribution"));new w.a(e.find(".js-canvas").get(0).getContext("2d"),{type:"bar",data:{labels:h()(t),datasets:[{data:f()(t),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1},{fill:!1,data:f()(t),type:"line",borderWidth:1,borderColor:"#6F6F6F",pointBackgroundColor:"#6F6F6F"}]},options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{min:0,max:100,callback:function(e){return parseInt(e)+"%"}},scaleLabel:{display:!0,labelString:"Процент"}}]},animation:{onComplete:function(){window.status="graphBuilt"}}}})})),n.find(".js-phone-confirm-inline").phoneConfirm({onSuccess:function(e){v.a.send({type:"ga",args:["send","event","Assessment","verified_telephone",course_slug]}),e.remove(),n.find(".js-begin-assessment").prop("disabled",""),n.find(".js-create-user-course").removeClass("hide").submit(),n.find(".js-assessment-button").addClass("container__col_center"),n.find(".js-assessment-phone-success-show").removeClass("hide"),n.find(".js-assessment-phone-success-hide").addClass("hide")},onError:function(e){v.a.send({type:"ga",args:["send","event","Assessment","verified_telephone_bad",course_slug]})}}),n.find(".js-create-user-course").each((function(){c()(this).on("submit",o()(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"===c()(this).find('input[name="send_smart_target"]').val()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(j.a)("/api/events.item.list","get",{params:{course:course_slug,assessment_required:!1,already_registered:!0}});case 5:if(!e.sent.data.length){e.next=8;break}return e.abrupt("return");case 8:t=c()(this).find('input[name="ga_goal_dod_without_assessment"]').val(),n=c()(this).find('input[name="ya_goal_dod_without_assessment"]').val(),a=[{type:"vk-pixel",events:["lead"]},{type:"fbq-pixel",events:["Lead"]}],t&&a.push({type:"ga",args:["send","event","Assessment",t,course_slug]}),n&&a.push({type:"ya",method:"reachGoal",goal:n,args:{courseSlug:course_slug}}),v.a.sendBulk(a);case 14:case"end":return e.stop()}}),e,this)})))),"true"!==c()(this).attr("data-need-verify")&&c()(this).submit()}))}))},L52w:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=(n("MRYf"),n("a9sj")),o=(n("BwWk"),n("3WF5")),r=n.n(o),c=n("C/st"),d=n("/kyj");i()(".js-blog").each((function(){var e=i()(this);function t(e,t,n){return function(){var a=(e=i()(e)).attr("data-url"),o=e.attr("data-id");e.hasClass("disabled")||i.a.ajax({url:a,type:"POST",data:s.a.update({value:t,id:o}),success:function(t){var a=t.data;if("ok"===a.status){i()(".js-blog-"+n+'-like[data-id="'+o+'"]').removeClass("disabled"),i()(".js-blog-"+n+'-dislike[data-id="'+o+'"]').removeClass("disabled"),e.addClass("disabled");var s=i()(".js-"+n+'-votes[data-id="'+o+'"]');s.removeClass("blog-vote__item_neg"),s.removeClass("blog-vote__item_pos"),s.html(a.votes),a.votes>0?s.addClass("blog-vote__item_pos"):a.votes<0&&s.addClass("blog-vote__item_neg")}}})}}function n(e){e.preventDefault();var t=i()(this),n=t.attr("post_id");i.a.ajax({url:"/nest/post/mark/",type:"POST",data:s.a.update({id:n}),success:function(e){e.data.marked?t.addClass("blog-post__footer-icon_star-selected").removeClass("blog-post__footer-icon_star"):t.removeClass("blog-post__footer-icon_star-selected").addClass("blog-post__footer-icon_star")}})}function a(){i()(".js-blog-options").each((function(){i()(this).is(":visible")?i()(this).hide():i()(this).show()}))}e.find(".js-blog-group-blogs").sortable({items:".js-blog-group-blog",handle:".js-handle",update:function(e,t){var n=r()(i()(e.target).find(".js-blog-group-blog"),(function(e,t){return JSON.stringify({order:t,id:i()(e).attr("data-id")})}));i.a.ajax({url:"/nest/order/",method:"post",data:s.a.update({type:"blog","order[]":n})})}}),e.find(".js-blog-groups").sortable({items:".js-blog-group",handle:".js-handle",update:function(e,t){var n=r()(i()(e.target).find(".js-blog-group"),(function(e,t){return JSON.stringify({order:t,id:i()(e).attr("data-id")})}));i.a.ajax({url:"/nest/order/",method:"post",data:s.a.update({type:"group","order[]":n})})}}),e.on("click",".js-blog-post-like",(function(){t(this,1,"post")()})).on("click",".js-blog-post-dislike",(function(){t(this,-1,"post")()})).on("click",".js-blog-post-mark",(function(e){n.bind(this)(e)})),e.find(".js-search").each((function(){var e=i()(this),t=e.parents(".nav"),n=function(){t.removeClass("nav_search"),e.find(".js-search-box").addClass("search__box_close"),e.find("input").val("")};i()(this).on("click",".js-open-search",(function(){t.addClass("nav_search"),e.find(".js-search-box").removeClass("search__box_close"),e.find("input").focus()})).on("click",".js-cancel",n),document.addEventListener("keydown",(function(e){"escape"===String(e.key||e.code).toLowerCase()&&n()}))})),i()(".js-blog-select-wrapper").each((function(){i()(this).click((function(){a(),i()(this).removeClass("blog-select_error")}))})),i()(".js-blog-option").each((function(){var e=i()(this);e.hasClass("blog-select__option_disabled")||i()(this).click((function(){a(),i()("#id_blog").val(e.attr("data-value")),i()(".js-blog-select-wrapper").each((function(){i()(this).html(e.attr("data-title"))}))}))})),i()(".js-blog-testing-email").each((function(){var e=this,t=i()(this).find('[type="submit"]');i()(this).on("submit",(function(n){if(n.preventDefault(),t.hasClass("disabled"))t.html("Хочу на бета-тест!").removeClass("disabled");else{i()(".js-blog-testing-email");i.a.ajax({url:"/nest/testing/",type:"POST",data:i()(e).serialize(),success:function(e){"ok"===e.data.status&&t.html("Заявка отправлена!").addClass("disabled")}})}}))})),i()(".blog__input_post").each((function(){var e=i()(this);e.bind("input",(function(){e.removeClass("blog__input_error")}))})),e.find(".js-blog-post-put").each((function(){i()(this).click((function(e){e.preventDefault();var t={},n=i()(this),a=i()(this).closest("form"),s=!1;i()(a).serializeArray().map((function(e){t[e.name]=e.value,e.value||"tags"===e.name||("blog"===e.name?i()(".js-blog-select-wrapper").addClass("blog-select_error"):i()(".blog__input_post[name=".concat(e.name,"]")).addClass("blog__input_error"),s=!0)})),t[i()(this).attr("name")]=i()(this).attr("value"),s||i.a.ajax({url:"/nest/post/add/",type:"POST",data:t,beforeSend:function(){n.prop("disabled",!0)},success:function(e){var t=e.data;"ok"===t.status&&(c.a.set("lastPost",""),c.a.set("lastPostId",""),c.a.set("lastPostTime",""),t.post_id?window.location.replace("/nest/post/".concat(t.post_id)):window.location.replace("/nest/".concat(t.blog)))},error:function(){n.prop("disabled",!1),d.a.error({text:"Ошибка публикации",timeout:2e3})}})}))})),i()(".js-blog-subscribe").each((function(){var e=i()(this);i()(this).click((function(){i.a.ajax({url:"/nest/".concat(i()(this).attr("data-type"),"/subscribe/"),type:"POST",data:s.a.update({object_id:i()(this).attr("data-id")}),success:function(t){var n=t.data;"ok"===n.status&&(e.html(n.removed?"Подписаться":"Отписаться"),n.removed?e.addClass("blog-list__button_active"):e.removeClass("blog-list__button_active"))}})}))})),e.find(".js-posts-pagination").each((function(){var e=i()(this),t=e.find(".js-loader"),n=e.find(".js-posts"),a=!1,s=!1,o=1;i()(window).scroll((function(){var r;!a&&!s&&(r=i()(window).scrollTop(),i()(e).height()-i()(window).height()-r<100)&&(s=!0,o+=1,i.a.ajax({url:location.pathname,data:{page:o,q:e.attr("data-q")},beforeSend:function(){return t.removeClass("hide")},complete:function(){return t.addClass("hide")},success:function(e){n.append(e),s=!1},error:function(){a=!0}}))}))}))}))},Mm9G:function(e,t,n){"use strict";var a=n("RIqP"),i=n.n(a),s=n("lwsE"),o=n.n(s),r=n("W8MJ"),c=n.n(r),d=n("EVdn"),l=n.n(d),u=function(){function e(){o()(this,e),this._tracker=null}return c()(e,null,[{key:"yaMetrika",get:function(){return{reachGoal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function e(n){window.yaMetriks?(window.uId&&(t.userId=window.uId),window.yaMetriks.forEach((function(e){return e.reachGoal(n,t)}))):setTimeout((function(){return e(n)}),500)};n(e,t)},hit:function(e){!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n>=1e3||(window.yaMetriks?window.yaMetriks.forEach((function(e){return e.hit(t)})):setTimeout((function(){return e(t,n+1)}),500))}(e)}}}},{key:"vkPixel",get:function(){return{sendGoal:function(e){!function e(t){void 0!==window.VK?t.forEach((function(e){VK.Goal(e)})):setTimeout((function(){return e(t)}),500)}(e)}}}},{key:"send",value:function(e){this.sendBulk([e])}},{key:"sendBulk",value:function(e){if(!Array.isArray(e))return!1;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],a=n.args||[];switch(n.type){case"ga":if(window.ga){var s,o=(n.dimensions||[]).reduce((function(e,t,n){return t&&(e["dimension".concat(n+1)]=t),e}),{});window.uId&&(o.userId=window.uId),ga.apply(void 0,i()(a).concat([o])),(s=console).log.apply(s,i()(a).concat([o]))}break;case"ya":"reachGoal"===n.method&&(this.yaMetrika.reachGoal(n.goal,a||{}),console.log("yaMetric",n.goal,a));break;case"vk-pixel":this.vkPixel.sendGoal(n.events)}}}},{key:"sendBulkOnLoad",value:function(e){var t=this;l()(document).ready((function(){return t.sendBulk(e)}))}},{key:"init",value:function(){var t,n;l()(document).on("click",".js-stats",(function(){var t=l()(this);if((t.attr("data-goal")||"").split("&").forEach((function(t){e.sendBulk([{type:"ya",method:"reachGoal",goal:t}])})),t.attr("data-event")){var n=(t.attr("data-event")||"").split("&"),a=(t.attr("data-event-dimensions")||"").split(";");n.forEach((function(t){var n=t.split(";");e.sendBulk([{type:"ga",dimensions:a,args:["send","event"].concat(i()(n))}])}))}if(t.data("pixel-event")){var s=t.data("pixel-event").split(";");e.sendBulk([{type:"vk-pixel",events:s}])}if(t.data("fbq-events")){var o=t.data("fbq-events").split(";");e.sendBulk([{type:"fbq-pixel",events:o}])}})).on("scroll",(t={},n=[0,25,50,75,100],function(a){var i=Math.ceil(l()(document).scrollTop()/(l()(document).innerHeight()-window.innerHeight)*100);n.forEach((function(n){i>=n&&!t[n]&&(t["".concat(n)]=!0,e.send({type:"ga",args:["send","event","scroll","scroll_".concat(n)]}))}))}))}}]),e}();t.a=u},N7l6:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("S/a7"),o=n("a9sj"),r=n("dCQj"),c=n("23Vx");i()(".js-professions").each((function(){var e=i()(this);window.history&&"scrollRestoration"in history&&(window.history.scrollRestoration="manual"),e.on("click","[data-embed]",(function(e){e.stopPropagation();var t=s.a.getModal("profession-video");s.a.open(t,{iframe:i()(this).attr("data-embed")})})).on("click",".js-like",(function(){var e=i()(this);if(r.a.isAuth){if(!e.hasClass("js-loading")){e.addClass("js-loading");var t=e.hasClass("js-liked"),n=t?e.attr("data-dislike"):e.attr("data-like");i.a.ajax({url:n,data:o.a.update(),method:"post",complete:function(){return e.removeClass("js-loading")},success:function(n){var a=n.data;t?e.removeClass("js-liked"):e.addClass("js-liked"),t?e.removeClass("ic-heart-red"):e.addClass("ic-heart-red"),e.parents(".js-like-container").find(".js-amount").html(a.like)}})}}else s.a.open("new-log-reg",{flags:"noReload"}),i()(document).one("otus:success-auth otus:success-registration",(function(){s.a.close("new-log-reg"),e.trigger("click")}))})),e.on("click",".js-professions-more",(function(){var e=i()(this);e.toggleClass("hide"),e.siblings(".js-professions-more__target").toggleClass("hide")}));var t=parseInt(location.hash.replace("#",""));if(t>0){var n="#profession".concat(t);e.find(n).closest(".js-professions-more__target").hasClass("hide")&&e.find(".js-professions-more").click(),Object(c.a)(n)}e.on("click",".js-professions-nav-item",(function(){var t=this.getAttribute("href");e.find(t).closest(".js-professions-more__target").hasClass("hide")&&e.find(".js-professions-more").click()}))}))},NjoT:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n;e.addEventListener("timeupdate",(function(){var e=Math.round(this.currentTime);e%5!=0||n===e&&void 0!==n||(n=e,t(e))}))}},Phq6:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("a9sj"),l=n("S/a7"),u=n("dCQj");function h(e,t){return e=c()(e),c.a.ajax({url:e.attr("data-url"),data:t||d.a.update(),method:"post",beforeSend:function(){return e.attr("disabled",!0)},success:function(){e.replaceWith(c()("<span/>",{html:"Вы подписались на уведомления о курсе",class:"lesson__start-text"}))}})}c()(".js-course-subscribe").each((function(){c()(this).click((function(e){e.preventDefault();var t=c()(this);t.attr("data-email")?h(t):l.a.open("start_course").each((function(){c()(this).find(".js-subscribe-start-course").off("submit"),c()(this).find(".js-subscribe-start-course").on("submit",function(){var e=o()(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h(t,c()(this).serialize());case 3:l.a.close("start_course");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}))}))})),c()(".js-new-course-subscribe").on("submit",(function(e){if(e.preventDefault(),u.a.isAuth){var t=c()(this);c.a.ajax({url:this.action,data:t.serialize(),method:this.method,beforeSend:function(){return t.find('[type="submit"]').attr("disabled",!0)},success:function(){c()(t.data("reload"))?window.location.reload():c()(t.attr("data-linked")).replaceWith(c()("<span/>",{html:"Подписка оформлена",class:"course-header__subscribe-text"}))}})}}))},R5z4:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);t.a=function(e){var t=0,n=e.find(".lessons");e.find(".lessons__item").each((function(){var e=i()(this).height(),n=i()(this).find(".js-lesson-title"),a=i()(this).find(".js-lesson-discount"),s=n.height();if(a.length>0&&(s+=a.height()),s>132){var o=e+(s-132);o>t&&(t=o)}})),t&&i()(n.children()).height(t)}},RSA4:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("jyKj"),l=n("dCQj"),u=n("S/a7");function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dupEmail,n=void 0===t?"***":t,a=e.myEmail,i=void 0===a?"***":a,s=e.phone,o=void 0===s?"":s;return new Promise((function(e,t){var a="phone_duplicate",s=u.a.getModal(a),r=".js-dod-phone-dup-modal-submit",d=".js-loader",h=".js-loader-content",p=".js-error",f=".js-error-text",m=function(e){if(e)return s.find(d).show(),void s.find(h).css({visibility:"hidden"});s.find(d).hide(),s.find(h).css({visibility:"visible"})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.show,n=void 0===t||t,a=e.error,i=void 0===a?"":a,o="hide",r=s.find(p),c=r.find(f);n?r.removeClass(o):r.addClass(o),c.text(i)};s.find(".js-phone-duplicate-acc").text(n),s.find(".js-phone-duplicate-self-acc").text(i),s.find(".js-phone-duplicate-phone").text(o),s.find(".js-dod-phone-dup-modal-phone").val(o),v({show:!1}),m(!1);var g=function(t){t.preventDefault(),t.stopPropagation();var n=c()(t.target);m(!0),v({show:!1});var i=n.closest("form");i.append(c()("<input/>",{name:"swap_phone_dup",type:"hidden",value:c()(t.currentTarget).attr("data-value")})),c.a.ajax({url:i.attr("action"),method:i.attr("method"),data:i.serializeArray(),datatype:"json",success:function(t){var n=t.data;n.refresh?c.a.ajax({url:"/logout/",method:"POST",data:[{name:"csrfmiddlewaretoken",value:l.a.csrf}],success:function(){var e=new URL(window.location.href);e.searchParams.append("token",n.refresh),window.location=e.toString()}}):(e(!0),m(!1),u.a.close(a))},error:function(e){var t=e.responseJSON;m(!1),v({error:t&&t.data&&t.data.error||"Неизвестная ошибка"})}})};s.find(r).on("click",g),u.a.addCloseCallback(a,(function(){e(!1),s.find(r).off("click",g)})),u.a.open(a)}))}c.a.fn.phoneConfirm=function(e){c()(this).each((function(){var t=c()(this);t.attr("data-phone-confirm")||(t.attr("data-phone-confirm",!0),t.find(".js-phone-renew-code").on("click",(function(e){e.preventDefault(),t.find(".js-phone-confirm").trigger("submit",{renewCode:!0})})),t.find(".js-phone-confirm").on("submit",(function(n,a){var s,r=this;n.preventDefault();var l=a&&a.renewCode,u=e.customFormClass?c()(e.customFormClass):c()(this),p=u.find(".js".concat(l?"-renew":"","-loader")),f=c()(this).find(".js-error"),m=c()(this).serialize();l&&(m+="&renew_code=true");var v,g=u.find('[name="phone"]').val();c.a.ajax({method:"post",url:c()(this).attr("action"),data:m,beforeSend:function(){u.find('[type="submit"]').not(".js-phone-renew-code").prop("disabled",!0),p.removeClass("hide"),f.addClass("hide")},complete:function(){u.find('[type="submit"]').not(".js-phone-renew-code").prop("disabled",!1),p.addClass("hide")},success:(v=o()(i.a.mark((function n(a){var o,l,p,f;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a.data,u.find(".js-code").removeClass("hide"),u.find(".js-check-code").removeClass("hide"),u.find(".js-phone-renew-code").prop("disabled",!0),!(o.remain&&o.remain>0)){n.next=14;break}return u.find(".js-hint").removeClass("hidden"),u.find(".js-code").prop("required",!0),l=function(e){return function(){if((e-=1)<=0)u.find(".js-hint").addClass("hidden"),u.find(".js-phone-renew-code").prop("disabled",!1),clearInterval(s);else{var t=e,n=parseInt(t/60),a=(t-=60*n)>0?"".concat(t," ").concat(Object(d.h)(t,"секунду","секунды","секунд")):"";n>0&&(a="".concat(n," ").concat(Object(d.h)(n,"минуту","минуты","минут")," ").concat(a)),u.find(".js-hint-value").html(a)}}}(o.remain),clearInterval(s),l(),s=setInterval(l,1e3),(p=c()(r).find(".js-phone-confirm-call")).length&&p.removeClass("hide"),n.abrupt("return");case 14:if(f=null,!o.duplicate){n.next=19;break}return n.next=18,h({dupEmail:o.duplicate_email,myEmail:o.self_email,phone:g});case 18:f=n.sent;case 19:"ok"===o.status&&e.onSuccess&&(null==f||f)&&e.onSuccess(t,g);case 20:case"end":return n.stop()}}),n)}))),function(e){return v.apply(this,arguments)}),error:function(e){var t=e.responseJSON,n=f.find(".input-error__text");t&&t.data.error?n.html(t.data.error):n.html("Неизвестная ошибка"),f.removeClass("hide")}})})))}))},c()('[data-modal-id="dod-phone"]').each((function(){u.a.open("dod-phone"),c()(this).phoneConfirm({onSuccess:function(e){var t=e.attr("data-success");e.find(".js-header").remove(),e.find(".js-content").empty(),e.find(".js-content").append(c()("<div/>",{class:"text text_center text_no-padding text_h2",html:t})),setTimeout((function(){return u.a.close("dod-phone")}),3e3)}})})),c()(document).on("submit",".js-apply-discount",(function(e){l.a.isPhoneConfirmed||(e.preventDefault(),u.a.open("apply-discount"),c()('[data-modal-id="apply-discount"]').phoneConfirm({onSuccess:function(){return e.currentTarget.submit()}}))})),c()(document).on("click",".js-change-phone",(function(e){e.preventDefault();var t=e.currentTarget,n=c()(".js-change-phone-group"),a="true"===t.getAttribute("data-submit"),i="true"===t.getAttribute("data-reload"),s="true"===t.getAttribute("data-no-reload");c()('[data-modal-id="change-phone"]').phoneConfirm({onSuccess:function(e,a){if(s?(c()(t).hide(),n.removeClass(n.data("group-class")),n.find('[name="phone"]').val(a)):u.a.addCloseCallback("change-phone",(function(){return location.reload()})),i)u.a.close("change-phone");else{var o=e.attr("data-success");e.find(".js-header").remove(),e.find(".js-content").empty(),e.find(".js-content").append(c()("<div/>",{class:"text text_center text_no-padding text_h2",html:o}))}}}),u.a.open("change-phone",{onOpen:function(e){a&&u.a.getModal(e).find(".js-send").click()}})}))},Rv95:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("EVdn"),i=n.n(a),s=n("Mm9G"),o=n("dCQj"),r=n("S/a7"),c=n("a9sj"),d=n("WeMH"),l=n("/kyj");i()(document).on("click",".js-open-modal-reg",(function(){r.a.open("new-log-reg",{onOpen:function(){i()(".new-log-reg__head-item:not(.js-modal-login-tab)").trigger("click")}})})),i()(document).on("submit",".js-registration",(function(e){var t=this;e.preventDefault();var n=i()(this).find('button[type="submit"]'),a=i()(this).parents("[data-flags]").attr("data-flags"),c=i()(this),l=i()(this).find(".new-input-error"),u=c.find(".js-phone-verify-link"),h=i()(this).serialize();i.a.ajax({url:i()(this).attr("action"),method:"post",data:h,beforeSend:function(){n.prop("disabled",!0),u.prop("disabled",!0),i()(t).find(l).addClass("hide")},success:function(e){if(o.a.isAuth=!0,o.a.csrf=e.csrf_token,i()(document).trigger("otus:success-registration"),s.a.sendBulk([{type:"ga",args:["send","event","Register","success",h.type]},{type:"ya",method:"reachGoal",goal:"register_success"},{type:"vk-pixel",events:["complete_registration"]},{type:"fbq-pixel",events:["CompleteRegistration"]}]),!a||-1===a.indexOf("noReload")){if(window.uId=e.user_id,e.user_id||e.html)return n.prop("disabled",!0),e.html?c.closest(".js-new-log-reg").html(e.html):(c.find(".js-phone-verify").removeAttr("data-form-selector"),u.prop("disabled",!1).click()),void r.a.addCloseCallback("new-log-reg-event",(function(){location.reload()}));if(n.prop("disabled",!1),e.online_course_id)return e.redirect_url&&(location.href=e.redirect_url),void(e.payment_url&&Object(d.a)(e.payment_url,{online_id:e.online_course_id,csrfmiddlewaretoken:e.csrf_token}));if(e.url)location.href=e.url;else{var t=e.modal?"#openmodal="+e.modal:"";o.a.next&&t?(location.href="".concat(o.a.origin).concat(o.a.next)+t,location.reload()):o.a.next?location.href=decodeURIComponent(o.a.next):location.reload()}}},error:function(e){n.prop("disabled",!1),u.prop("disabled",!1);var a=!1;if(e&&e.responseJSON&&e.responseJSON.errors&&"email"in e.responseJSON.errors&&(a=!0),a||s.a.sendBulk([{type:"ga",args:["send","event","Register","bad",h.type]},{type:"ya",method:"reachGoal",goal:"register_error"}]),e&&e.responseJSON&&e.responseJSON.errors){var o=e.responseJSON.errors,r=!1;i.a.each(o,(function(e,n){if(!r){var a=i()(t).find('[name="'.concat(e,'"]'));"checkbox"===a.attr("type")?a.closest(".new-checkbox").addClass("new-checkbox_error"):a.addClass("new-input_error");var s=a.closest(".new-input-line").find(l);s.html(n[0]),s.removeClass("hide"),r=!0}}))}else{var c=i()(t).find(".js-error-common"),d=c.find(".js-text");d.html("Неизвестная ошибка"),d.removeClass("hide")}}})})),i()(document).ready((function(){if(location.href.indexOf("#openmodal=")>-1){var e=location.href.match("#openmodal=[a-zA-Z-_]+")[0];e=e.replace("#openmodal=",""),r.a.open(e)}if(location.href.indexOf("#subscribe=")>-1){var t=location.href.match("#subscribe=[1-9-a-zA-Z-_]+")[0];t=t.replace("#subscribe=",""),i()("form#formSubscription button[data-subscription-type=".concat(t,"]")).click()}var n=location.origin+location.pathname+location.search;history.replaceState({},document.title,n)})),i()(document).on("click",".js-new-assessment-begin",(function(){i()(this).prop("disabled",!0);var e=i()(".js-assessment-manual-submit");e.find('input[name="csrfmiddlewaretoken"]').val(o.a.csrf),window.formAssessmentSubmit=!0;var t=e.find('input[name="ga_goal_dod_without_assessment"]').val(),n=e.find('input[name="ya_goal_dod_without_assessment"]').val(),a=[];t&&a.push({type:"ga",args:["send","event","Assessment",t,course_slug]}),n&&a.push({type:"ya",method:"reachGoal",goal:n,args:{courseSlug:course_slug}}),s.a.sendBulk(a),e.submit()})),i()(document).on("click",".js-get-consultation-button",(function(){location.reload()})),i()(document).on("click",".js-new-reg-log-join-event",(function(){var e=this;i()(this).prop("disabled",!0);var t=i()(this).parents(".js-registration"),n=t.find('input[name="source"]').val(),a=t.find('input[name="source_id"]').val(),o={};n&&a&&(o.source_id=a,o.source=n),i.a.ajax({url:i()(this).attr("data-event-url"),method:"post",data:c.a.update(o),complete:function(){i()(e).prop("disabled",!1)},success:function(n){var a=n.html,o=n.redirect_url,r="true"===t.find('input[name="has_event_item"]').val();if(r&&"true"===t.find('input[name="send_smart_target"]').val()){var c=t.find('input[name="course_slug"]').val(),d=t.find('input[name="event_type"]').val(),l=t.find('input[name="ga_goal_dod_without_assessment"]').val(),u=t.find('input[name="ya_goal_dod_without_assessment"]').val(),h=[];l&&h.push({type:"ga",dimensions:[d],args:["send","event","Assessment",l,c]}),u&&h.push({type:"ya",method:"reachGoal",goal:u,args:{courseSlug:c}}),s.a.sendBulk(h)}if(a)i()(e).closest(".js-new-log-reg").html(a),s.a.push({type:"ga",args:["send","event","event","event_enroll_ok",course_slug]});else if(o){var p=o;r&&(p+="?source=dod"),location.href=p}else location.reload()},error:function(e){}})})),i()(document).on("click",".js-new-reg-log-join-intensive",(function(){var e=this;i()(this).prop("disabled",!0),i.a.ajax({url:i()(this).attr("data-intensive-url"),method:"post",data:c.a.update(),complete:function(){i()(e).prop("disabled",!1)},success:function(t){var n=t.html,a=t.redirect_url;n?i()(e).closest(".js-new-log-reg").html(n):a?location.href=a:location.reload()},error:function(e){}})})),i()(document).on("click",".js-new-reg-log-course-request",(function(){i()(this).prop("disabled",!0),i()(window).off("beforeunload"),r.a.removeCloseCallback("new-log-reg-event");var e=i()("#group_id").val(),t=i()("#course_id").val(),n=i()("#course_slug").val(),a=i()('input[name="ya_goal_request_send"]').val(),o=i()('input[name="ga_goal_request_send"]').val();i.a.ajax({url:"/claim/send/",method:"post",data:c.a.update({group:e}),error:function(){l.a.error({text:"Ошибка при создании заявки",timeout:2e3})},success:function(){i()(".new-log-reg-container").addClass("hide"),r.a.addCloseCallback("course-request",(function(){return location.reload()}));var e=r.a.getModal("course-request");r.a.open(e);var c=[];a&&c.push({type:"ya",method:"reachGoal",goal:a,args:{courseId:t}}),o&&c.push({type:"ga",dimensions:[t],args:["send","event","Assessment",o,n]}),s.a.sendBulk(c)}})})),i()(document).on("click",".js-new-reg-log-subscription-button",(function(){i()(this).prop("disabled",!0);var e="#subscribe="+i()(this).data("subscription-type");location.href="".concat(o.a.origin).concat(o.a.next)+e,location.reload()}));var u={student:["fname","email"],teacher:["fname","email","phone"],b2b:["fname","phone","email"]};function h(e){i()(".js-registration").find("input#type-".concat(e)).click()}i()(document).on("click",Object.keys(u).map((function(e){return"#type-".concat(e)})).join(", "),(function(){var e=i()(this).attr("id").replace("type-",""),t=".js-new-log-reg-fields";i()(t).addClass("hide"),i()("".concat(t,'[data-tab*="').concat(e,'"]')).removeClass("hide"),i()(".js-registration").find("input").each((function(){-1!==u[e].indexOf(i()(this).attr("name"))?i()(this).not(".hide").attr("required",!0):i()(this).removeAttr("required")}))})),i()(document).on("keyup",".js-reg-form",(function(){var e=i()(".js-reg-form").find(".js-input[name=fname]");" "===e.val().substr(e.val().length-1)&&(e.val(e.val().substring(0,e.val().length-1)),i()(".js-reg-form").find("input[name=lname]").focus())})),h("student")},"S+IZ":function(e,t,n){"use strict";var a=n("RIqP"),i=n.n(a),s=n("EVdn"),o=n.n(s),r=n("R5z4"),c=n("0JBz"),d=n.n(c),l=n("rgB7"),u=n("Mm9G"),h=new RegExp("\\S*(\\s+\\S*)$","u");o()(".js-ellipse").each((function(e,t){for(var n=t.clientHeight;t.scrollHeight>n;)t.textContent=t.textContent.replace(h,"...")})),o()(".js-lessons").each((function(){var e=o()(this);e.find(".js-experts-swiper").each((function(){var e,t,n,a=this,i=(n=o()(a).find(".swiper-slide"),function(){var i;(i=window.innerWidth<=l.ssm?1:n.length>=3?3:n.length)!==t&&(e&&e.destroy(),e=new d.a(a,{direction:"horizontal",keyboardControl:!0,slidesPerView:i,spaceBetween:10,nested:!0,clickable:!0,navigation:{nextEl:".experts__arrow_next",prevEl:".experts__arrow_prev"},pagination:{el:".swiper-pagination",type:"bullets",bulletClass:"experts__pagination_bullet",bulletActiveClass:"experts__pagination_bullet-active"}}),t=i)});i(),window.addEventListener("resize",i)})),Object(r.a)(e)})),o()(".course-visit-card__iframe, .course-visit-card__chunk-b_iframe, .course-visit-card__chunk-a_iframe").each((function(){var e=this;o()(this).ready((function(){var t=!1;window.addEventListener("blur",(function(){if(t){var n=o()(e).attr("data-event"),a=o()(e).attr("data-goal"),s=[];n&&s.push({type:"ga",args:["send","event"].concat(i()(n.split(";")))}),a&&s.push({type:"ya",method:"reachGoal",goal:a}),u.a.sendBulk(s)}})),e.addEventListener("mouseover",(function(){t=!0})),e.addEventListener("mouseout",(function(){t=!1}))}))})),o()(".js-request-container").each((function(){var e=o()(this),t=e.find('input[name="terms_agree"]'),n=e.find(".js-request-trial"),a=e.find(".js-request-button");function i(){var e=o()(this).is(":checked");n[e?"removeClass":"addClass"]("request__link__trial_disabled"),a.attr("disabled",!e)}t.each(i),t.on("click",i)}))},"S/a7":function(e,t,n){"use strict";(function(e){var a=n("RIqP"),i=n.n(a),s=n("lwsE"),o=n.n(s),r=n("W8MJ"),c=n.n(r),d=n("EVdn"),l=n.n(d),u=n("Mm9G");window.otus=window.otus||{};var h=function(){function t(){var e=this;o()(this,t),this.opened=[],this.body=l()("body"),this.html=l()("html"),this.onClose={},this.onAjax={};var n=this;l()(document).on("click",".js-close-modal",(function(e){e.preventDefault(),l()(e.currentTarget).parents("[data-modal-id]").each((function(){n.close(l()(this).attr("data-modal-id"))}))})),l()(document).on("click",".js-modal-wrapper",(function(e){if(l()(e.target).hasClass("js-modal-wrapper")){if(l()(e.target).attr("data-no-wrapper-close"))return;l()(e.currentTarget).parents("[data-modal-id]").each((function(){n.close(l()(this).attr("data-modal-id"))}))}})),l()(document).on("click",".js-open-modal",(function(e){var t=l()(e.currentTarget),a={};"false"!==t.attr("data-modal-prevent")&&e.preventDefault();var i=t.attr("data-modal-id");i||(i=(i=t.attr("href")||"").replace("#",""));["data-iframe","data-title","data-button_title"].forEach((function(e){if(t.attr(e)){var n=e.replace("data-","");a[n]=t.attr(e)}})),n.open(i,a)})),l()(document).on("keydown",(function(t){"Escape"===t.key&&e.closeAll()})),t._instance=this}return c()(t,[{key:"getModal",value:function(t){return t instanceof e?t:l()('.modal-container[data-modal-id="'.concat(t,'"]'))}},{key:"open",value:function(t,n){var a=this,i=this;t instanceof e&&(t=t.attr("data-modal-id"));var s=this.getModal(t);return n=n||{},s.each((function(e,s){var o=l()(s);if(-1===a.opened.indexOf(t)&&a.opened.push(t),a.body.addClass("overflow-hidden"),n.noClose&&o.addClass("no-close"),n.iframe){var r=function(e){var t=o.find("iframe"),n=o.find(".js-container"),a=t.clone();t.remove(),a.attr("src",e),a.appendTo(n)};a.addCloseCallback(t,(function(){r(null)})),r(n.iframe)}function c(){n.onOpen&&n.onOpen(t)}n.title&&o.find(".js-modal-title").text(n.title),n.button_title&&o.find(".js-modal-button-title").text(n.button_title),(l()(s).attr("data-modal-hide-remove-class")||"hide").split(",").map((function(e,t){l()(s).removeClass(e)})),n.flags?o.attr("data-flags",n.flags):o.attr("data-flags",""),o.attr("data-modal-ajax")?l.a.ajax({url:o.attr("data-modal-ajax"),data:o.attr("data-query")?JSON.parse(o.attr("data-query")):void 0,method:"get",success:function(e){o.find(".js-modal-content").html(e.html),o.attr("data-modal-ajax-once")&&o.removeAttr("data-modal-ajax"),i.onAjax[t]=(i.onAjax[t]||[]).filter((function(t){return t.callback(e),!t.use_once})),c()}}):c()})),s}},{key:"closeAll",value:function(){var e=JSON.parse(JSON.stringify(this.opened));for(var t in e)e.hasOwnProperty(t)&&this.close(e[t])}},{key:"close",value:function(e){var t=this;l()('.modal-container[data-modal-id="'.concat(e,'"]')).each((function(n,a){if(!l()(a).hasClass("no-close")){var s=t.opened.indexOf(e);s>-1&&t.opened.splice(s,1),t.onClose[e]=(t.onClose[e]||[]).filter((function(e){return e.callback(),!e.use_once}));var o=l()(a).attr("data-modal-hide-add-class")||"hide";l()(a).addClass(o),setTimeout((function(){var e=l()(a).attr("data-modal-hide-add-delay-class");l()(a).addClass(e)}),500);var r=l()(a).attr("data-event-onclose");r&&u.a.send({type:"ga",args:["send","event"].concat(i()(r.split(";")))}),0===t.opened.length&&t.body.removeClass("overflow-hidden")}}))}},{key:"addCloseCallback",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.onClose[e]||(this.onClose[e]=[]),this.onClose[e].push({callback:t,use_once:n})}},{key:"removeCloseCallback",value:function(e){this.onClose[e]=[]}},{key:"addAjaxCallback",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.onAjax[e]||(this.onAjax[e]=[]),this.onAjax[e].push({callback:t,use_once:n})}}],[{key:"getInstance",value:function(){return window.otus.__modal||(window.otus.__modal=new t),window.otus.__modal}}]),t}();t.a=h.getInstance()}).call(this,n("EVdn"))},SHaI:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return j}));var a=n("EVdn"),i=n.n(a),s=n("0JBz"),o=n.n(s),r=n("bNQv"),c=n.n(r),d=n("S/a7"),l=n("Mm9G"),u=n("dCQj"),h=n("23Vx"),p=(n("IdN3"),n("iRix"),n("rgB7")),f=n("TVO4"),m=n("a9sj");function v(){var e=new URL(window.location.href);if(e.hash="consultation",u.a.isAuth&&u.a.isPhoneConfirmed||window.history&&history.replaceState("",document.title,e.toString()),u.a.isAuth||u.a.isPhoneConfirmed)if(u.a.isAuth&&!u.a.isPhoneConfirmed){i()('[data-modal-id="getConsultation"]').phoneConfirm({onSuccess:function(e,t){d.a.addCloseCallback("getConsultation",(function(){return location.reload()})),location.reload()}});var t=d.a.getModal("getConsultation");d.a.open(t)}else u.a.isAuth&&u.a.isPhoneConfirmed&&i.a.ajax({url:i()(".js-get-consultation").attr("data-url"),method:"POST",data:m.a.update({course_id:i()(".js-get-consultation").attr("data-course-id")}),success:function(e){e.data;var t=i()('[data-modal-id="getConsultation"]');t.find(".js-header").remove(),t.find(".js-content").empty(),t.find(".js-success-text").removeClass("hide"),d.a.getModal("getConsultation"),d.a.open(t);var n=new URL(window.location.href);n.hash="",window.history&&history.replaceState("",document.title,n.toString())}});else{var n=d.a.getModal("new-log-reg-event"),a=n.attr("data-query");a&&((a=JSON.parse(a)).is_consultation_request=!0,n.attr("data-query",JSON.stringify(a))),d.a.addCloseCallback("new-log-reg",(function(){history.replaceState("",document.title,e)}),!0),d.a.open(n)}}function g(e){var t=i()(e),n=t.data("is-dod"),a=t.attr("data-event-id"),s=t.data("phone-required"),o=t.data("source-type"),r=t.data("source-id"),c=!(u.a.isPhoneConfirmed||n&&!s);if((!u.a.isAuth||c)&&!i()(this).data("subscribed")){var l=d.a.getModal("new-log-reg-event"),h=l.attr("data-query");return h&&((h=JSON.parse(h)).event_item_id=a,h.source=o,h.source_id=r,l.attr("data-query",JSON.stringify(h))),void d.a.open(l)}var p=d.a.getModal("event-signup");p.find('.js-event-modal-block[data-mode="'.concat(t.attr("data-mode"),'"]')).removeClass("hide"),p.find(".js-event-modal-block").not('[data-mode="'.concat(t.attr("data-mode"),'"]')).addClass("hide"),p.find(".js-event-signup").attr("action",t.attr("data-url")),"true"===t.attr("data-subscribed")?(p.find(".js-event-modal-success").removeClass("hide"),p.find(".js-event-signup").addClass("hide"),p.find(".js-event-modal-dsc").addClass("hide")):(p.find(".js-event-modal-success").addClass("hide"),p.find(".js-event-signup").removeClass("hide"),p.find(".js-event-modal-dsc").removeClass("hide")),d.a.open(p)}function b(e){var t=window.history;if(t){var n=e.getAttribute("data-event-id"),a="event-".concat(n),i=new URL(window.location.href);i.hash=a,n&&(t.replaceState("",document.title,i.href),["event-signup","new-log-reg-event"].map((function(e){d.a.addCloseCallback(e,(function(){var e=new URL(window.location.href);e.hash="",t.replaceState("",document.title,e.href)}))})))}}function y(e){var t=d.a.getModal("profession-video");d.a.open(t,{iframe:i()(e).attr("data-embed")})}function w(e){var t=window.history;if(t){var n=e.getAttribute("data-event-id"),a="event-".concat(n),i=new URL(window.location.href);i.hash=a,n&&(t.replaceState("",document.title,i.href),d.a.addCloseCallback("profession-video",(function(){var e=new URL(window.location.href);e.hash="",t.replaceState("",document.title,e.href)})))}}function j(e){var t=location.hash.match(/#event-(video-)?([0-9]+)/);if(t){var n=t[1]||"",a=parseInt(t[2]);if(a){var i='[data-event-id="'.concat(n).concat(a,'"]');Array.from(e.querySelectorAll(".js-event-watch".concat(i,", .js-join-event").concat(i))).forEach((function(e){e.click()}))}}}i()(".js-course").each((function(){var e,t,n,a=function(e,t){switch(e){case"index":r(t);break;case"process":m(t)}},s=function(e,t){var n=null;return k.find(e).each((function(){var e=i()(this).find(".swiper-slide");if(e.each((function(){var e=i()(this).find(".js-review-box").get(0);e.scrollHeight>e.clientHeight&&i()(this).find(".js-read-more").removeClass("hide")})),e.length>1){n&&(n.destroy(),n=null);var a={direction:"horizontal",loop:!0,keyboardControl:!0,nested:!0,navigation:{nextEl:".course-reviews__arrow_next",prevEl:".course-reviews__arrow_prev"}};i.a.extend(a,t||{}),n=new o.a(this,a)}})),n},r=function(t){s(".js-review-swiper",{slidesPerView:1,spaceBetween:30}),s(".js-review-swiper-mobile",{slidesPerView:"auto",spaceBetween:10}),t.find(".js-teacher-swiper").each((function(){e=Object(f.a)(this,e)})),t.find(".js-right-price").each((function(){var e=i()(this);window.addEventListener("scroll",(function t(){if(window.scrollY>200){e.removeClass("hide"),window.removeEventListener("scroll",t);var n=e.parents(".js-right-price-container");if("true"===e.attr("data-right-price-inited"))return;e.attr("data-right-price-inited","true");var a=e.position().top,s=e.height(),o=a+s,r=n.position().top+n.height()-50,c=null,d=function(){var t=u.a.document.scrollTop()+48+36,n=0;t>a&&(n=t-a),o+n>r&&(n=r-o),null!==c&&c===n||(c=n,e.css("transform","translate3d(0, ".concat(n,"px, -1px)")))};i()(document).on("scroll",d),d()}}))}))},m=(n=!0,function(){var e=function(){k.find(".js-step-swiper").each((function(){t&&(t.destroy(),t=null),window.innerWidth<=parseInt(p.sm)?t=new o.a(this,{direction:"horizontal",loop:!1,keyboardControl:!0,slidesPerView:1,nested:!0,spaceBetween:0,navigation:{nextEl:".course-steps__arrow_right",prevEl:".course-steps__arrow_left"}}):(i()(this).find(".swiper-slide").css("width",""),i()(this).find(".swiper-wrapper").css({transform:"","transition-duration":""}))}))};n&&(e(),window.addEventListener("resize",e),n=!1)}),k=i()(this);a(k.attr("data-mode"),k),document.addEventListener("tabsPushState",(function(e){return a(e.detail.mode,k)})),window.addEventListener("popstate",(function(e){k.find('.js-tab[data-href="'.concat(location.pathname,'"]')).click(),l.a.yaMetrika.hit(location.pathname)})),k.on("click","[data-embed]",(function(e){y(this),w(this)})).on("click",".js-test-why",(function(e){e.preventDefault(),d.a.open("test-why").find(".js-bars").each((function(){var e=i()(this);e.attr("data-ready")||i.a.ajax({url:i()(this).attr("data-url"),beforeSend:function(){e.find(".js-loader").removeClass("hide")},complete:function(){e.find(".js-loader").addClass("hide")},success:function(t){var n=t.data;c()(n,(function(t,n){e.find(".js-".concat(n.toLowerCase()," .js-value")).css("height","".concat(t,"%"))})),e.attr("data-ready",!0)}})}))})).on("click",".js-partners-more",(function(e){e.preventDefault(),i()(this).parents(".js-partners").find(".js-partner").removeClass("hide"),i()(this).remove()})).on("click",".js-videos-more",(function(e){e.preventDefault(),i()(this).parents(".js-course-videos").find(".js-video").removeClass("hide"),i()(this).parent().remove()})).on("click",".js-lesson",(function(e){e.preventDefault();var t=i()(".course-nav"),n=i()(this).parents(".js-screens"),a=i()(this),s=a.hasClass("course-process__lesson_open");n.find(".js-lesson").removeClass("course-process__lesson_open"),s||(a.addClass("course-process__lesson_open"),t.length>0&&Object(h.a)(a,{offset:-parseInt(i()(".course-nav").css("height"))}))})).on("click",".js-read-more",(function(e){var t=i()(this).parents(".js-review").clone(),n=i()(".js-review-modal-content");n.html(t),n.find(".js-read-more").remove(),n.find(".js-review").prepend(i()("<div/>",{html:"Отзывы",class:"text text_h1 text_light"})),d.a.open("review-modal")})).on("click",".js-join-event",(function(e){e.preventDefault(),b(this),g(this)})).on("click",".js-get-consultation",(function(e){v()})).on("click",".js-course-request",(function(e){var t=i()("#course_id").val(),n=i()("#course_slug").val(),a=i()('input[name="ya_goal_request_send"]').val(),s=i()('input[name="ga_goal_request_send"]').val(),o=i()('input[name="ya_goal_request_not_send"]').val(),r=i()('input[name="ga_goal_request_not_send"]').val();function c(){i()(window).off("beforeunload"),d.a.removeCloseCallback("new-log-reg-event"),o&&l.a.sendBulk([{type:"ya",method:"reachGoal",goal:o,args:{courseId:t}}]),r&&l.a.sendBulk([{type:"ga",dimensions:[t],args:["send","event","Assessment",r,n]}])}if(u.a.isAuth&&u.a.isPhoneConfirmed){d.a.addCloseCallback("course-request",(function(){return location.reload()}));var h=d.a.getModal("course-request");d.a.open(h),a&&l.a.sendBulk([{type:"ya",method:"reachGoal",goal:a,args:{courseId:t}}]),s&&l.a.sendBulk([{type:"ga",dimensions:[t],args:["send","event","Assessment",s,n]}])}else{e.preventDefault(),i()(window).on("beforeunload",c),d.a.addCloseCallback("new-log-reg-event",c);var p=d.a.getModal("new-log-reg-event"),f=p.attr("data-query");f&&((f=JSON.parse(f)).course_id=t,f.course_request=!0,p.attr("data-query",JSON.stringify(f))),d.a.open(p)}})),"#consultation"===location.hash&&v(),j(this),"#youtube-live"===location.hash&&k.find(".js-event-watch, .js-join-event").filter("[data-event-id]").first().trigger("click"),i()(".js-anchor").on("click",(function(){var e=i()(this).attr("data-anchor");e&&window.history&&history.replaceState("",document.title,"".concat(window.location.pathname).concat(window.location.search,"#").concat(e))})),location.href.match(/\/(module)|(step)\d+\/$/)&&Object(h.a)("#program",{offset:-150});var _=i()(k).find(".js-course-credit-info");_.each((function(){i()(this).tooltip({value:'<a target="_blank" href="'.concat(_.data("url"),'">Подробные условия кредита</a>'),position:i()(window).width()>1e3?"top":"left",width:"120px"})})),i()(k).find(".js-closed-beta-info").each((function(){i()(this).tooltip({class:"blue",value:'<span style="color: cornflowerblue">\n                        Уникальная возможность первым пройти обучение на курсе и дать обратную связь для\n                        cовершенствования программы. Только участникам закрытого бета-тестирования мы предлагаем\n                        уникальную стоимость обучения.\n                    </span>',position:i()(window).width()>700?"right":"bottom",width:i()(window).width()>700?"500px":"250px"})}));var C=function(){var e=k.find(".js-course-header2-info-text"),t=e.find(".js-course-header2-admin-text");t.removeClass("hide"),e.addClass("course-header2__info-text_no-height");var n=e.height();window.matchMedia("(min-width: 768px)").matches&&n>185&&t.addClass("hide"),e.removeClass("course-header2__info-text_no-height")};C(),window.addEventListener("resize",C)})),i()(".js-coruse-header2-price-box-apply-center").each((function(){var e;(e=this).classList.remove("course-header2-price-box__center"),1===e.childElementCount&&e.classList.add("course-header2-price-box__center")}))},SO0L:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("dwZm"),o=n("S/a7"),r=n("Mm9G"),c=n("a9sj");i()(".js-form-in-modal").each((function(){i()(this).submit((function(e){var t=this;e.preventDefault(),i.a.ajax({url:i()(this).attr("action"),method:"post",data:c.a.updateUrlEncoded(i()(this).serialize()),beforeSend:function(){i()(t).find('[type="submit"]').prop("disabled",!0),i()(t).find(".js-error").addClass("hide"),i()(t).find(".js-loader").removeClass("hide")},complete:function(){i()(t).find('[type="submit"]').prop("disabled",!1),i()(t).find(".js-loader").addClass("hide")},success:function(e){"ok"===e.status?(o.a.close(i()(t).data("modal")),e.url&&(location.href=e.url)):(i()(t).find(".js-error").removeClass("hide"),i()(t).find(".js-text").html(e.errors.join("<br/>")))}})}))}));var d=n("o0o1"),l=n.n(d),u=n("J4zp"),h=n.n(u),p=n("yXPU"),f=n.n(p),m=n("dCQj"),v=n("WeMH"),g=n("/kyj"),b=n("l1BO");i()(document).on("click",".js-open-modal-login",(function(){o.a.open("new-log-reg",{onOpen:function(){i()(".new-log-reg__head-item.js-modal-login-tab").trigger("click")}})})),i()(document).on("submit",".js-login",function(){var e=f()(l.a.mark((function e(t){var n,a,s,d,u,p=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=i()(this),a=n.find('button[type="submit"]'),s=n.parents("[data-flags]").attr("data-flags"),d=n.find(".js-error-common"),u=d.find(".js-text"),i.a.ajax({url:n.attr("action"),method:"post",data:n.serialize(),beforeSend:function(){a.prop("disabled",!0),u.addClass("hide")},complete:function(){return a.prop("disabled",!1)},success:function(){var e=f()(l.a.mark((function e(t){var d,u,f,y,w,j,k,_,C,x,E,S,T,P,O,A,B,L,M,q,N,I;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.a.isAuth=!0,m.a.csrf=t.csrf_token,window.uId=t.user_id,i()(document).trigger("otus:success-auth"),d=n.find('input[name="event_item_id"]').val(),u="true"===n.find('input[name="send_smart_target"]').val(),!d||!u){e.next=18;break}return f=n.find('input[name="course_slug"]').val(),y=n.find('input[name="event_type"]').val(),e.next=11,Promise.all([Object(b.a)("/api/events.item.list","get",{params:{course:f,assessment_required:!1,already_registered:!0}}),Object(b.a)("/api/events.item.get","get",{params:{id:d}})]);case 11:w=e.sent,j=h()(w,2),k=j[0],_=j[1],C=n.find('input[name="ga_goal_dod_without_assessment"]').val(),x=n.find('input[name="ya_goal_dod_without_assessment"]').val(),0!==k.data.findIndex((function(e){return e.id.toString()===d}))||_.data.course_claim_exists||(E=[],C&&E.push({type:"ga",dimensions:[y],args:["send","event","Assessment",C,f]}),x&&E.push({type:"ya",method:"reachGoal",goal:x,args:{courseSlug:f}}),r.a.sendBulk(E));case 18:if(!s||-1===s.indexOf("noReload")){e.next=20;break}return e.abrupt("return");case 20:if((S=i()(p).closest("[data-modal-id]").attr("data-additional"))&&(S=JSON.parse(S)),!t.html){e.next=30;break}return a.prop("disabled",!0),t.html&&i()(p).closest(".js-new-log-reg").html(t.html),o.a.addCloseCallback("new-log-reg-event",(function(){location.reload()})),o.a.addCloseCallback("new-log-reg-intensive",(function(){location.reload()})),e.abrupt("return");case 30:a.prop("disabled",!1);case 31:if(!t.assessment_url){e.next=36;break}return T=t.assessment_url,d&&(T+="?source=dod"),location.href=T,e.abrupt("return");case 36:if(!t.online_course_id){e.next=40;break}return t.redirect_url&&(location.href=t.redirect_url),t.payment_url&&Object(v.a)(t.payment_url,{online_id:t.online_course_id,csrfmiddlewaretoken:t.csrf_token}),e.abrupt("return");case 40:if(!t.subscription_type){e.next=45;break}return P="#subscribe="+t.subscription_type,location.href="".concat(m.a.origin).concat(m.a.next)+P,location.reload(),e.abrupt("return");case 45:if(!t.is_request){e.next=61;break}if(i()(window).off("beforeunload"),o.a.removeCloseCallback("new-log-reg-event"),!t.user_phone_confirmed){e.next=58;break}return O=i()("#group_id").val(),A=i()("#course_id").val(),B=i()("#course_slug").val(),L=i()('input[name="ya_goal_request_send"]').val(),M=i()('input[name="ga_goal_request_send"]').val(),i.a.ajax({url:"/claim/send/",method:"post",data:c.a.update({group:O}),error:function(){g.a.error({text:"Ошибка при создании заявки",timeout:2e3})},success:function(){var e=[];L&&e.push({type:"ya",method:"reachGoal",goal:L,args:{courseId:A}}),M&&e.push({type:"ga",dimensions:[A],args:["send","event","Assessment",M,B]}),r.a.sendBulk(e),i()(".new-log-reg-container").addClass("hide"),o.a.addCloseCallback("course-request",(function(){return location.reload()}));var t=o.a.getModal("course-request");o.a.open(t)}}),e.abrupt("return");case 58:return q=o.a.getModal("new-log-reg-event"),o.a.open(q),e.abrupt("return");case 61:S&&S.eventUrl?(location.href=decodeURIComponent(S.eventUrl),location.reload()):t.phone_require&&!t.user_phone_confirmed?(N=i()(".js-join-event"),I=i()(".js-join-intensive-event"),N.length>0?N.click():I.click()):m.a.next?location.href=decodeURIComponent(m.a.next):location.reload();case 62:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){r.a.sendBulk([{type:"ga",args:["send","event","Auth","bad"]},{type:"ya",method:"reachGoal",goal:"auth_error"}]),e&&e.responseJSON&&e.responseJSON&&"invalid_password"===e.responseJSON.status?u.html("Такая пара логин/пароль не существует"):u.html("Неизвестная ошибка"),u.removeClass("hide")}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());n("RSA4"),n("Rv95");var y=n("jyKj"),w=n("FT4H");i()(".js-remind").each((function(){var e=i()(this).find('button[type="submit"]'),t=i()(this).find(".js-error"),n=i()(this).find(".js-email-check"),a=i()(this).find(".js-push-check"),s=i()(this).find(".js-email-line"),o=i()(this).find(".js-email-input");Object(w.b)()&&a.prop("disabled",!0);var c=function(){e.prop("disabled",!n.prop("checked")&&!a.prop("checked"))};i()(n).on("change",(function(e){e.currentTarget.checked?(o.prop("required",!0),s.removeClass("hide")):(o.prop("required",!1),s.addClass("hide")),c()})),i()(a).on("change",function(){var e=f()(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i()(t.currentTarget).prop("checked")){e.next=6;break}return t.preventDefault(),e.next=4,Object(w.d)();case 4:n=e.sent,i()(t.currentTarget).prop("checked",n);case 6:Object(w.b)()&&a.prop("disabled",!0),c();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i()(this).on("submit",(function(n){var a=this;n.preventDefault(),i.a.ajax({url:i()(this).attr("action"),method:"post",data:i()(this).serialize(),beforeSend:function(){e.prop("disabled",!0),t.addClass("hide")},complete:function(){return e.prop("disabled",!1)},success:function(e){r.a.yaMetrika.reachGoal("createRemind"),i()(a).replaceWith(i()("<h3/>",{html:"Мы напомним вам о тестировании через ".concat(e.timeout," ").concat(Object(y.h)(e.timeout,"час","часа","часов")),class:"remind-modal__success"}))},error:function(e){var n=t.find(".input-error__text");e&&e.responseJSON&&e.responseJSON&&"user_not_found"===e.responseJSON.status?n.html("Пользователь с такой почтой не найден"):n.html("Неизвестная ошибка"),t.removeClass("hide")}})}))})),i()(".js-restore-password").each((function(){var e=i()(this);e.find('[type="submit"]');e.on("submit",(function(e){var t=this;e.preventDefault();var n=i()(this).find('button[type="submit"]'),a=i()(this).find(".js-error");i.a.ajax({url:i()(this).attr("action"),method:"post",data:i()(this).serialize(),beforeSend:function(){n.prop("disabled",!0),a.addClass("hide")},complete:function(){return n.prop("disabled",!1)},success:function(e){i()(t).replaceWith(i()("<h3/>",{html:"Письмо со ссылкой для восстановления пароля отправлено на почту ".concat(e.email),class:"subscribe-modal__success text_center"}))},error:function(e){var t=e.responseJSON,n=a.find(".input-error__text"),i="";if("user_not_found"===(t||{}).status)i="Пользователь с таким email не найден";else i="Неизвестная ошибка";n.html(i),a.removeClass("hide")}})}))}));n("Uv3+");var j=n("bNQv"),k=n.n(j);if(i()(".js-event-signup").each((function(){var e=i()(this);o.a.addCloseCallback("event-signup",(function(){i()(".js-event-signup").removeClass("hide"),i()(".js-event-modal-success").addClass("hide"),i()(".js-event-modal-block").addClass("hide"),i()(".js-event-modal-dsc").removeClass("hide")})),e.on("submit",function(){var t=f()(l.a.mark((function t(n){var a,s,o,c,d,u,h,p,m=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),k()(e.serializeArray(),(function(e){"phone"===e.name&&(a=e.value,i()(".js-entered-phone").text(a),i()(".js-hidden-phone").val(a))})),s=e.find("[data-need-phone-confirm]"),!a||"True"!==s.data("need-phone-confirm")){t.next=12;break}o=i()(".js-send-phone-code"),c='[data-form-id="'.concat(i()(n.target).data("form-id"),'"]'),o.phoneConfirm({customFormClass:c,onSuccess:function(){i()("[data-need-phone-confirm]").data("need-phone-confirm","False"),i()(c).submit()}}),i()(".js-phone-confirm").trigger("submit"),o.removeClass("hide"),i()(".js-events-modal-main").addClass("hide"),t.next=19;break;case 12:return d=i()(".js-loader"),u=i()(".js-send-code-button"),h=i()('input[name="course_slug"]').val(),t.next=17,Object(b.a)("/api/events.item.list","get",{params:{course:h,assessment_required:!1,already_registered:!0}});case 17:p=t.sent,i.a.ajax({url:i()(this).attr("action"),method:"POST",data:i()(this).serialize(),beforeSend:function(){d.removeClass("hide"),u.addClass("hide")},success:function(){var t=f()(l.a.mark((function t(n){var a,s,o,c,u,f;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"ok"===n.status&&(a="true"===e.find('input[name="send_smart_target"]').val(),s="true"===e.find('input[name="event_course_has_test"]').val(),o=[],s||o.push({type:"vk-pixel",events:["submit_application"]},{type:"fbq-pixel",events:["SubmitApplication"]}),a&&(c=e.find('input[name="event_type"]').val(),p.data.length||(u=e.find('input[name="ga_goal_dod_without_assessment"]').val(),f=e.find('input[name="ya_goal_dod_without_assessment"]').val(),u&&o.push({type:"ga",dimensions:[c],args:["send","event","Assessment",u,h]}),f&&o.push({type:"ya",method:"reachGoal",goal:f,args:{courseSlug:h}}))),r.a.sendBulk(o),n.redirect_url?(d.removeClass("hide"),location.href="".concat(n.redirect_url,"?source=dod")):(i()(".js-send-phone-code").addClass("hide"),i()(".js-event-input-phone").addClass("hide"),i()(".js-event-signup").addClass("hide"),i()(".js-event-modal-success").removeClass("hide"),i()(".js-events-modal-main").removeClass("hide"),i()(".js-event-modal-dsc").addClass("hide"),i()('[data-url="'.concat(i()(m).attr("action"),'"]')).attr("data-subscribed","true")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),complete:function(){d.addClass("hide"),u.removeClass("hide")},error:function(e){var t=e.responseJSON;if("incorrect_email"===(t=t||{}).error)g.a.error({text:"Введите корректный email",timeout:2e3});else g.a.error({text:"Неизвестная ошибка",timeout:2e3})}});case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),i()(".js-turn-back-to-phone").on("click",(function(e){e.preventDefault(),i()(".js-send-phone-code").addClass("hide"),i()(".js-error.input-error").text(""),i()('input[name="code"]').val(""),i()(".js-events-modal-main").removeClass("hide")}))})),i()(".js-open-remind-modal").click((function(){r.a.yaMetrika.reachGoal("openRemindModal"),o.a.open("remind")})),i()(".js-open-forget-password").each((function(){i()(this).click((function(e){e.preventDefault(),o.a.closeAll(),o.a.open("restore-password")}))})),i()(document).on("click",".js-open-forget-password-new",(function(e){e.preventDefault(),o.a.closeAll(),o.a.open("restore-password")})),i()(document).on("click",".js-open-login-new",(function(e){var t=i()(this).closest(".js-registration"),n=i()(t).data("type"),a=i()(t).find(".js-email-input").val();"assessment-form"===n?i()(".js-assessment-switch").click():"course-program-form"===n?(i()(this).addClass("js-open-modal").attr("data-modal-id","new-log-reg").removeClass("js-open-login-new").click(),i()(".js-email-input").val(a)):i()(".js-modal-login-tab").click(),i()('[data-type="'+n+'"].js-login').find(".js-email-input").val(a),i()(".js-login").find(".js-psw-input").val("")})),i()(".js-open-login-modal").each((function(){i()(this).click((function(e){e.preventDefault(),o.a.closeAll();var t=o.a.getModal("new-log-reg");o.a.addAjaxCallback("new-log-reg",(function(){Object(s.a)(t,"login")})),o.a.open(t)}))})),i()(".js-open-register-modal").each((function(){i()(this).click((function(){o.a.closeAll();var e=o.a.getModal("new-log-reg");o.a.addAjaxCallback("new-log-reg",(function(){Object(s.a)(e,"register")})),o.a.open(e)}))})),i()('meta[name="open_login_modal"]').length>0){var _=o.a.getModal("new-log-reg");o.a.addAjaxCallback("new-log-reg",(function(){Object(s.a)(_,"login")})),o.a.addCloseCallback("new-log-reg",(function(){history.replaceState("",document.title,location.href.replace("/login/","/"))}),!0),o.a.open(_)}var C=i()('meta[name="open_registration_modal"]');if(C.length>0){var x=C.attr("content"),E=o.a.getModal("new-log-reg");o.a.addAjaxCallback("new-log-reg",(function(){Object(s.a)(E,"register",x)})),o.a.addCloseCallback("new-log-reg",(function(){history.replaceState("",document.title,location.href.replace("/registration/","/"))}),!0),o.a.open(E)}i()(document).on("click",".js-open-partner-modal",(function(e){var t=i()(this).data("package-type"),n=o.a.getModal("js-pp-partner-modal"),a=n.find("#formRecruitersInvite");a.find("input.js-package-type").remove(),a.append(i()("<input>",{name:"package",type:"hidden",class:"js-package-type",value:t})),o.a.open(n)}))},Sqat:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-file-input").each((function(e){var t=i()(this),n=t.find(".js-file"),a=t.find(".js-filename"),s=t.find(".js-file-reset"),o=t.find(".js-file-info");n.on("change",(function(e){a.text(n[0].files[0].name),o.removeClass("hide")})),s.on("click",(function(e){n.val(""),a.text(""),o.addClass("hide")}))}))},TVO4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("EVdn"),i=n.n(a),s=n("0JBz"),o=n.n(s);function r(e,t){if(i()(e).find(".swiper-slide").length>1)return t&&(t.destroy(),t=null),new o.a(e,{direction:"horizontal",loop:!0,keyboardControl:!0,slidesPerView:1,nested:!0,spaceBetween:30,navigation:{nextEl:".course-teachers__arrow_right",prevEl:".course-teachers__arrow_left"}})}},TZIu:function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i),o=n("C/st");s()(document).on("click",".js-cookie-accept",(a=s()(".js-cookie"),o.a.getBoolean("cookieAccept")?a.remove():setTimeout((function(){a.removeClass("cookies_hide")}),1e3),function(e){o.a.set("cookieAccept",!0),s()(e.currentTarget).parents(".js-cookie").addClass("cookies_hide")}))},UpGW:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("QdZy"),o=n("SHaI");i()(".js-promo-tab").each((function(){i()(this).click((function(){var e=i()(this).attr("data-id"),t=i()(this).attr("data-active-class"),n=i()('.js-promo-item[data-id="'.concat(e,'"]'));i()(this).addClass(t).siblings().removeClass(t),n.addClass(n.attr("data-active-class")).siblings().removeClass(n.attr("data-active-class"))}))})),i()(".js-promo-4").each((function(){i()(this).on("click",".js-join-event",(function(e){e.preventDefault(),Object(o.e)(this),Object(o.c)(this)})).on("click","[data-embed]",(function(e){e.stopPropagation(),Object(o.b)(this),Object(o.d)(this)})),Object(o.a)(this)})),i()(".js-promo-spec").each((function(){var e=i()(this);e.find(".js-swiper-spec").each((function(){var e,t=this;function n(){e&&e.destroy(),e=new s.a(t,{direction:"horizontal",loop:!0,keyboardControl:!0,slidesPerView:1,spaceBetween:200,speed:700,pagination:{el:".js-swiper-spec-pagination",type:"bullets",clickable:!0,bulletClass:"promo-spec-teachers-swiper__bullet",bulletActiveClass:"promo-spec-teachers-swiper__bullet_active"},navigation:{nextEl:'.js-swiper-spec-next[data-target="teacher-paginator"]',prevEl:'.js-swiper-spec-prev[data-target="teacher-paginator"]'},slideClass:"js-swiper-spec-slide",wrapperClass:"js-swiper-spec-wrapper",on:{slideChange:function(){i()('.js-promo-spec-link[data-action="hide"]').click()}}})}n(),window.addEventListener("resize",n)})),e.on("click",".js-join-event",(function(e){e.preventDefault(),Object(o.e)(this),Object(o.c)(this)})).on("click","[data-embed]",(function(e){e.stopPropagation(),Object(o.b)(this),Object(o.d)(this)})),Object(o.a)(this)})),i()(".js-swiper-spec-slide").each((function(){var e=i()(this),t=i()('[data-type="description"]',e),n=t.prop("scrollHeight"),a=t.css("maxHeight");a=parseInt(a,10),n>a&&i()(".js-promo-spec-link",e).removeClass("hide"),n+=parseInt(t.css("marginBottom"),10),e.on("click",'.js-promo-spec-link[data-action="show"]',(function(){var e=i()(this);t[0].style.setProperty("max-height",n+"px"),e.attr("data-action","hide"),e.find("a").text("Скрыть")})).on("click",'.js-promo-spec-link[data-action="hide"]',(function(){var e=i()(this);t[0].style.removeProperty("max-height"),e.attr("data-action","show"),e.find("a").text("Читать полностью")}))}))},"Uv3+":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("jyKj");i()(".js-subscribe").each((function(){var e=i()(this),t=e.find('[type="submit"]'),n=e.find('[name="email"]'),a=e.find("input[name=terms_agree]");n.on("keyup change",(function(){t.attr("disabled",!Object(s.e)(i()(this).val())||!a.is(":checked"))})),a.on("change",(function(e){t.attr("disabled",!e.target.checked||!Object(s.e)(n.val()))})),e.on("submit",(function(t){var n=this;t.preventDefault();var a=i()(this).find('button[type="submit"]'),s=i()(this).find(".js-error");i.a.ajax({url:i()(this).attr("action"),method:"post",data:i()(this).serialize(),beforeSend:function(){a.prop("disabled",!0),s.addClass("hide")},complete:function(){return a.prop("disabled",!1)},success:function(){i()('.js-open-modal[data-modal-id="subscribe"]').remove(),e.parents(".modal-container").find(".subscribe-modal__subtitle").addClass("hide"),i()(n).replaceWith(i()("<p/>",{html:"Вы успешно подписались",class:"subscribe-modal__success"}))}})}))}))},Vjb0:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("QdZy");i()(".js-ctf").each((function(e,t){i()(t).find(".js-swiper-ctf-speaker").each((function(){new s.a(this,{direction:"horizontal",autoHeight:!0,loop:!0,keyboardControl:!0,slidesPerView:1,spaceBetween:200,speed:700,pagination:{el:".js-swiper-ctf-speaker-pagination",type:"bullets",clickable:!0,bulletClass:"ctf-eighth-speakers-swiper__bullet",bulletActiveClass:"ctf-eighth-speakers-swiper__bullet_active"},navigation:{nextEl:".js-swiper-ctf-speaker-next",prevEl:".js-swiper-ctf-speaker-prev"},slideClass:"js-swiper-ctf-speaker-slide",wrapperClass:"js-swiper-ctf-speaker-wrapper"})}))}))},"Vl/P":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("a9sj"),o=function(e){return function(t){!function(e){e.preventDefault(),i()(e.currentTarget).closest(".js-poll-notification").hide()}(t);var n=i()(t.currentTarget).closest(".js-poll-notification"),a=n.data("notifications-defer-url"),o=n.data("notification-id");i.a.ajax({url:a,method:"POST",data:s.a.update({notification_id:o,action:e?"unforced":null})})}};i()(document).on("click",".js-poll-close-notify",o(!0)),i()(document).on("click",".js-poll-defer",o(!1)),i()(".js-notifications-block").each((function(){var e=i()(this);e.on("click",".js-notification-button",(function(e){e.preventDefault();var t=i()(this),n=i()(".js-notifications-block");t.attr("disabled",!0),i.a.ajax({url:t.data("url"),method:"POST",data:s.a.update({}),success:function(e){n.html(e.html)}})})),e.on("click",".js-process-notifications-batch",(function(e){e.preventDefault();var t=i()(this),n=t.data("action"),a=i()(".js-notifications-block"),o={action:n};t.attr("disabled",!0),i.a.ajax({url:t.data("url"),method:"POST",data:s.a.update(o),success:function(e){a.html(e.html),t.attr("disabled",!1)}})}))}))},WeMH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("J4zp"),i=n.n(a),s=n("EVdn"),o=n.n(s);function r(e,t){for(var n=o()('<form action="'.concat(e,'" method="post" hidden />')),a=0,s=Object.entries(t);a<s.length;a++){var r=i()(s[a],2),c=r[0],d=r[1];n.append(o()('<input type="hidden" name="'.concat(c,'" value="').concat(d,'">')))}n.appendTo(o()(document.body)).submit()}},XmJA:function(e,t,n){"use strict";var a=n("9oTK"),i=n.n(a);i.a.config({cancellation:!0,warnings:!1}),window.Promise=i.a;window.Promise},ZCEs:function(e,t,n){"use strict";var a=n("lSNA"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=n("lwsE"),c=n.n(r),d=n("EVdn"),l=n.n(d),u=n("sEfC"),h=n.n(u),p="/events/api/list/",f="near",m="subscribed",v="archive",g=n("wd/R"),b=n.n(g);b.a.locale("ru");var y=function(e,t){var n=e.link,a=e.type,i=e.title,s=e.date,o=e.teacher,r=e.image,c=b()(s);return"\n    <a href=".concat(n,' class="dod_new-event">\n      <div class="dod_new-event-content">\n        <div class="dod_new-event__type">\n          <div class="dod_new-type">\n            <div class="dod_new-type__text">').concat(a,'</div>\n            <div class="dod_new-type__underline"></div>\n          </div>\n        </div>\n        <div class="dod_new-event__title js-dod-new-event-title">\n          ').concat(i,'\n        </div>\n        <div class="dod_new-event-content__image" \n             ').concat(r?'style="background-image: url('.concat(r,');"'):"",'></div>\n        <div class="dod_new-event-content__cover"></div>\n        <div class="dod_new-event__bottom">\n          ').concat(t!==v?'<div class="dod_new-event__time">\n            <span class="dod_new-event__time-item">\n              <span class="dod_new-event__icon dod_new-event__calendar-icon"></span>\n              <span class="dod_new-event__date-text">'.concat(c.format("D MMMM"),'</span>\n            </span>\n            <span class="dod_new-event__time-item">\n              <span class="dod_new-event__icon dod_new-event__clock-icon"></span>\n              <span class="dod_new-event__date-text">').concat(c.format("HH:mm"),"</span>\n            </span>\n          </div>"):"","\n          ").concat(t===m?'<div class="dod_new-event__subscribed">Вы записаны</div> ':"","\n          ").concat(t===f?'<div class="ctf-button ctf-button_fixed_160 ctf-button_yellow dod_new-event__participate">Посетить</div>':"","\n          ").concat(o?'\n                <div class="dod_new-event__speaker-wrapper '.concat(t===v?"dod_new-event__speaker-wrapper_archive":"",'">\n                  <span class="dod_new-speaker ').concat(t===v?"dod_new-speaker_archive":"",'">\n                    <span class="dod_new-speaker__photo" \n                        ').concat(o.photo?'style="background-image: url('.concat(o.photo,');"'):"","></span>\n                    <span class='dod_new-speaker__text'>\n                      - ").concat(t===v?"провел":"ведет",' <span\n                      class="dod_new-online-translation__bold">').concat(o.fullname,"</span>\n                    </span>\n                  </span>\n                  ").concat(t===v?'<span class="dod_new-play-icon_yellow"></span>':"","\n                </div>\n              "):null,"\n          ").concat(t===v?'\n                <div class="dod_new-event__time-archive">\n                  <span class="dod_new-event__icon dod_new-event__calendar-icon"></span>\n                  <span class="dod_new-event__time-archive-text">Прошел '.concat(c.format("D MMMM")," в ").concat(c.format("HH:mm"),"</span>\n                </div>\n              "):"","\n        </div>\n      </div>\n    </a>")},w=o()((function e(t){var n=this,a=t.currentTab,s=void 0===a?f:a,o=t.currentType,r=void 0===o?null:o;c()(this,e),this.serializeResponse=function(e){return{objects:e.objects,page:e.page,pageCount:e.page_count}},this.showLoader=function(){n.isLoading=!0,n.$loader.addClass("dod_new-loader-wrapper_visible")},this.hideLoader=function(){n.isLoading=!1,n.$loader.removeClass("dod_new-loader-wrapper_visible")},this.loadEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tab,a=void 0===t?n.currentTab:t,s=e.pageToLoad,o=void 0===s?n.currentPage:s,r=e.currentType,c=void 0===r?n.currentType:r;n.isLoading||(n.showLoader(),l.a.ajax({url:p,data:i()({page:o,dod_type:c},a,!0),success:function(e){var t=n.serializeResponse(e),i=t.objects,s=t.page,r=t.pageCount;1===o&&(n.$eventListRoot[0].innerHTML=""),i.forEach((function(e){n.$eventListRoot.append(y(e,a))})),s===r?n.canLoadMore=!1:(n.canLoadMore=!0,n.currentPage=s),n.hideLoader()},error:function(e){n.canLoadMore=!1,n.hideLoader()},dataType:"json"}))},this.loadMore=function(){n.canLoadMore&&n.loadEvents({pageToLoad:n.currentPage+1})},this.$loader=l()(".js-dod_new-loader-wrapper"),this.$eventListRoot=l()(".js-dod_new_events"),this.currentTab=s,this.currentType=r,this.canLoadMore=!0,this.isLoading=!1,this.currentPage=1}));l()(".js-dod-new-events-root").each((function(e){var t=l()(this).data("tab"),n=l()(this).data("type"),a=new w({currentTab:t,currentType:n});l()(this).find(".js-dod_new_events-dropdown").on("click",(function(e){l()(this).hasClass("dod_new-events-dropdown_opened")?l()(this).removeClass("dod_new-events-dropdown_opened"):l()(this).addClass("dod_new-events-dropdown_opened")})),l()(window).scroll(h()((function(){l()(window).scrollTop()>=l()(document).height()-l()(window).height()-80&&a.loadMore()}),250))}))},ZP7H:function(e,t){e.exports=window.poscreditServices},a9sj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("lwsE"),i=n.n(a),s=n("W8MJ"),o=n.n(s),r=n("dCQj"),c=function(){function e(){i()(this,e)}return o()(e,null,[{key:"getCsrf",value:function(){return r.a.csrf}},{key:"update",value:function(e){return(e=e||{}).csrfmiddlewaretoken=r.a.csrf,e}},{key:"updateUrlEncoded",value:function(e){var t="csrfmiddlewaretoken=".concat(r.a.csrf);return e?e+"&".concat(t):t}}]),e}()},aYiT:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("Ec+9");i()(".js-faq").each((function(){var e=i()(this);e.on("click",".js-tab",(function(){e.find(".js-faq-section-name").text(this.innerHTML)})),Object(s.a)(e)}))},cTc2:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("bNQv"),o=n.n(s);i()(".js-polls").each((function(){var e=i()(this);e.find(".js-answer").on("change",(function(){var t=i()(this).attr("data-question-id");e.find('.js-answer[data-question-id="'.concat(t,'"]')).each((function(){var t=i()(this).val(),n=e.find('[data-answer-subanswers="'.concat(t,'"]'));i()(this).prop("checked")?n.removeClass("hide"):n.addClass("hide")}))})),e.find(".js-show-all").on("click",(function(){i()(this).parents(".container__col").remove(),e.find(".js-testing-question").removeClass("hide")})),e.on("submit",(function(e){var t=i()(e.target);if(t.data("enable-empty-form-validation")){var n=t.serializeArray(),a=!0;o()(n,(function(e){"csrfmiddlewaretoken"!==e.name&&""!==e.value&&null!==e.value&&void 0!==e.value&&(a=!1)})),a&&(e.preventDefault(),t.find(".js-empty-form-error").removeClass("hide"))}}))}))},dCQj:function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i);try{a=JSON.parse(s()('meta[name="next"]').attr("content")).value}catch(e){a=null}t.a={bodyWrapper:s()(".body-wrapper"),body:s()(".body"),document:s()(document),bodyTag:s()("body"),htmlTag:s()("html"),isAuth:"true"===s()('meta[name="auth"]').attr("content"),isPhoneConfirmed:"true"===s()('meta[name="phone_confirmed"]').attr("content"),csrf:s()('meta[name="csrf"]').attr("content"),next:a,origin:"".concat(location.protocol,"//").concat(location.host),isTouch:"ontouchstart"in window||window.navigator&&navigator.maxTouchPoints}},dwZm:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n("23Vx"),i=n("Mm9G"),s=n("Rv95");function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"student";e.find('.js-tab[data-tab-id="'.concat(t,'"]')).click(),Object(s.a)(n)}e(document).on("click",".js-slide",(function(t){e(this);var n=e(e(this).attr("data-slide"));"opened"!==n.attr("data-slide")?(n.slideDown(300),n.attr("data-slide","opened")):(n.slideUp(300),n.attr("data-slide","closed"))})).on("click",".js-toggle",(function(t){var n=e(this),a=e(this).attr("data-selector"),i=n.attr("data-tc")||"hide";(a?n.find(a):n).toggleClass(i)})).on("click",".js-tab",(function(t){if(!t.target.classList.contains("js-tab-ignore")){t.target.classList.contains("js-tab-not-prevent")||t.preventDefault();var n=e(this),s=e(this).parents(".js-tabs"),o=e(this).parents(".js-tabs-scroller");0===o.length&&(o=s);var r=s.find(e(this).attr("data-linked-tabs")),c=s.attr("data-ac")||"tab_active",d=s.attr("data-not-save-search"),l=function(){var t=n.attr("data-href");t&&(t=t.trim());var a="".concat(t).concat(d?"":location.search),l=!1;if(t&&t!==location.pathname){if(!window.history||!window.history.pushState)return void(location.href=a);l=!0}if(s.find(".js-tab").removeClass(c),n.addClass(c),r.addClass(c),s.attr("data-hide")&&e("".concat(s.attr("data-hide"))).addClass("hide"),s.attr("data-hidden")&&e("".concat(s.attr("data-hidden"))).addClass("hidden"),n.attr("data-hide")&&e("".concat(n.attr("data-hide"))).addClass("hide"),n.attr("data-hidden")&&e("".concat(n.attr("data-hidden"))).addClass("hidden"),n.attr("data-show")&&e("".concat(n.attr("data-show"))).removeClass("hide hidden"),n.attr("data-name")&&s.find('[name="'.concat(n.attr("data-name"),'"]')).val(n.attr("data-value")),n.attr("data-tab-centered")){var u=o.width()/2,h=n[0].offsetLeft+n.width()/2-u;o.animate({scrollLeft:h},300)}if(l){window.history.pushState({mode:n.attr("data-mode")},null,a),i.a.yaMetrika.hit(location.pathname);var p=new CustomEvent("tabsPushState",{detail:{href:t,mode:n.attr("data-mode")}});document.dispatchEvent(p)}try{var f=n.attr("data-json"),m=new CustomEvent("tabs:change",{detail:{data:f?JSON.parse(f):null}});document.dispatchEvent(m)}catch(e){console.warn(e)}},u=e(n.attr("data-scroll-to"));u.length>0?Object(a.a)(u,{speed:200,afterScroll:function(){return l()}}):l()}}))}).call(this,n("EVdn"))},futI:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("lwsE"),l=n.n(d),u=n("W8MJ"),h=n.n(u),p=new(function(){function e(){l()(this,e),this._loaded={}}return h()(e,[{key:"load",value:function(e){var t=this;return new Promise((function(n,a){if(void 0!==t._loaded[e])t._loaded[e].loaded?n():t._loaded[e].callbacks.push(n);else{t._loaded[e]={loaded:!1,callbacks:[n]};var i=document.createElement("script");i.src=e,i.async=!0,i.onload=function(){t._loaded[e].loaded=!0;var n=t._loaded[e].callbacks;for(var a in n)n[a].call()},i.setAttribute("data-external",!0),document.body.appendChild(i)}}))}}]),e}());c()(".js-map").each(o()(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.load("//api-maps.yandex.ru/2.1/?lang=ru_RU");case 2:ymaps.ready((function(){var e=[55.797286,37.553055],n=new ymaps.Map(t,{center:e,zoom:15,controls:[]},{searchControlProvider:"yandex#search"});n.geoObjects.add(new ymaps.Placemark(e,{iconCaption:"Нарышкинская аллея, д. 5, стр. 2"},{preset:"islands#greenDotIconWithCaption",iconColor:"#FF3333"})),n.behaviors.disable("scrollZoom"),n.behaviors.disable("multiTouch")}));case 3:case"end":return e.stop()}}),e)}))))},igiR:function(e,t,n){"use strict";function a(){var e=document.getElementById("meta-csrf");return e?e.getAttribute("content"):""}n.d(t,"a",(function(){return a}))},izuR:function(e,t){e.exports='<div class="question-vote__variants js-dislike-variants hide-soft">\n    <label class="radio radio_size-sm radio_vertical-center question-vote__variant">\n        <input type="radio" name="reason" value="mistake">\n        <span class="radio__label">опечатка</span>\n    </label>\n    <label class="radio radio_size-sm radio_vertical-center question-vote__variant">\n        <input type="radio" name="reason" value="wording">\n        <span class="radio__label">неоднозначная формулировка</span>\n    </label>\n    <label class="radio radio_size-sm radio_vertical-center question-vote__variant">\n        <input type="radio" name="reason" value="simple">\n        <span class="radio__label">ответ легко гуглится</span>\n    </label>\n    <label class="radio radio_size-sm radio_vertical-center question-vote__variant">\n        <input type="radio" name="reason" value="dich">\n        <span class="radio__label">слишком сложно</span>\n    </label>\n</div>'},jyKj:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return v}));var a=n("bNQv"),i=n.n(a),s=n("wd/R"),o=n.n(s);function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function c(e,t,n,a){var i=e%10,s=e%100;return 1===i&&11!==s?t:i>=2&&i<=4&&(s<10||s>=20)?n:a}function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function l(e,t){return null===t?e="".concat(e,"(а)"):"f"===t&&(e="".concat(e,"а")),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.linkProcessor;return(e||"").replace(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+)[^(.(\s|$))])/gi,(function(e,t,a){var i=a;return i.match("^https?://")||(i="http://".concat(i)),"function"==typeof n&&(i=n(i)),t+'<a target="_blank" rel="nofollow noopener nofollow" href="'.concat(i,'">').concat(a,"</a>")}))}function h(e,t,n){var a="(".concat(t,")((.|[\n\r])+?)(").concat(t,")");return e.replace(new RegExp(a,"mgi"),(function(e,t,a){return n(a)}))}function p(e){var t=c(e,"байт","байта","байтов");return i()(["КБ","МБ","ГБ"],(function(n){e>1024&&(e/=1024,t=n)})),{value:e=e<10?Math.round(10*e)/10:Math.round(e),suffix:t}}function f(e,t){return null==e?"":(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||void 0===t?"<br />":"<br>")+"$2")}function m(e,t,n){return[e,t].map((function(e){return!e||e instanceof o.a||(e=e instanceof Date?o()(e):void 0),e})),t&&e&&0!==t.diff(e,"days")?"".concat(e.format(n)," - ").concat(t.format(n)):t||e?"".concat((e||t).format(n)):void 0}function v(e,t){var n="";return e&&(n+=e.trim()),t&&(n&&(n+=" "),n+=t.trim()),n}},kwaH:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=(n("zPVu"),i()(".drawer"));s.each((function(){var e=this;i()(this).find(".drawer-nav").length>0&&(i()(this).drawer({iscroll:{mouseWheel:!0,scrollbars:!1,preventDefault:!1}}),i()(this).find(".js-open-drawer").click((function(){document.body.classList.add("overflow-hidden"),i()(e).drawer("open")})),i()(this).find(".js-close-drawer").click((function(){i()(e).drawer("close"),document.body.classList.remove("overflow-hidden")})))})),i()(document).on("click",(function(e){var t="header2-menu__item_dropdown",n="header2-menu__item_open",a=i()(".".concat(n)),o=i()(e.target),r=!1;o.hasClass(t)||o.parents(".".concat(t)).length>0?(o.hasClass(t)||(o=o.parents(".".concat(t))),o.toggleClass(n),a.not(o).removeClass(n),r=!0):a.length>0&&(a.removeClass(n),r=!0),r&&s.each((function(e,t){t.iScroll.refresh()}))})).on("mouseenter",".js-menu-subdropdown-trigger",(function(){var e=i()(this),t="header2-menu__subdropdown-wrapper_open",n=e.closest(".js-menu-subdropdown-wrapper");n.addClass(t),n.on("mouseleave",(function(){n.removeClass(t)}))}))},l1BO:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n("MVZn"),i=n.n(a),s=n("bNQv"),o=n.n(s),r=n("vDqi"),c=n.n(r),d=n("igiR"),l=c.a.CancelToken;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.toLowerCase(),s=l.source();return n.cancelToken=s.token,new window.Promise((function(t,o,r){c()(i()({method:a,url:e},n)).then((function(e){200!==e.status?o(e):t(e.data||e)}),(function(e){return o(e)})),r((function(){s.cancel()}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a.headers||(a.headers={}),i){if(!(n instanceof FormData)){var s=new FormData;o()(n,(function(e,t){void 0!==e&&s.append(t,e)})),n=s}Object.assign(a.headers,{"Content-Type":"multipart/form-data"})}return Object.assign(a.headers,{"X-CSRFToken":Object(d.a)(),"X-Requested-With":"XMLHttpRequest"}),"GET"===t&&(a.params=n),null!==a.data&&void 0!==a.data||"GET"===t||(a.data=n),u(e,t,a).then((function(e){return{response:e}})).catch((function(e){return{error:e}}))}},lmWj:function(e,t,n){"use strict";t.a={fcm:{apiKey:"AIzaSyAmMbmwrRzYkyQiSI6LrPo0k8UTqXAhPNw",authDomain:"otusru.firebaseapp.com",databaseURL:"https://otusru.firebaseio.com",projectId:"otusru",storageBucket:"otusru.appspot.com",messagingSenderId:"1085758460625",appId:"1:1085758460625:web:7abb0829f336227e736bf0"}}},mDGk:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-greenlight").each((function(){i()(this).find(".js-about .js-question-vote").questionVote()}))},mk1x:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=(n("muFD"),n("wf1W"),n("K+ji"),n("a9sj")),o=n("/kyj"),r=n("dCQj"),c=n("S/a7");i()(".js-online-course").each((function(){var e=i()(this),t={onContentInit:function(){e.find(".js-online-test").each((function(){var t=i()(this),n=t.find(".js-online-check"),a=t.find(".js-online-test-result-block");n.on("submit",(function(t){t.preventDefault(),i.a.ajax({url:"/online/check/",type:"POST",data:i()(this).serialize(),beforeSend:function(){n.find('[type="submit"] .js-loader').removeClass("hide")},success:function(t){t.data;e.find(".js-class.online__stage-menu-item_active").trigger("click")}})})),t.find(".js-online-reset").on("click",(function(){a.addClass("hide"),n.removeClass("hide"),n.trigger("reset")})),t.find(".js-question-vote").questionVote()}))}};function n(e,t){i()(t).addClass("".concat(e,"_active")).siblings().removeClass("".concat(e,"_active"))}function a(e){var n=i()(".js-online-lesson");i()(n).html(e);var a=n.find(".js-online-pass").get(0);a&&a.addEventListener("submit",l(a)),n.find(".js-class").each((function(){i()(this).hasClass("online__stage-menu-item_disable")||i()(this).on("click",d(i()(this)))})),n.find(".js-media-player").mediaPlayer(t),n.find("[data-comments]").comments()}function d(e){return function(){n("online__stage-menu-item",e),i.a.ajax({url:"/online/lesson/",data:{id:i()(e).attr("lesson_id"),course_id:i()(e).attr("course_id")},success:function(e){a(e.data.html)}})}}function l(e){return function(t){t.preventDefault();var o=parseInt(i()(e).attr("lesson"));i.a.ajax({url:"/online/pass/",type:"POST",data:s.a.update({id:o,course_id:i()(e).attr("course_id")}),success:function(e){var t=e.data;n("online__nav-item",i()(".js-stage[module_id=".concat(t.module_id,"]"))),a(t.html)}})}}e.find(".js-media-player").mediaPlayer(t),e.find("[data-comments]").comments(),window.history&&"scrollRestoration"in history&&(window.history.scrollRestoration="manual",window.addEventListener("load",(function(){window.scrollTo(0,0)}))),i()(this).find(".js-stage").each((function(){var e=this;i()(this).on("click",(function(t){t.preventDefault(),n("online__nav-item",i()(e)),i.a.ajax({url:"/online/module/",data:{id:i()(e).attr("module_id"),course_id:i()(e).attr("course_id")},success:function(e){a(e.data.html)}})}))})),i()(this).find(".js-class").each((function(){i()(this).hasClass("online__stage-menu-item_disable")||i()(this).on("click",d(i()(this)))})),i()(this).find(".js-online-pass").each((function(){i()(this).on("submit",l(i()(this)))})),i()(this).find(".js-online-course-pay").each((function(){var e=function(){location.href="".concat(r.a.origin).concat(location.pathname,"#payments"),location.reload()};i()(this).on("click",(function(){r.a.isAuth?(c.a.open("online-payment"),location.hash="#payments",c.a.addCloseCallback("online-payment",(function(){return location.hash=""}))):(c.a.open("new-log-reg",{flags:"noReload"}),i()(document).one("otus:success-auth otus:success-registration",e))}))})),r.a.isAuth&&-1!==location.hash.indexOf("payments")&&i()(this).find(".js-online-course-pay").trigger("click"),i()(this).find(".js-partner-apply-online").each((function(){i()(this).on("submit",(function(e){e.preventDefault();var t=i()(this),n=t.find('[name="code"]'),a=t.find('[name="submit"]');i.a.ajax({url:t.attr("action"),method:"post",data:t.serialize(),beforeSend:function(){n.attr("disabled",!0),a.attr("disabled",!0)},complete:function(e){var t=e.responseJSON.data;n.attr("disabled",!1),a.attr("disabled",!1),"ok"===t.status?(location.href="".concat(r.a.origin).concat(location.pathname,"#payments"),location.reload()):o.a.error({text:"Промокод не найден",timeout:2e3})}})}))}))}))},mpas:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("S/a7"),o=n("0JBz"),r=n.n(o),c=n("dwZm"),d=n("dCQj"),l=n("rgB7");i()(".js-teachers-invite").each((function(){var e=i()(this);e.on("change",".js-ti-file-input",(function(e){var t=i()(this),n=this.id,a=t.closest("form"),s=a.find(".js-ti-file-name[data-info-for='".concat(n,"']")),o=a.find(".js-ti-file-drop[data-info-for='".concat(n,"']"));s.text(this.files[0].name),s.show(),o.show()})),e.on("click",".js-ti-file-drop",(function(){var e=i()(this),t=e.closest("form"),n=e.attr("data-info-for"),a=t.find("#".concat(n)),s=t.find(".js-ti-file-name[data-info-for='".concat(n,"']"));a.val(""),s.text(""),s.hide(),e.hide()})),i()(".js-teachers-invite-button").on("click",(function(e){var t=this;if(d.a.isAuth)s.a.open("teacher-enrollment");else{e.preventDefault();var n=s.a.getModal("new-log-reg");s.a.addAjaxCallback("new-log-reg",(function(){Object(c.a)(n,"register","teacher"),n.find(".js-registration").append("<input name='url' value=".concat(i()(t).data("url"),' class="hide"/>'))})),s.a.open(n)}}))})),i()(".js-teachers-invite-form-anchor").each((function(){window.location.hash="send"})),i()(".js-teachers-invite-swiper").each((function(){var e,t=this,n=function(){window.innerWidth>l.ssm?e&&e.destroy():e||(e=new r.a(t,{direction:"horizontal",keyboardControl:!0,slidesPerView:1,nested:!0,pagination:{el:".swiper-pagination",type:"bullets"},preloadImages:!1,lazy:!0}))};n(),window.addEventListener("resize",n)}))},muFD:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("lwsE"),c=n.n(r),d=n("W8MJ"),l=n.n(d),u=n("EVdn"),h=n.n(u),p=n("8OJ3"),f=n("dY40"),m=n("zop6"),v=n("KEdX"),g=n("dCQj");f.a(p.a);var b,y=function(){function e(t){var n=this;c()(this,e);var a=h()(t).data("boomstream-src");this.player=Object(p.a)(t,{userActions:{hotkeys:!0},playbackRates:[.5,1,1.25,1.5,1.75,2]},(function(){n.removePrevButton=n.createButton(v.a,"-15 сек",n.rewind.bind(n)),n.removeNextButton=n.createButton(m.a,"+15 сек",n.forward.bind(n)),n.arrowClickBind=n.arrowClick.bind(n),document.addEventListener("keydown",n.arrowClickBind)})),a&&(this.player.boomstreamHls({disableSkin:!0}),this.player.src(a))}return l()(e,[{key:"componentWillUnmount",value:function(){this.player&&(this.player.dispose(),this.player=null),this.removePrevButton(),this.removeNextButton(),document.removeEventListener("keydown",this.arrowClickBind)}},{key:"arrowClick",value:function(e){switch(e.keyCode){case 37:this.rewind();break;case 39:this.forward()}}},{key:"createButton",value:function(e,t,n){var a=this.player.controlBar.addChild("button",{text:t});return a.el().innerHTML='<img src="'.concat(e,'" class="video-player-custom-button" width="24" height="24"/>'),h()(a.el()).on("touchstart click",n),function(){h()(a.el()).off("touchstart click",n)}}},{key:"seek",value:function(e){var t=this.player.currentTime()+e;t<0&&(t=0),this.player.currentTime(t)}},{key:"forward",value:function(){this.seek(15)}},{key:"rewind",value:function(){this.seek(-15)}}]),e}();(b=h.a).fn.mediaPlayer=function(e){e=e||{},b(this).each((function(){var t=b(this),n=b(this).find(".js-media-player-box");b(this).find(".js-media-player-item-download").on("click",(function(e){e.stopPropagation()})),"true"!==t.attr("data-inited")&&(t.attr("data-inited",!0),n.find("video.js-first-opened").each((function(){new y(this)})),t.on("click",".js-media-player-item",(function(a,s){var r=b(this).attr("data-id"),c=b(this).data("is-video");s=s||{},b(this).addClass("media-player__item_active").siblings().removeClass("media-player__item_active");var d=t.find('.js-media-player-content[data-id="'.concat(r,'"]'));n.html(d.html()),n.data("content-id",r),n.find("video").each(o()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new y(this);case 1:case"end":return e.stop()}}),e,this)})))),e.onContentInit&&e.onContentInit(r,t,c),e.onChange&&e.onChange(r,b(this),t,s.init||!1)})),!g.a.isTouch&&t.hasClass("")&&t.find(".js-media-player-items, .js-media-player-box").each((function(){var e=this,t=function(t){var n=t.deltaY||t.detail||t.wheelDelta;n<0&&0===e.scrollTop&&t.preventDefault(),n>0&&e.scrollHeight-e.clientHeight-e.scrollTop<=1&&t.preventDefault()};b(this).on("mouseenter",(function(){document.onwheel=t})),b(this).on("mouseleave",(function(){document.onwheel=null}))})),e.onContentInit&&e.onContentInit(null,t),e.onInit&&e.onInit(t),"true"===t.attr("data-without-default")&&t.find(".js-media-player-item.media-player__item_active").trigger("click",{init:!0}))}))}},pEzN:function(e,t,n){"use strict";var a=n("MVZn"),i=n.n(a),s=n("J4zp"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=n("S/a7"),l=n("23Vx"),u=n("/kyj"),h=n("a9sj");c()(".js-b2b-cabinet").each((function(){var e=c()(this),t=".js-actions";function n(){var n=e.find('[name="student_ids"]:checked').length,a=e.find('[name="object_id"]').val(),i=c()('input[name="object_type"]').val(),s=e.find(".js-actions-amount-loader");s.removeClass("hide");var o=e.find(".js-actions-amount");o.text(""),c.a.ajax({url:e.find(t).data("url"),method:"get",data:{count:n,object_id:a,object_type:i},success:function(e){o.text(e.data.amount)},complete:function(){s.addClass("hide")}})}c()("select#groups").unbind(),c()("select#groups").on("change",(function(){var e=c()("select#groups option:selected").data("type");"online"!==e&&(e="group"),c()('input[name="object_type"]').val(e)})),c()('select[name="action"]').on("change",(function(){var t=e.find(".js-actions-pre-discount");"enrol"===c()(this).val()?(c()(".agreement").hide(),t.hide()):"invoice"===c()(this).val()?(c()(".agreement").hide(),t.show()):(c()(".agreement").show(),t.show())})),e.on("change",".js-choose-all",(function(a){var i=e.find(".js-choose-all:checked").length>0;c()(this).closest("form").find('[name="student_ids"]').prop("checked",i),i?e.find(t).removeClass("hide"):e.find(t).addClass("hide"),n()})),e.on("change",'[name="student_ids"]',(function(a){var i=e.find('[name="student_ids"]:checked').length>0;i?e.find('[name="student_ids"]:checked').length===e.find('[name="student_ids"]').length&&e.find(".js-choose-all").prop("checked",!0):e.find(".js-choose-all").prop("checked",!1),i?e.find(t).removeClass("hide"):e.find(t).addClass("hide"),n()})),e.on("change",'[name="object_id"]',(function(){n()}));var a=location.hash;a.match(/empl_req_([0-9]+)/)&&Object(l.a)(a),e.on("change",".js-select-empl-status",(function(e){var t=c()(this),n=t.find("form"),a=t.find(".js-loader");a.height(n.height()),c.a.ajax({url:n.attr("action"),method:"post",data:n.serialize(),beforeSend:function(){n.addClass("hide"),a.removeClass("hide")},complete:function(){a.addClass("hide")},success:function(e){var t=e.status,a=e.html;"ok"===t&&n.replaceWith(a)}})})),e.on("submit",'[data-form-id^="company-students-actions"]',(function(e){var t=c()(this),n=t.find('select[name="action"] option:selected').data("action"),a=t.find('button[type="submit"]'),i=a.find(".js-loader"),s=t.serializeArray(),o={};s.map((function(e){var t=e.name,n=e.value;"student_ids"===t?o.student_ids?o.student_ids+=",".concat(n):o.student_ids=n:o[t]=n})),n&&(e.preventDefault(),c.a.ajax({url:n,method:"post",data:o,beforeSend:function(){a.prop("disabled",!0),i.removeClass("hide")},complete:function(){a.prop("disabled",!1),i.addClass("hide")},success:function(e){var t=e.data,n=(t.table,t.key),a=t.messages;if(a){var i='.js-b2b-cabinet-messages[data-key="'.concat(n,'"]');c()(i).html(a),c()("html,body").animate({scrollTop:c()(i).offset().top-80},"slow")}}}))})),e.on("click",".js-b2b-show-annex",(function(e){var t=d.a.getModal("b2b-cabinet-annex");d.a.open(t);var n=c()(".js-b2b-cabinet-annex-loader"),a=c()(".js-b2b-cabinet-annex");a.html(""),n.show(),c.a.ajax({url:c()(this).data("action"),method:"get",success:function(e){a.html(e),n.hide()}})})),e.on("submit",".js-b2b-cabinet-agreement-form",(function(e){e.preventDefault();var t=c()(this).find('button[type="submit"]'),n=t.find(".js-loader");c.a.ajax({url:c()(this).attr("action"),method:"post",data:c()(this).serialize(),beforeSend:function(){t.prop("disabled",!0),n.removeClass("hide")},complete:function(){t.prop("disabled",!1),n.addClass("hide")},success:function(e){var t=e.data,n=t.key,a=t.messages;a&&c()('.js-b2b-cabinet-messages[data-key="'.concat(n,'"]')).html(a)},error:function(){return u.a.error({text:"Произошла ошибка",timeout:2e3})}})})),e.on("click",".js-b2b-cabinet-students-detach",(function(){var e=c()(this),t=e.attr("data-student-detach-url");d.a.getModal(e.attr("data-modal-id")).find("form").attr("action",t)})),e.on("input",".js-b2b-companies-change",(function(t){c()(this);var n=this.value.toLowerCase(),a=c()(".js-b2b-companies-empty");e.find(".js-b2b-companies-item").each((function(){var e=0;-1===c()(this).text().toLowerCase().indexOf(n)?c()(this).hide():(c()(this).show(),e++),0===e?a.removeClass("hide"):a.addClass("hide")}))})),e.on("click",".js-b2b-student-invite",(function(){c()(this);var t=e.find(".js-loader");t.removeClass("hide"),c.a.ajax({url:c()(this).data("action"),method:"post",data:h.a.update({}),complete:function(){t.addClass("hide")},success:function(e){u.a.success({text:"Приглашение отправлено",timeout:2e3})},error:function(){u.a.error({text:"Произошла ошибка",timeout:2e3})}})})),e.on("click",".js-b2b-edit-students",(function(e){var t=c()(".js-doc-type").val(),n=c()("[name=agreement_id]"),a=n.find("option:selected").text();if("annex"===t&&null!==n.val()){if(a.length>5)if("№ОБР"!==a.substring(1,5))return;e.preventDefault();var i=d.a.getModal("change_student_info"),s=!1;d.a.open(i);var o='<div class="text_bold text_modal text text_block text_default text_modal-title">\n            Генерация документов</div>\n            <div class="text text_block text_pt-small text_default">\n            Введите дополнительную информацию для генерации документов</div><form id="students-submit" class="js-new-validation">',r=c()(".js-student");c.a.each(r,(function(e,t){var n=c()(t).attr("data-student-id"),a=c()(t).attr("data-phone");a&&(a=a.replace(/[-+ ]/g,""));var i=c()(t).attr("data-address");"None"===i&&(i=""),"None"===a&&(a=""),c()("input[data-student-id='".concat(n,"']")).is(":checked")&&(s=!0,o+='<div class="text text_block text_pt-small text_default text_modal-student">\n                        '.concat(t.innerText,'</div>\n                        <input class="new-input new-input_modal-size" data-student-id="').concat(n,'" name="fio" placeholder="ФИО" required value="').concat(t.innerText,'"/>\n                        <input class="new-input new-input_modal-input new-input_modal new-input_modal-size" data-student-id="').concat(n,'" name="student-phone" required type="number" placeholder="телефон" value="').concat(a,'"/>\n                        <input class="new-input new-input_modal new-input_modal-size" data-student-id="').concat(n,'" name="address" type="text" value="').concat(i,'" required placeholder="адрес"/></br></br>'))})),!0===s&&(o+="<input type='submit' class='js-b2b-edit-students-submit button button_md button_modal'>OK</input></form>");c()(".js-b2b-cabinet-annex-loader");c()(".js-b2b-cabinet-generate").html(o)}})),e.on("submit","#students-submit",(function(e){e.preventDefault();var t=c()("#student-form").serializeArray(),n=c()("[name='fio']"),a=c()("[name='student-phone']"),i=c()("[name='address']"),s={};c.a.each(i,(function(e,t){s[c()(t).attr("data-student-id")]={address:c()(t).val()}})),c.a.each(n,(function(e,t){s[c()(t).attr("data-student-id")].name=c()(t).val()})),c.a.each(a,(function(e,t){s[c()(t).attr("data-student-id")].phone=c()(t).val()}));for(var r=[],l=0,h=Object.entries(s);l<h.length;l++){var p=o()(h[l],2),f=p[0],m=p[1];m.id=f,r.push(m)}t.push({name:"students_data",value:r});var v={};t.forEach((function(e){if(v[e.name]){var t=[];t.push(v[e.name]),t.push(e.value),v[e.name]=t}else v[e.name]=e.value})),Array.isArray(v.student_ids)&&(v.student_ids=v.student_ids.join()),c.a.ajax({url:"/async/sap.document",method:"post",data:JSON.stringify(v),contentType:"application/json",complete:function(e){var t=e.responseJSON.data,n=c()(t.messages).text();"ok"!==t.status?u.a.error({text:n,timeout:5e3}):u.a.success({text:n,timeout:5e3})}}),d.a.close("change_student_info")})),e.on("click",".js-student-rk",(function(e){c.a.ajax({url:"/b2b-cabinet/student/rk/",method:"post",data:h.a.update({id:c()(this).data("id"),is_from_rk:c()(this).is(":checked")})})}))})),c()(".js-update-company-manager").each((function(){var e=c()(this).find(".js-update-company-manager-update");c()(this).find(".js-update-company-manager-update").click((function(){var t={};e.each((function(){"checkbox"===c()(this).attr("type")?t[c()(this).attr("name")]=c()(this).is(":checked"):t[c()(this).attr("name")]=c()(this).val()})),c.a.ajax({url:"/b2b-cabinet/managers/access/",method:"post",data:h.a.update(i()({},t))})}))}))},pemQ:function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i);n("K+ji");(a=s.a).fn.programWidget=function(){a(this).each((function(){var e=a(this);e.find(".js-hw-toggler").on("click",(function(){var t=a(this).attr("data-id"),n=a(this).attr("data-mode")||"closed",i=e.find('.js-hw-toggle[data-id="'.concat(t,'"]'));"closed"===n?(i.removeClass("hide"),a(this).attr("data-mode","opened"),a(this).addClass("button_collapse-open")):(i.addClass("hide"),a(this).attr("data-mode","closed"),a(this).removeClass("button_collapse-open"))})),e.find(".lesson-process__tab").on("click",(function(){var t=a(this),n=t.attr("data-screen-id");a(t).parents(".lesson-process__tabs").find(".lesson-process__tab").removeClass("lesson-process__tab_active"),a(t).addClass("lesson-process__tab_active"),e.find('[data-screen-id="'.concat(n,'"]')).addClass("lesson-process__screen_active").siblings().removeClass("lesson-process__screen_active")})),e.find(".js-question-vote").questionVote()}))},s()(".js-program-widget").programWidget()},q0pe:function(e,t,n){"use strict";(function(e){var t=n("RIqP"),a=n.n(t);e(".js-scroll").each((function(){var t=e(this),n=e(t.data("container")),i=e(t.find(".nav__item-pagination-container")),s=n.children().first(),o=t.find(t.data("page")),r=0,c=0,d=0,l=0,u=0;function h(){n.scrollLeft(0),c=0,r=parseInt(e(t.data("offset")).outerWidth()),t.find("".concat(t.data("page"),"[data-number!=0]")).remove(),o.removeClass("active"),d=n.width()-r,l=s.width(),u=Math.ceil((s.width()-r)/d),i.toggle(u>1),a()(Array(u-1)).map((function(e,t){var n=o.clone();n.attr("data-number",u-t-1),n.insertAfter(o)})),o.addClass("active")}o.attr("data-number",0),h(),e(window).resize((function(){h()})),e(this).find(".js-scroll-to").on("click",(function(){switch(e(this).data("direction")){case"left":c-=d;break;case"right":c+=d}c=(c=c<0?0:c)>l-d?l-d:c;var a=Math.floor(c/d);a*d!==c&&(c=(a+=1)*d),n.animate({scrollLeft:c},"300"),t.find(".js-scroll-to").removeClass(t.data("active")),e(this).addClass(e(this).data("active"))})),n.scroll((function(){var e;c=n.scrollLeft(),e=Math.ceil(c/d),t.find(t.data("page")).removeClass("active"),t.find("".concat(t.data("page"),"[data-number='").concat(e,"']")).addClass("active")}))}))}).call(this,n("EVdn"))},qE7Z:function(e,t,n){"use strict";var a=n("RIqP"),i=n.n(a),s=n("EVdn"),o=n.n(s),r=n("lwsE"),c=n.n(r),d=n("W8MJ"),l=n.n(d),u=function(){function e(t){var n=this;c()(this,e),this.onDocumentClick=function(e){n.container.contains(e.target)||n.close()},this.dropValue=function(){n.formElement.value="";var e=(i()(n.customOptionsContainer.querySelectorAll(".".concat(n.customOptionClass,"[data-empty]")))[0]||{}).getAttribute("data-empty")||n.defaultEmptyValue;n.presentationElement.innerHTML=n.generateEmptyContent(e)},this.container=t,this.formElementSelector=".js-custom-select-input",this.formElement=t.querySelector(this.formElementSelector),this.presentationElementSelector=".js-custom-select-presentation",this.presentationElement=t.querySelector(this.presentationElementSelector),this.customOptionsContainerSelector=".js-custom-select-options-container",this.customOptionsContainer=t.querySelector(this.customOptionsContainerSelector),this.customOptionClass="js-custom-select-option",this.optionSelectedClass=t.getAttribute("data-selected-option-class"),this.defaultEmptyValue="Выберите",this.init()}return l()(e,[{key:"init",value:function(){var e=this;this.container.addEventListener("click",(function(t){e.formElement.disabled||(t.target.classList.contains(e.customOptionClass)?e.onOptionClick(t):(t.preventDefault(),e.open()))})),this.container.addEventListener("option-drop",this.dropValue)}},{key:"onOptionClick",value:function(e){var t=this;e.preventDefault();var n=e.target,a=n.getAttribute("data-value"),s=n.getAttribute("data-empty")||this.defaultEmptyValue;this.formElement.value=a,this.presentationElement.classList.remove("input_error"),a?this.presentationElement.innerText=n.innerText:this.presentationElement.innerHTML=this.generateEmptyContent(s),i()(this.customOptionsContainer.querySelectorAll(".".concat(this.customOptionClass,".").concat(this.optionSelectedClass))).forEach((function(e){e.classList.remove(t.optionSelectedClass)})),n.classList.add(this.optionSelectedClass),this.close(),this.formElement.dispatchEvent(new CustomEvent("option-selected",{bubbles:!0,detail:{value:a}}))}},{key:"open",value:function(){document.addEventListener("click",this.onDocumentClick),document.addEventListener("close-all",this.close),this.show()}},{key:"close",value:function(){this.hide(),document.removeEventListener("click",this.onDocumentClick),document.removeEventListener("close",this.close)}},{key:"generateEmptyContent",value:function(e){return'<span class="placeholder">'.concat(e,"</span>")}},{key:"hide",value:function(){this.customOptionsContainer.classList.add("hide")}},{key:"show",value:function(){this.customOptionsContainer.classList.remove("hide")}}],[{key:"closeAll",value:function(){document.dispatchEvent(new CustomEvent("close-all"))}}]),e}(),h=function(){function e(t){var n=this;c()(this,e),this.onPickedClick=function(e){e.preventDefault();var t=e.target,a=t.getAttribute("data-value");(n.container.querySelector(".".concat(n.customChoiceClass,'[value="').concat(a,'"]'))||{}).checked=!1,t.remove()},this.onChoiceClick=function(e){var t=e.target,a=t.value;t.checked?n.addLabel(t.getAttribute("data-title"),a):n.removeLabel(a)},this.onDocumentClick=function(e){n.container.contains(e.target)||n.close()},this.clearAll=function(){n.customChoicePickedContainer.innerHTML="",i()(n.customChoiceModal.getElementsByClassName(n.customChoiceClass)||[]).forEach((function(e){e.checked=!1}))},this.container=t,this.presentationElementSelector=".js-custom-choice-presentation",this.presentationElement=t.querySelector(this.presentationElementSelector),this.customChoiceModalSelector=".js-custom-choice-modal",this.customChoiceModal=t.querySelector(this.customChoiceModalSelector),this.customChoicePickedContainerSelector=".js-custom-choices-picked-container",this.customChoicePickedContainer=t.querySelector(this.customChoicePickedContainerSelector),this.customChoiceContainerSelector=".js-custom-choice-options",this.customChoiceContainer=t.querySelector(this.customChoiceContainerSelector),this.customChoiceActionContainerSelector=".js-custom-choice-actions",this.customChoiceActionContainer=t.querySelector(this.customChoiceActionContainerSelector),this.customChoiceEmptyPlaceholderSelector=".js-custom-choice-empty",this.customChoiceEmptyPlaceholder=t.querySelector(this.customChoiceEmptyPlaceholderSelector),this.customChoiceClass="js-custom-choice-option",this.customChoicePickedClass="js-custom-choice-picked",this.customChoiceOkClass="js-custom-choice-ok",this.customChoiceClearClass="js-custom-choice-clear",this.init()}return l()(e,[{key:"init",value:function(){var e=this;this.container.addEventListener("click",(function(t){var n=t.target;e.presentationElement.hasAttribute("disabled")?t.preventDefault():n.classList.contains(e.customChoiceClass)?e.onChoiceClick(t):n.classList.contains(e.customChoicePickedClass)?e.onPickedClick(t):n.classList.contains(e.customChoiceOkClass)?e.close():n.classList.contains(e.customChoiceClearClass)?e.clearAll():e.open()})),this.container.addEventListener("drop-all",this.clearAll)}},{key:"addLabel",value:function(e,t){var n=document.createElement("button");n.setAttribute("data-value",t),n.innerText=e,n.className="lk-cv-block-choice__picked ".concat(this.customChoicePickedClass),this.customChoicePickedContainer.appendChild(n)}},{key:"removeLabel",value:function(e){(this.customChoicePickedContainer.querySelector(".".concat(this.customChoicePickedClass,'[data-value="').concat(e,'"]'))||{}).remove()}},{key:"processEmptyPlaceholder",value:function(){0===this.customChoiceContainer.childElementCount?(this.customChoiceEmptyPlaceholder.classList.remove("hide"),this.customChoiceActionContainer.classList.add("hide"),this.customChoiceContainer.classList.add("hide")):(this.customChoiceEmptyPlaceholder.classList.add("hide"),this.customChoiceActionContainer.classList.remove("hide"),this.customChoiceContainer.classList.remove("hide"))}},{key:"open",value:function(){document.addEventListener("click",this.onDocumentClick),document.addEventListener("close-all",this.close),this.show()}},{key:"close",value:function(){this.hide(),document.removeEventListener("click",this.onDocumentClick),document.removeEventListener("close",this.close)}},{key:"hide",value:function(){this.customChoiceModal.classList.add("hide")}},{key:"show",value:function(){this.processEmptyPlaceholder(),this.customChoiceModal.classList.remove("hide")}}],[{key:"closeAll",value:function(){document.dispatchEvent(new CustomEvent("close-all"))}}]),e}(),p=n("/kyj"),f=n("AMqi"),m=n("a9sj"),v=n("S/a7"),g=n("8nGR"),b=n.n(g),y="select",w="choice";function j(e,t){var n=e.find(".js-lk-password-validation [data-validation-name='".concat(t,"'] .lk-input-password__validation-item-indicator"));return{isValid:!1,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n[e?"addClass":"removeClass"](".js-lk-password-validation lk-input-password__validation-item-indicator_success"),this.isValid=e}}}o()(".js-lk-cv").each((function(){var e,t=o()(this);function n(e){var n=o()(e.currentTarget),a=o()(e.target),i=n.find(".js-custom-select-input").val(),s="".concat(n.attr("data-ajax-slave")).concat(i,"/"),r=n.attr("data-slave-root-selector"),c=(r&&n.closest(r)||t).find(n.attr("data-slave-selector")),d=n.attr("data-slave-type")||y;if(d===y){var l=c.find(".js-custom-select-input"),u=c.find(".js-custom-select-options");if(!i)return l[0].dispatchEvent(new CustomEvent("option-drop",{bubbles:!0})),l.val(""),void l.attr("disabled",!0);o.a.ajax({url:s,method:"get",beforeSend:function(){a.attr("disabled",!0),l.attr("disabled",!0)},success:function(e){u.html(e.data.options),l[0].dispatchEvent(new CustomEvent("option-drop",{bubbles:!0})),l.attr("disabled",!1),a.attr("disabled",!1)},error:function(){p.a.error({text:"Не удалось загрузить связанный список.",timeout:2e3})}})}else if(d===w){var h=c.find(".js-custom-choice-presentation"),f=c.find(".js-custom-choice-options");if(!i)return h[0].dispatchEvent(new CustomEvent("drop-all",{bubbles:!0})),void h.attr("disabled",!0);var m=new URL(window.location.origin+s);m.searchParams.append("prefix",h.attr("data-prefix")),m.searchParams.append("field_name",h.attr("data-field-name")),o.a.ajax({url:m.href,method:"get",beforeSend:function(){a.attr("disabled",!0),h.attr("disabled",!0)},success:function(e){h[0].dispatchEvent(new CustomEvent("drop-all",{bubbles:!0})),f.html(e.data.options),h.attr("disabled",!1),a.attr("disabled",!1)},error:function(){p.a.error({text:"Не удалось загрузить связанный список.",timeout:2e3})}})}}t.on("click",".js-add-other-skills",(function(e){e.preventDefault();var t=o()(this);t.hide(),t.closest(".js-add-other-skills-container").find(".js-add-other-skills-field").show()})),t.on("click",".js-still-works",(e=function(){var e=o()(this),t=e.closest(".js-still-works-container").find(".js-still-works-not"),n=t.find("input");e.prop("checked")?(t.addClass("hide"),n.removeAttr("required")):(t.removeClass("hide"),n.attr("required","true"))},t.find(".js-still-works").each((function(){e.bind(this)()})),e)),t.on("click",".js-show-cert-to-empl",(function(){o()(this).closest(".js-show-cert-to-empl-container").find(".js-show-cert-to-empl-label").text(this.checked?this.getAttribute("data-show"):this.getAttribute("data-not-show"))})),t.find(".js-lk-cv-custom-select").each((function(){new u(this)})),t.find(".js-lk-cv-custom-choice").each((function(){new h(this)})),t.on("formset-row-added",(function(e){var t=o()(e.target);o()(t).find(".js-lk-cv-custom-select").each((function(){new u(this)})),o()(t).find(".js-lk-cv-custom-choice").each((function(){new h(this)})),o()(t).find(".js-lk-cv-dependent-master").each((function(){this.addEventListener("option-selected",n)}))})),t.find(".js-lk-cv-dependent-master").each((function(){this.addEventListener("option-selected",n)}));var a=o()(this),i=a.find(".js-avatar"),s=a.find(".js-avatar-crop");s.on("load",(function(){v.a.open("avatar-cropper");var e=o()(window).width()-200,t=o()(window).height()-150,n=s.width()/s.height();s.height()>t&&(s.width(s.width()*t/s.height()),s.height(t)),n>=1&&s.width()>e&&(s.height(s.height()*e/s.width()),s.width(e)),s.cropper({background:!1,rotatable:!1,aspectRatio:1,zoomable:!1,guides:!1,center:!1,movable:!1})})),a.find(".js-avatar-file").each((function(){var e=this;b.a.event.on(e,"change",(function(t){var n=b.a.getFiles(t);e.value="",b.a.filterFiles(n,(function(e){return!!/^image/.test(e.type)||(alert("Файл не является изображением"),!1)}),(function(e){if(e.length){var t=e[0];s.cropper("destroy").height("initial").width("initial").attr("src",URL.createObjectURL(t))}}))}))})),a.on("click",".js-choose-crop",(function(){o()(this).prop("disabled");var e=s.cropper("getCroppedCanvas",{width:400,height:400}),t=new FormData;t.append("file0",Object(f.a)(e),"avatar.png"),o.a.ajax({url:"/async/media.upload",type:"POST",data:t,processData:!1,contentType:!1,complete:function(e){var t=e.status,n=e.responseJSON;if(200===t){v.a.close("avatar-cropper");var s=n.data[0];i.css({backgroundImage:"url(".concat(s.media.link,")")}),a.find('[name="avatar"]').val(s.attrs.file),i.removeClass("settings-photo__photo_empty"),a.find(".js-avatar-file").each((function(){var e=o()(this).parents(".js-formset");e.length>0&&(e.find(".js-formset-add").trigger("click"),e.find(".js-formset-row").last().find(".js-avatar-item").css({backgroundImage:"url(".concat(s.media.link,")")}),e.find(".js-formset-row").last().find(".js-avatar-item-path").val(s.attrs.file))}))}else p.a.error({text:"Ошибка загрузки",timeout:2e3})}})}))})),o()(".js-lk-cv-show").each((function(){var e=o()(this);e.on("change",".js-resume-visibility",(function(){var t=o()(this).parents(".js-resume-visibility-form"),n=t.find(".js-resume-visibility-content"),a=t.find(".js-resume-visibility-loader"),s="lk-cv-action-buttons__visibility-content_hide";o.a.ajax({url:t.attr("action"),method:t.attr("method"),data:m.a.updateUrlEncoded(t.serialize()),beforeSend:function(){n.addClass(s),a.removeClass("hide")},complete:function(){n.removeClass(s),a.addClass("hide")},success:function(t){i()(e.find(".js-resume-visibility")).forEach((function(e){return e.checked=t.data.is_hidden}))},error:function(){p.a.error({text:"Не удалось изменить видимость резюме.",timeout:2e3})}})}))})),o()(document).ready((function(){o()("#reset-form").each((function(){var e=o()(this),t=j(e,"len"),n=j(e,"one-upper"),a=j(e,"one-number"),i=j(e,"one-punctuation"),s=e.find("input[name=password]"),r=e.find("input[name=password_check]"),c=e.find("button[type=submit]"),d=function(){c.prop("disabled",!(t.isValid&&n.isValid&&a.isValid&&i.isValid&&s.val()===r.val()))};s.on("input",(function(){var e=o()(this).val();t.validate(e.length>=8),n.validate(/^(?=.*[A-Z])/g.test(e)),a.validate(/^(?=.*\d)/g.test(e)),i.validate(/^(?=.*[!"#$%&\\'()*+,-./:;<=>?@[\]^_`{|}~])/g.test(e)),d()})),r.on("input",(function(){d()}))}))}))},qHNK:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);n("a9fN");i.a.fn.fieldMask=function(){i()(this).each((function(){if(!i()(this).attr("data-js-mask-inited")){var e=i()(this).attr("data-js-mask");if(e){if("phone"===e){var t=function(e,t){return"8"===(e=e.replace(/[^0-9]/g,""))[0]&&(t.currentTarget.value="7"+e.substring(1),i()(t.currentTarget).trigger("input")),e.length<=11?"+0 000 000-00-009":e.length<13?"+00 000 000-00-009":e.length<14?"+000 000 000-00-009":"+000 000 000-00-00999"};i()(this).mask(t,{onKeyPress:function(e,n,a,i){a.mask(t.apply({},arguments),i)}})}else i()(this).mask(e);i()(this).attr("data-js-mask-inited",!0)}}}))},i()("[data-js-mask]").fieldMask()},rgB7:function(e,t,n){},sxTS:function(e,t,n){"use strict";var a=n("3CEA"),i=n("aI3+");a.a({dsn:"https://bd4665dd6ccf4ad58ceb340da9fb47c9@sentry.pulse.kts.studio/81",integrations:[new i.a.BrowserTracing],tracesSampleRate:1})},t56h:function(e,t,n){"use strict";var a=n("o0o1"),i=n.n(a),s=n("yXPU"),o=n.n(s),r=n("EVdn"),c=n.n(r),d=(n("1uyb"),n("8OJ3")),l=n("DlQD"),u=n.n(l),h=(n("wMS7"),n("NjoT")),p=(n("muFD"),n("a9sj")),f=new u.a.Renderer;f.link=function(e,t,n){return'<a target="_blank" href="'.concat(e,'" title="').concat(t||n,'">').concat(n,"</a>")};var m=2,v=3,g=4;function b(e,t,n){c.a.ajax({url:"/api/action.track",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({content_type:e,content_object_id:t,action:n})})}function y(e){return c.a.ajax({url:"/api/webinars.media.position.get",type:"get",contentType:"application/json; charset=utf-8",data:{media:e}}).then((function(e){return e.data}))}function w(e,t){c.a.ajax({url:"/api/webinars.media.position.update",type:"post",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({media:e,play_time:t})})}c()(".js-learning-markdown").each((function(){var e=c()(this);try{e.html(u()(e.text(),{renderer:f,gfm:!0,breaks:!0}),{ADD_ATTR:["target"]})}catch(e){console.error(e)}})),c()(".js-learning").each((function(){var e=c()(this);e.on("click",".js-learning-open",(function(t){t.preventDefault();var n,a=c()(this).attr("data-id"),s=c()('.js-learning-opened[data-id="'.concat(a,'"]')),r=function(e){return"lastView:lesson:".concat(e)};b("lessons.lesson",a,m),s.find(".js-media-player").mediaPlayer({onContentInit:(n=o()(i.a.mark((function e(t,n,a){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c()(n).find(".js-media-item-iframe").each((function(){c()(this).ready((function(){var e=!1;window.addEventListener("blur",(function(){e&&b("www.media",t,g)})),this.addEventListener("mouseover",(function(){e=!0})),this.addEventListener("mouseout",(function(){e=!1}))}))})),!(s=c()(n).find("video")).length){e.next=14;break}if(s.on("play",(function(){b("www.media",t,g)})),!a){e.next=10;break}return e.next=7,y(t);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:(o=e.t0)&&s.on("loadedmetadata",(function(){this.currentTime=o.play_time})),Object(h.a)(s.get(0),(function(e){w(t,e)}));case 14:n.find(".js-online-test").each((function(){n.on("submit",".js-online-test",(function(e){e.preventDefault();var t=c()(this),n=t.find(".js-online-check"),a=t.parents(".js-media-player-box");c.a.ajax({url:"/online/check/",type:"POST",data:n.serialize(),beforeSend:function(){n.find('[type="submit"] .js-loader').removeClass("hide")},success:function(e){var n=e.data.template;if(n){var i=a.data("content-id");c()('script.js-media-player-content[data-id="'.concat(i,'"]')).html(n),t.replaceWith(n)}}})})),n.on("click",".js-online-reset",(function(e){e.preventDefault();var t=c()(this).parents(".js-online-test"),n=t.find(".js-online-check"),a=t.find(".js-online-test-result-block");t.find(".js-question-vote").questionVote(),a.addClass("hide"),n.removeClass("hide"),n.trigger("reset")})),n.find(".js-question-vote").questionVote()}));case 15:case"end":return e.stop()}}),e)}))),function(e,t,a){return n.apply(this,arguments)}),onInit:function(e){e.on("click",".js-media-player-item",(function(){b("www.media",c()(this).attr("data-id"),v)})),c.a.ajax({url:"/kv/",method:"get",data:{key:r(e.attr("data-entity-id"))},complete:function(t){var n=(t.responseJSON||{}).data;e.find(".js-media-player-item").each((function(){var e=c()(this),t=parseInt(e.attr("data-ts"));(!n.value||t>n.value)&&c()('<div class="media-player__item-new"/>').prependTo(e.find(".js-signals"))}))}})},onChange:function(e,t,n,a){c.a.ajax({url:"/kv/",method:"post",data:p.a.update({key:r(n.attr("data-entity-id")),value:Math.round(Date.now()/1e3)}),success:function(){a||t.find(".media-player__item-new").remove()}})}}),s.toggleClass("hide"),s.hasClass("hide")&&s.find(".video-js").each((function(){Object(d.a)(this).pause()})),e.find(".js-learning-opened").not(s).each((function(){var e=c()(this);e.hasClass("hide")||(e.addClass("hide"),e.find(".video-js").each((function(){Object(d.a)(this).pause()})))}))}));var t=e.find(".js-lk-nav"),n=e.find(".lk-nav__item_active");t.length>0&&t[0].scrollTo(n)}));var j=location.hash.replace("#/","").split("_");if(2===j.length){var k=j[0],_=j[1];c()('.js-schedule-tab[data-show*="'+_+'"]').click(),c()('.js-learning-opened[data-id="'+k+'"]').removeClass("hide")}c()(".js-near").each((function(){var e=c()(".js-near").data("id"),t=c()(".js-learning-near").data("date"),n=c()(".js-learning-near").data("time"),a=new Date(t+" "+n),i=setInterval((function(){var t=new Date,n=a.getTime()-t.getTime();Math.round(n/6e4)<=15&&a.getDate()===t.getDate()&&c.a.ajax({url:"/learning/api/webinar-link/",method:"get",data:{lesson_id:e},success:function(e){var t=document.getElementsByName("csrfmiddlewaretoken")[0].value,n=e.data.schedule_id,a=e.data.schedule_link;null!==a&&(c()(".js-webinar-link").length||(c()("#webinar-link").append('<div class="js-webinar">    <div class="js-webinar-link '+(e.data.is_teacher?'">':'hide">')+'       <a class="text text_default" href='+a+'rel="nofollow noreferrer" target="_blank" title='+a+">"+a+'</a>       <p class="text text_default">            Пароль: <a class="js-copy dashed" data-message="Пароль скопирован" href="#" title='+e.data.schedule_pass+">"+e.data.schedule_pass+"</a>       </p>    </div>"+(e.data.is_teacher?"":'    <form method="post" class="js-get-webinar-link" action="/learning/visit/'+n+'/">        <input type="hidden" name="csrfmiddlewaretoken" value='+t+'>        <p class="pb10 text text_default red js-error hide"></p>        <button type="submit" class="button button_md js-link-get">            <span class="js-text">Получить ссылку</span>            <i class="ic js-loader ic-inline loader hide ic-loader"></i>        </button>\n    </form>')+"</div>"),c()(".js-webinar-not-available").hide()),clearInterval(i))},error:function(){clearInterval(i)}})}),1e4)}))},tFSC:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("0JBz"),o=n.n(s),r=n("rgB7");i()(".js-partners-swiper").each((function(){var e={};e[r.ssm]={slidesPerView:1},e[r.sm]={slidesPerView:2};new o.a(i()(this),{direction:"horizontal",keyboardControl:!0,slidesPerView:4,pagination:{el:".swiper-pagination",type:"bullets",dynamicBullets:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:e})}))},tRoj:function(e,t,n){"use strict";n.r(t),function(e){var t=n("EVdn"),a=n.n(t),i=(n("T1qB"),n("XmJA"),n("3WF5")),s=n.n(i),o=n("IRq7"),r=(n("23If"),n("bYS/"),n("XcRv"),n("qHNK"),n("a9sj")),c=n("S/a7"),d=n("Mm9G"),l=n("dCQj"),u=n("EZd+"),h=n("udBZ"),p=n("dwZm"),f=n("Rv95"),m=(n("23Vx"),n("pemQ"),n("wf1W"),n("TZIu"),n("Phq6"),n("AD/S"),n("2tFQ"),n("Bn4h"),n("kwaH"),n("SO0L"),n("sxTS"),n("5XJW"),n("yt88"),n("3FHO"),n("K+ji"),n("9UjW"),n("Sqat"),n("/nfk"),n("whkc"),n("q0pe"),n("9w+T"),n("Kk3x"),n("pEzN"),n("L52w"),n("futI"),n("2juj"),n("vmxH"),n("mDGk"),n("J8Fv"),n("SHaI"),n("t56h"),n("S+IZ"),n("JDN3"),n("Vl/P"),n("08k6"),n("cTc2"),n("N7l6"),n("UpGW"),n("Vjb0"),n("8ghW"),n("ZCEs"),n("mk1x"),n("uFds"),n("+EZc"),n("x0Vh"),n("17je"),n("aYiT"),n("mpas"),n("z/fw"),n("8A/k"),n("qE7Z"),n("tFSC"),n("zHH+"),n("uVP3"),n("4Jst"),n("9PHp"),n("HEQR"),n("ONNR")),v=n("FT4H"),g=n("/kyj");function b(){return function(e){var t=JSON.stringify(e);navigator.sendBeacon&&navigator.sendBeacon("/api/system.analytics",t)||fetch("/api/system.analytics",{body:t,method:"POST",keepalive:!0})}}window.jivo_onOpen=function(){d.a.sendBulk([{type:"vk-pixel",events:["contact"]},{type:"fbq-pixel",events:["Contact"]}])},Object(m.a)(b()),Object(m.b)(b()),Object(m.c)(b()),e.$=a.a,e.jQuery=a.a,l.a.htmlTag.addClass(l.a.isTouch?"touch":"no-touch"),l.a.htmlTag.removeClass(l.a.isTouch?"no-touch":"touch"),d.a.sendBulkOnLoad(window.metrics),d.a.init(),Object(v.a)(),a()('[data-toggle="datepicker"]').datepicker({format:"dd.mm.yyyy",weekStart:1,language:"ru-RU",monthsShort:["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]}),a()(".lesson-schedule-process__tab").each((function(){a()(this).click((function(e){var t=a()(e.currentTarget),n=t.attr("data-screen-id");a()(t).addClass("lesson-schedule-process__tab_active").siblings().removeClass("lesson-schedule-process__tab_active"),a()('[data-screen-id="'.concat(n,'"]')).addClass("lesson-schedule-process__screen_active").siblings().removeClass("lesson-schedule-process__screen_active")}))}));a()(".js-begin-assessment").click((function(e){var t=this;if(!l.a.isAuth){e.preventDefault();var n=c.a.getModal("new-log-reg");c.a.addAjaxCallback("new-log-reg",(function(){Object(p.a)(n,"register"),Object(f.a)(a()(t).attr("data-user-type")||"student"),n.find(".js-registration").append("<input name='url' value=".concat(a()(t).data("url"),' class="hide"/>'))})),c.a.open(n)}})),a()(".js-notifications").each((function(){a()(this).click((function(){var e=this,t=a()(this).attr("data-count"),n=a()(this).attr("data-endpoint");if(l.a.isAuth&&!a()(this).hasClass("js-opened")){var i=[];a()(this).addClass("js-opened"),a()(this).find("[data-uid]").each((function(e,t){i.push({uid:a()(t).attr("data-uid"),id:a()(t).attr("data-id")})})),a.a.ajax({method:"post",url:n,contentType:"application/json; charset=utf-8",dataType:"json",headers:{"X-CSRFToken":r.a.getCsrf()},data:JSON.stringify({items:i}),success:function(){var n=a()(e).find(".js-count");n.removeClass("header2-menu__icon-img_count-".concat(t)),t-i.length>0?n.addClass("header2-menu__icon-img_count-".concat(t-i.length)):n.removeClass("header2-menu__icon-img_count")}})}}))})),a()(".js-disable-on-submit").each((function(){a()(this).on("submit",(function(){a()(this).find('[type="submit"]').attr("disabled",!0)}))})),a()("[data-markup]").each((function(){var e=a()(this);new u.a({width:e.attr("data-markup-w"),height:e.attr("data-markup-h"),getWidth:function(){var t=window.innerWidth,n=parseInt(e.attr("data-max-width"));return n&&t>n&&(t=n),t},disableWidth:"true"===String(e.attr("data-disable-width")).toLowerCase(),disableHeight:"true"===String(e.attr("data-disable-height")).toLowerCase(),markupMedia:e.attr("data-markup-match-media")}).init()})),a()(".js-autocomplete").each((function(){var e=a()(this),t=e.attr("data-url");e.autocomplete({source:function(e,n){var i=e.term;a.a.getJSON("".concat(t,"?letters=").concat(encodeURIComponent(i)),(function(e){n(s()(e.data,(function(e){var t=e.title;return{label:t,value:t}})))}))}})})),a()(document).on("click",'[type="checkbox"][readonly]',(function(e){e.preventDefault()})).on("click","[data-js-mask]",(function(e){a()(this).fieldMask()})).on("click","a[data-open-in-window]",(function(e){e.preventDefault(),window.open(a()(this).attr("href"),"newwindow").blur()})).on("click",".js-share",h.a).on("click",".js-react-history",(function(e){if(window.history&&window.history.pushState){e.preventDefault();var t=a()(e.target),n=new CustomEvent("reacthistory",{detail:{href:t.attr("href")}});document.dispatchEvent(n);var i=t.attr("data-history-group");i&&a()('[data-history-group="'.concat(i,'"]')).each((function(){a()(this).removeClass(a()(this).attr("data-history-class")),t.attr("href").startsWith(a()(this).attr("href"))&&a()(this).addClass(a()(this).attr("data-history-class"))}))}})).on("click",".js-event-click",(function(){var e=a()(this).attr("data-event"),t=a()(this).attr("data-data");e&&a.a.ajax({method:"post",url:"/log/",data:r.a.update({event:e,data:t})})})).on("click",".js-copy",(function(e){e.preventDefault();var t=this,n=!1;if(a()(t).attr("data-el")&&(t=a()(a()(t).attr("data-el")).get(0)),a()(t).attr("data-copy")&&((t=a()("<input/>",{class:"copy-input",value:a()(t).attr("data-copy")})).appendTo(document.body),t=t.get(0),n=!0),"INPUT"===t.tagName.toUpperCase())t.select(),document.execCommand("copy");else if(document.selection){var i=document.body.createTextRange();i.moveToElementText(t),i.select(),document.execCommand("copy")}else if(window.getSelection){var s=window.getSelection(),o=document.createRange();o.selectNodeContents(t),s.removeAllRanges(),s.addRange(o),document.execCommand("copy"),s.removeAllRanges()}a()(this).attr("data-message")&&g.a.success({text:a()(this).attr("data-message"),timeout:2e3}),n&&t.remove()})).on("submit",".js-get-webinar-link",(function(e){var t=this;e.preventDefault();var n=a()(this).find('button[type="submit"]'),i=a()(this).find(".js-error"),s=a()(this).find(".js-text"),o=a()(this).find(".js-loader");a.a.ajax({url:a()(this).attr("action"),method:"post",data:a()(this).serialize(),beforeSend:function(){n.prop("disabled",!0),i.addClass("hide"),o.removeClass("hide"),s.html("Загрузка")},complete:function(){n.prop("disabled",!1),o.addClass("hide"),s.html("Получить ссылку")},success:function(e){var n=e.data;a()(t).parents(".js-webinar").find(".js-webinar-link").removeClass("hide"),a()(t).replaceWith(n.html)},error:function(e){var t=(e.responseJSON||{}).data;t?i.html({billing_error:"Вы не оплатили обучение",nearest_schedule_not_found:"Не найдено ближайшее занятие",user_course_not_found:"Группа не найдена",webinar_not_created:"Вебинар не создан",error_link_creation:"Ошибка создания ссылки"}[t.status]||"Неизвестная ошибка"):i.html("Неизвестная ошибка"),i.removeClass("hide")}})})).on("change",".js-select-redirect",(function(e){location.href=a()(e.currentTarget).val()})).on("click",".js-course-widget-button",(function(e){e.preventDefault(),a()(".js-course-widget-program").removeClass("hide")})).on("click",".js-send-reassign-email",(function(e){e.preventDefault();var t=a()(".js-final-email-input").val();a.a.ajax({url:a()(e.currentTarget).attr("href"),method:"post",data:r.a.update({email:t}),success:function(e){"ok"===e.status&&(a()(".js-reassign-email-sent").text(t),c.a.close("email-terms-update"),c.a.open("reassign-email-sent"))}})})).on("click",".js-sticky-banner-close",(function(e){e.preventDefault(),a()(".js-sticky-banner").addClass("sticky-banner_hidden"),window.localStorage.setItem("sticky-banner-close-time",(new Date).toUTCString())})),a()(document).ready((function(){var e=window.localStorage.getItem("sticky-banner-close-time"),t=(new Date).getTime();(null===e||t-new Date(e).getTime()>864e5)&&a()(".js-sticky-banner").removeClass("sticky-banner_hidden")})),a()(document).ready(o.a),a()(document).ready((function(){a()(".js-item-courses").each((function(){var e=a()(this),t=e.outerHeight();if(this.scrollHeight>t){var n=parseInt(window.getComputedStyle(this,null).getPropertyValue("line-height")),i=Math.floor(t/n),s="";e.find(".lessons__new-item-courses-unit").each((function(e){s+="".concat(s.length?"\n":"").concat(this.textContent),e>=i&&a()(this).hide()})),e.attr("title",s)}}))}))}.call(this,n("yLpj"))},uFds:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-partner").each((function(){var e=i()(this);e.find('[name="pay_type"]').on("change",(function(){i()(this).parents(".js-partner-settings").attr("data-pay-type",i()(this).val())})),e.on("click",".js-payment-detail",(function(){e.find('.js-payment-detail-target[data-target="'.concat(this.getAttribute("data-target"),'"]')).toggleClass("hide")})),e.on("click",".js-payment-part-detail",(function(){e.find('.js-payment-detail-part-target[data-target="'.concat(this.getAttribute("data-target"),'"]')).toggleClass("hide")}))}))},uVP3:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-resume-public__item").each((function(){var e=i()(".js-resume-public__item"),t=i()(".js-resume-visibility"),n=i()(".js-resume-public");t.change((function(e){e.target.checked?n.removeClass("hide"):n.addClass("hide")})),e.on("click",(function(a){e.is(".disable")?a.preventDefault():i.a.ajax({type:"post",url:n.attr("action"),data:n.serialize(),success:function(){n.addClass("hide"),t.prop("checked",!1)},error:function(){Notification.error({text:"Не удалось изменить видимость резюме.",timeout:2e3})}})}))})),i()(".js-tooltip").each((function(){i()(".js-tooltip").each((function(){i()(this).tooltip({value:"Для того, чтобы опубликовать резюме, пожалуйста, заполните все обязательные поля",position:"top",width:"400px"}),i()(this).mouseover((function(){i()(this).css("z-index",0)})),i()(this).mouseleave((function(){i()(this).css("z-index",5)}))}))}))},udBZ:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("jyKj"),o=n("dCQj");t.a=function(e){var t=i()(e.currentTarget);e.preventDefault();var n,a={href:t.attr("data-href"),type:t.attr("data-type"),title:t.attr("data-title")||i()("title").html(),description:t.attr("data-description")||i()('meta[property="description"]').attr("content"),imageUrl:t.attr("data-image-url")||i()('meta[property="og:image"]').attr("content")},r=a.href,c=a.type,d=a.title,l=a.description,u=a.imageUrl,h=screen.width/2-290,p=screen.height/2-210;/^http/.test(u)||(u=o.a.origin+u),r?(d="",l="",u=""):(r=location.href,d=encodeURIComponent(d),l=encodeURIComponent(l),u=encodeURIComponent(u));var f=document.createElement("a");f.href=r;var m=f.search.replace(/(^\?)/,"").split("&").map(function(e){return(e=e.split("="))[0]&&e[1]&&(this[e[0]]=e[1]),this}.bind({}))[0];switch(m.cache=Object(s.i)().toLowerCase(),r=encodeURIComponent("".concat(f.protocol,"//").concat(f.host).concat(f.pathname,"?").concat(function(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];a&&i&&n.push(encodeURIComponent(a)+"="+encodeURIComponent(i))}return n.join("&")}(m)).concat(f.hash)),c){case"vk":n="https://vk.com/share.php?url=".concat(r).concat(d?"&title=".concat(d):"").concat(l?"&description=".concat(l):"").concat(u?"&image=".concat(u):"");break;case"ok":n="https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=".concat(r).concat(d?"&st.title=".concat(d):"").concat(l?"&st.description=".concat(l):"").concat(u?"&st.imageUrl=".concat(u):"");break;case"tw":n="https://twitter.com/share?url=".concat(r).concat(l?"&text=".concat(l):"");break;case"tg":n="tg://msg_url?url=".concat(r);break;default:n=null}null!==n&&(n=n.replace(new RegExp("{url}","g"),encodeURIComponent(r)).replace(new RegExp("{title}","g"),encodeURIComponent(d)).replace(new RegExp("{description}","g"),encodeURIComponent(l)).replace(new RegExp("{imageUrl}","g"),encodeURIComponent(u)).replace(new RegExp("{redirectUri}","g"),o.a.origin+"/fb-share-end/"),window.open(n,"newwindow","width=580,height=420,top=".concat(p,",left=").concat(h)))}},vmxH:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("dCQj"),o=n("/kyj");i()(".js-gifts").each((function(){var e=i()(this).find(".js-gifts-icons"),t=i()(".gifts__content").get(0);s.a.isTouch||i()(document).on("mousemove",(function(t){var n=(t.clientX/window.innerWidth-.5)/.5,a=(t.clientY/window.innerWidth-.5)/.5;e.css("transform","translate3d(".concat(5*n,"px, ").concat(5*a,"px, 1px)"))})),i()(this).find(".js-gift-email").on("submit",(function(e){e.preventDefault();var n=i()(this).find('button[type="submit"]');i.a.ajax({method:"post",url:i()(this).attr("action"),data:i()(this).serialize(),beforeSend:function(){return n.prop("disabled",!0).html("Отправляем")},complete:function(){return n.prop("disabled",!1).html("Отправить промокод")},success:function(){o.a.show({text:"Подарок успешно отправлен!",timeout:2e3,className:"gifts__notification",container:t})},error:function(e){o.a.show({text:401===e.status?"Письмо можно отправлять на чаще чем раз в 5 секунд":"Ошибка отправки подарка",timeout:2e3,className:"gifts__notification",container:t})}})})),i()(this).find(".js-stars").each((function(){var e=i()(this).find(".js-star");requestAnimationFrame((function t(){var n=Math.ceil(Math.random()*(e.length-1)),a=e.get(n);i()(a).css("opacity","0"===i()(a).css("opacity")?1:0),setTimeout((function(){requestAnimationFrame(t)}),100)}))})),i()(this).on("click",".js-gifts-code",(function(){var e=i()(this).get(0);if(document.selection){var n=document.body.createTextRange();n.moveToElementText(e),n.select(),document.execCommand("copy")}else if(window.getSelection){var a=window.getSelection(),s=document.createRange();s.selectNodeContents(e),a.removeAllRanges(),a.addRange(s),document.execCommand("copy"),a.removeAllRanges()}o.a.show({text:"Промокод скопирован",timeout:5e3,className:"gifts__notification",container:t})}))}))},wf1W:function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i),o=n("a9sj"),r=n("jyKj"),c=n("/kyj");(a=s.a).fn.comments=function(){a(this).each((function(){var e=a(this),t=e.find(".js-comments");function n(){e.find(".js-edit-form").addClass("hide"),e.find(".js-comment-form").each((function(){var e=a(this);e.attr("data-comment-id")&&e.addClass("hide")}))}function i(i){var s=a(this),o=s.parents(".js-comment"),c=s.parents(".js-root-comment");i&&i.preventDefault(),a.ajax({url:s.attr("action"),type:"POST",data:a(this).serialize(),success:function(i){var d=i.data;if(n(),s.find('[name="comment"]').val(""),c.length>0)a(d.comment).appendTo(t);else{var l=o.attr("data-comment-id"),u=e.find('.js-comment[data-parent-comment-id="'.concat(l,'"]')).last();if(u.length>0){var h=u.attr("data-comment-id"),p=e.find('.js-comment[data-parent-comment-id="'.concat(h,'"]')).last();a(d.comment).insertAfter(p.length>0?p:u)}else a(d.comment).insertAfter(o)}var f=d.count;e.find(".js-blog-comments-counter").html("".concat(f," ").concat(Object(r.h)(f,"комментарий","комментария","комментарев")))}})}function s(e){e&&e.preventDefault();var t=a(this),i=t.parents(".js-comment");a.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(e){var t=e.data;"ok"===t.status&&(n(),i.find(".js-blog-comment-text").html(t.text))}})}e.hasClass("data-comments-init")||(e.addClass("data-comments-init"),e.on("click",".js-answer",(function(t){n();var i=a(this).attr("data-comment-id");e.find('.js-comment-form[data-comment-id="'.concat(i,'"]')).removeClass("hide")})).on("submit",".js-comment-form",i).on("keydown",'.js-comment-form [name="comment"]',(function(e){(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),i.call(a(this).parents(".js-comment-form")))})).on("click",".js-edit",(function(t){t.preventDefault(),n();var i=a(this).attr("data-comment-id");e.find('.js-edit-form[data-comment-id="'.concat(i,'"]')).removeClass("hide")})).on("submit",".js-edit-form",s).on("keydown",'.js-edit-form [name="comment"]',(function(e){(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),s.call(a(this).parents(".js-edit-form")))})).on("click",".js-vote-like",(function(e){e.preventDefault();var t=a(this),n=t.parents(".js-vote"),i=t.attr("data-url"),s=t.attr("data-id"),r=t.attr("data-value");t.hasClass("disabled")||a.ajax({url:i,type:"POST",data:o.a.update({value:r,id:s}),success:function(e){var a=e.data;if("ok"===a.status){n.find(".js-vote-like").removeClass("disabled"),t.addClass("disabled");var i=n.find(".js-votes");i.removeClass("blog-vote__item_neg","blog-vote__item_pos"),i.html(a.votes),a.votes>0?i.addClass("blog-vote__item_pos"):a.votes<0&&i.addClass("blog-vote__item_neg")}}})})).on("click",".js-cancel",n).on("change",".js-comments-notification",(function(){var e=this;a.ajax({url:a(this).attr("data-action"),method:"post",data:o.a.update({event:a(this).attr("data-event"),via:a(this).attr("data-via"),enabled:a(this).prop("checked")}),beforeSend:function(){return a(e).prop("disabled",!0)},complete:function(){return a(e).prop("disabled",!1)},success:function(){return c.a.success({text:"Настройки обновлены",timeout:2e3})}})})).on("click",".js-pin-comment",(function(){a.ajax({url:a(this).attr("data-action"),method:"post",data:o.a.update(),success:function(t){var n=t.data,a=e.find('[data-comment-id="'.concat(n.id,'"] .js-pin-comment'));n.is_pinned?a.addClass("post-info__pin_pinned"):a.removeClass("post-info__pin_pinned")}})})))}))},s()("[data-comments]").comments()},whkc:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=[{selector:"[data-required]",validate:function(e){return Boolean(e.val())},message:"data-required-message"}];i()(".js-validate").each((function(){var e=i()(this),t=i()(e.attr("data-validator-trigger")),n=e.find(".js-validate-error");t.on("click",(function(t){var a;s.some((function(t){var i=e.find(t.selector).first();return!(!i||t.validate(i))&&(a=e.attr(t.message),i.one("change",(function(){return n.addClass("hide")})),!0)}))&&(t.preventDefault(),t.stopPropagation(),a&&n.text(a),n.removeClass("hide"))}))}))},x0Vh:function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a),s=n("S/a7"),o=n("/kyj"),r=n("a9sj");i()(".js-schedule").each((function(){var e=i()(this),t=e.find("#js-schedule");t.on("change",(function(){window.location.replace("/schedule?".concat(t.serialize()))})),e.on("submit",".js-schedule-subscribe",(function(e){e.preventDefault(),e.stopPropagation();var t=i()(this),n=i()(e.target);i.a.ajax({url:t.attr("action"),method:"POST",data:r.a.update({}),beforeSend:function(){n.prop("disabled",!0)},complete:function(){n.prop("disabled",!1)},success:function(){t.replaceWith('<p class="text">Вы записались на вебинар</p>'),s.a.open(t.attr("data-modal-id"))},error:function(){o.a.error({text:"Произошла ошибка",timeout:2e3})}})}))}))},yt88:function(e,t,n){"use strict";var a,i=n("EVdn"),s=n.n(i);(a=s.a).fn.teachers=function(e){a(this).each((function(){var e=a(this);e.on("click",".js-teacher-icon",(function(t){var n=a(this).attr("data-id");t.preventDefault(),a(this).addClass("lesson-teachers__icon_active").siblings().removeClass("lesson-teachers__icon_active"),e.find(".js-teacher-item").addClass("hide"),e.find('[data-id="'.concat(n,'"]')).removeClass("hide")}))}))},s()(".js-teachers").teachers()},"z/fw":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);i()(".js-review").each((function(){var e=i()(this),t=e.next();e.appendTo(t)}))},"zHH+":function(e,t,n){"use strict";var a=n("EVdn"),i=n.n(a);function s(){var e=i()(this).val();if(i()(this).find(":selected").data("limit")>=0){i()("div#no-limit").hide(),i()("div#limit").show();var t="allpromo/?promocode_company_id="+e.toString();i()("#limit-btn").attr("href",t)}else i()("div#limit").hide(),i()("div#no-limit").show()}s.call(i()("#company_id")[0]),i()("#company_id").bind("change",s)},zae8:function(e,t){e.exports='<div class="editor">\n    <div class="editor__items">\n        <div class="editor__items-col editor__items-col_6">\n            <% if (!opts.controls || opts.controls.indexOf(\'size\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_font-size" data-action="font-size" title="Заголовки H1-H6"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'bold\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_font-bold" data-action="font-bold" title="Жирный"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'italic\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_font-italic" data-action="font-italic" title="Курсив"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'stroke\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_font-stroke" data-action="font-stroke" title="Зачеркнутый"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'list_marked\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_list-marked" data-action="list-marked" title="Маркированный список"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'list_numbered\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_list-numbered" data-action="list-numbered" title="Нумерованный список"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'hyperlink\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_hyperlink" data-action="hyperlink" title="Гиперссылка"></div>\n            <% } %>\n            <% if (!opts.controls || opts.controls.indexOf(\'image\') !== -1) { %>\n            <div class="editor__item editor__item_button editor__item_image" data-action="image">\n                <input type="file" name="file0" accept="image/*" title="Загрузить изображение"/>\n            </div>\n            <% } %>\n        </div>\n        <div class="editor__items-col editor__items-col_6 editor__items-col_right">\n            <% if (opts.disablePreview !== true) { %>\n            <div class="editor__item">\n                <a class="editor__preview js-preview" href="#">Предпросмотр</a>\n            </div>\n            <% } %>\n\n            <% if (opts.disableTypeSwitcher !== true) { %>\n            <div class="editor__switcher">\n                <div class="editor__switcher-label">HTML</div>\n                <div class="editor__switcher-item">\n                    <input type="checkbox" class="js-switch" name="mode" value="markdown"<%- opts.mode === \'markdown\' ? \' checked\': \'\' %>/>\n                </div>\n                <div class="editor__switcher-label">Markdown</div>\n            </div>\n            <% } %>\n        </div>\n    </div>\n\n    <div class="modal-container hide" data-modal-id="post-preview">\n        <div class="modal-wrapper modal-wrapper_dark js-modal-wrapper">\n            <div class="modal modal_slim editor-preview-modal">\n                <div class="modal__close modal__close_external ic ic-close-gray js-close-modal"></div>\n                <div class="blog-post-text markdown js-preview-content"></div>\n            </div>\n        </div>\n    </div>\n\n    <% if (!opts.controls || opts.controls.indexOf(\'hyperlink\') !== -1) { %>\n    <div class="modal-container hide" data-modal-id="editor-hyperlink">\n        <div class="modal-wrapper modal-wrapper_dark js-modal-wrapper">\n            <div class="modal modal_slim editor-hyperlink-modal">\n                <div class="modal__close modal__close_external ic ic-close-gray js-close-modal"></div>\n                <h2 class="text text_h2">Добавить ссылку</h2>\n                <form>\n                    <div class="input-line input-line_slim">\n                        <p class="text text_default">\n                            Текст\n                        </p>\n                        <input type="text"\n                               title="Текст"\n                               placeholder="Введите текст ссылки"\n                               class="input input_full js-hyperlink-text"/>\n                    </div>\n                    <div class="input-line input-line_slim">\n                        <p class="text text_default">\n                            Ссылка\n                        </p>\n                        <input type="text"\n                               title="Ссылка"\n                               placeholder="Введите адрес ссылки"\n                               class="input input_full js-hyperlink-link"/>\n                    </div>\n                    <div class="input-line input-line_last">\n                        <button type="submit" class="button button_md button_blue js-hyperlink-submit js-close-modal">\n                            Создать\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n    <% } %>\n</div>'},zop6:function(e,t,n){"use strict";t.a=n.p+"img/nextButton-light.dfcea.png"}});